<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Four Directions Nourishment Guide ‚Äî Code</title>
  
  <style>
    :root{
      /* Spring sky + sprouts */
      --bg: #f4fbff;
      --bg-grad: radial-gradient(1200px 800px at 20% -10%, #e7f6ff 12%, transparent 60%);
      --card:#ffffff;
      --ink:#22324a;
      --muted:#6b7a95;
      --accent:#78d6ff;      /* sky blue */
      --accent-ink:#073044;
      --focus:#7ddc83;       /* sprout green */
      --radius:18px;
      --shadow: 0 10px 30px rgba(22, 64, 96, .12);
      --pad: clamp(14px, 2.5vmin, 22px);
      --border: #dfe8f2;
    }

    /* Keep images fully visible (no cropping) */
    .cardlet .pic{
      width: 88px;
      height: 88px;            /* fixed square frame for a tidy grid */
      object-fit: contain;     /* <-- show full image, letterbox if needed */
      background:#f7fbff;      /* soft mat behind transparent edges */
      padding: 4px;            /* little breathing room */
      border-radius: 12px;
      display:block;           /* avoid inline gaps */
    }

    
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      /* dreamy watercolor vibe */
      background:
        radial-gradient(1200px 800px at 20% -10%, #f8fbff 10%, #f1f8ff 40%, transparent 60%),
        radial-gradient(900px 600px at 120% 10%, #f7fff9 0%, #f3fbf7 45%, transparent 70%),
        radial-gradient(800px 600px at -10% 110%, #fdf6ff 0%, #faf1ff 45%, transparent 70%),
        #fdfefe;
      color: var(--ink);
      line-height:1.5;
    }

    
    /* web-safe cursive header stack (no downloads) */
    header h1, h2, h3 {
      font-family: "Brush Script MT", "Lucida Handwriting", "Segoe Script", "Apple Chancery", cursive;
      letter-spacing: .2px;
    }
    
    /* header + cards keep the spring look */
    header{padding: var(--pad); display:flex; align-items:center; justify-content:space-between; gap:12px; border-bottom: 1px solid var(--border); background: linear-gradient(#ffffffdd, #ffffffcc); backdrop-filter: blur(6px);}
    header h1{margin:0; font-size: clamp(22px, 3vmin, 30px);}
    .app{max-width: 980px; margin: 0 auto; padding: calc(var(--pad) * 1.25) var(--pad) 120px;}
    .card{background: var(--card); border-radius: var(--radius); box-shadow: var(--shadow); padding: clamp(16px, 3vmin, 28px); border: 1px solid var(--border);}
    .hero{position:relative; text-align:center; padding: max(6vmin, 32px); overflow:hidden;}
    .hero::before{
      content:"";
      position:absolute; inset:-1px;
      background:
        radial-gradient(220px 140px at 15% 20%, #e8fff1 0%, #ffffff 60%),
        radial-gradient(240px 180px at 85% 15%, #e9f8ff 0%, #ffffff 60%),
        radial-gradient(200px 160px at 25% 80%, #f9f0ff 0%, #ffffff 60%);
      z-index:0; border-radius: inherit;
    }
    .hero::after{
      content:"";
      position:absolute; inset:0; opacity:.28; z-index:0;
      background-image: url('data:image/svg+xml;utf8,\
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 300">\
        <g fill="none" stroke="%237ddc83" stroke-width="2" stroke-linecap="round" opacity="0.8">\
          <path d="M60 260 C80 220, 90 210, 100 190" />\
          <path d="M100 190 c-10 -20, 10 -40, 30 -35 c15 5, 18 25, -10 30" />\
          <path d="M240 260 C260 220, 270 210, 280 190" />\
          <path d="M280 190 c-12 -18, 8 -38, 28 -33 c15 5, 18 23, -8 28" />\
          <path d="M420 260 C435 225, 450 210, 465 190" />\
          <path d="M465 190 c-12 -20, 14 -38, 32 -32 c14 5, 18 24, -8 28" />\
        </g>\
      </svg>');
      background-repeat:no-repeat;
      background-position: 10% 80%, 50% 85%, 85% 78%;
      background-size: 40% auto;
    }
    .hero > * {position:relative; z-index:1}
 
    .food-hero-wrap{
      display:flex;
      justify-content:center;
      margin: 14px 0 18px;   /* slightly larger top/bottom gap */
    }

    #foodHero{
      max-width: 100%;
      max-height: 260px;          /* was 180px ‚Äî bigger hero */
      width: auto;
      height: auto;
      object-fit: contain;
      border-radius: 12px;
      background: #f7fbff;
      padding: 8px;               /* a touch more mat */
      border: 1px solid var(--border);
      box-shadow: 0 8px 22px rgba(22,64,96,.10);
      display: none;              /* stays hidden until a src is set */
    }

   
    .cta{
      background: linear-gradient(180deg, var(--accent), #69c8f2);
      color: var(--accent-ink);
      border:none; border-radius:999px; padding:14px 20px; font-weight:700; cursor:pointer;
      box-shadow: 0 8px 20px rgba(120,214,255,.35);
    }
    .btn{padding:10px 14px; border-radius:999px; cursor:pointer; border:1px solid var(--border); background:#ffffff;}
    .btn.primary{background: linear-gradient(180deg, var(--focus), #66cf77); color:#063a19; border:none; box-shadow: 0 6px 18px rgba(104,210,125,.28);}
    .btn.ghost{background:transparent; border:1px solid #cfe2f3; color:#2b4f62;}
    
    input[type="number"]{
      width:110px; padding:10px; border-radius:12px; border:1px solid var(--border);
      background:#f7fbff; color: var(--ink);
    }
    
    .grid{display:grid; grid-template-columns:repeat(4,1fr); gap:12px; margin-top:16px;}
    .cardlet{
      background:#ffffff; border:1px solid var(--border); border-radius:14px; padding:12px;
      display:flex; flex-direction:column; align-items:center; gap:8px; min-height:110px;
      box-shadow: 0 6px 18px rgba(22,64,96,.06);
    }
    .cardlet.locked{opacity:.75; filter:saturate(.9)}
    .food-name{font-size:14px; text-align:center; min-height:2.4em;}
    .qty{width:90px; background:#f6fbff;}
    .pill{background:#ffffff; border:1px solid var(--border); border-radius:999px; padding:6px 10px; color:var(--muted); font-size:12px;}

    /* added item chips */
    .added-list{display:flex; flex-wrap:wrap; gap:6px; justify-content:center; min-height:22px; margin-top:6px}
    .chip{
      display:inline-flex; align-items:center; gap:6px;
      padding:4px 8px; border:1px solid var(--border); border-radius:999px;
      font-size:12px; background:#f8fbff; color:#35506a;
    }
    .chip .x{
      display:inline-block; width:18px; height:18px; line-height:16px; text-align:center;
      border-radius:999px; border:1px solid #d7e4f0; cursor:pointer; user-select:none;
    }
    .chip .x:hover{ filter:brightness(.96); }

    /* show one screen at a time */
    .screen { display: none; }
    .screen.active { display: block; }

    
    /* Pills & toolbar */
    .topbar{display:flex; align-items:center; justify-content:space-between; gap:8px; margin-bottom:8px;}
    .pill{background:#ffffff; border:1px solid var(--border); border-radius:999px; padding:6px 10px; color:var(--muted); font-size:12px;}
    .centered{display:flex; align-items:center; justify-content:center; gap:8px; margin:8px 0;}
    .dim{opacity:.75}
    .warn{color: var(--danger)}
    .toolbar {display:flex; gap:12px; flex-wrap:wrap; align-items:center; justify-content:space-between; margin-top:16px;}
    
    /* Modal */
    .modal{
      position: fixed;
      inset: 0;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 16px;                     /* breathing room on tiny screens */
      background: rgba(63,86,110,.35);
      backdrop-filter: blur(6px);
      z-index: 9999;
    }
    .modal.hidden{ display:none; }
    
    .modal-card{
      position: relative;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 18px;
      width: min(560px, 100%);
      max-height: 90vh;                  /* <-- keep it on-screen */
      overflow: auto;                    /* <-- scroll inside the card */
      padding: 22px;
      box-shadow: var(--shadow);
      overscroll-behavior: contain;      /* prevent scroll chaining to page */
    }
    
    /* cute top-right X */
    .modal-x{
      position:absolute;
      top:10px; right:12px;
      width:32px; height:32px;
      border:1px solid var(--border);
      border-radius:999px;
      background:#fff;
      line-height:30px;
      text-align:center;
      font-size:18px;
      cursor:pointer;
    }
    .modal-x:hover{ filter:brightness(0.97); }
    
    /* prettier multi-line paragraphs inside the modal */
    #disclaimerModal p.dim{
      white-space: pre-line;             /* honors your line breaks */
      margin: 10px 0 16px;
    }
    .btn.info-btn { padding:6px 10px; font-size:12px; }
        
    /* Food profile hero image */
    .food-hero-wrap{
      display:flex;                   /* center it */
      justify-content:center;
      margin: 10px 0 14px;
    }
    #foodHero{
      max-width: 100%;
      max-height: 180px;              /* tweak to taste (e.g., 200‚Äì220px) */
      object-fit: contain;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(22,64,96,.08);
      display: none;                  /* hidden until we set a src */
    }
    .hidden { display: none !important; }

    /* Big poster under the hero card on the home screen */
    .poster-wrap { margin-top: 14px; }
    
    #mainPoster{
      display:block;
      width:100%;
      height:auto;            /* fill width, keep aspect ratio */
      object-fit: contain;    /* change to 'cover' if you want it to crop & fill */
      background:#fff;
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
    }
        
    /* Small screens: give a bit more room for browser UI */
    @media (max-width: 640px){
      #mainPoster { height: calc(100dvh - 320px); }  /* a bit more space for mobile browser chrome */
    }


  </style>
</head>
<body>
  <header>
    <h1>Four Directions Nourishment Guide</h1>
    <span id="persistBadge">Unsaved</span>
  </header>

  <main class="app">
    <!-- Home -->
    <section id="screen-home" class="screen active">
      <div class="card hero">
        <h2>Welcome!</h2>
        <p>Plan a realistic, nourishing grocery week with one click.</p>
        <button class="cta" id="startPlanBtn">üõí Plan my weekly shopping trip</button>
      </div>

      <!-- Full-width poster image -->
      <div class="poster-wrap">
        <img id="mainPoster"
             src="assets/main_image.png?v=4"
             loading="eager" decoding="async"
             alt="Four Directions Nourishment Guide main poster"
             onerror="this.onerror=null; this.src='data:image/svg+xml;utf8,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 1200 700%22&gt;&lt;rect width=%22100%25%22 height=%22100%25%22 fill=%22%23ffffff%22/&gt;&lt;rect x=%2230%22 y=%2230%22 width=%221140%22 height=%22640%22 rx=%2220%22 ry=%2220%22 fill=%22%23f7fbff%22 stroke=%22%23dfe8f2%22/&gt;&lt;text x=%22600%22 y=%22340%22 text-anchor=%22middle%22 font-size=%2232%22 fill=%22%236b7a95%22&gt;Poster image not found (assets/main_image.png)&lt;/text&gt;&lt;/svg&gt;';">
      </div>

        <link rel="preload" as="image" href="assets/main_image.png?v=3">
    </section>

    <!-- Household size -->
    <section id="screen-household" class="screen">
      <div class="card">
        <h2>Who‚Äôs eating together this week?</h2>
        <label for="household">How many people are in your household?</label>
        <div class="row">
          <button class="btn" id="decBtn">‚Äì</button>
          <input id="household" type="number" min="1" max="20" value="3" />
          <button class="btn" id="incBtn">+</button>
        </div>
        <div id="hh-error" class="error hidden">Please enter a number 1‚Äì20.</div>
        <div class="row">
          <button class="btn" id="backHomeBtn">‚Üê Back</button>
          <button class="btn primary" id="continueBtn" disabled>Continue</button>
        </div>
      </div>
    </section>

    <!-- Next -->
    <section id="screen-next" class="screen">
      <div class="card">
        <h2>Great ‚Äî got it!</h2>
        <p id="summaryText"></p>
        <p>Next step coming soon‚Ä¶</p>
        <div class="row">
          <button class="btn" id="editHouseholdBtn">Edit household</button>
        </div>
      </div>
    </section>
    
    
    <!-- Intensity -->
    <section id="screen-intensity" class="screen">
      <div class="card">
        <h2>How deep do you want to go this week?</h2>
        <p class="dim">Pick your overall intensity. You can always edit per-category later.</p>
        <div class="row">
          <button class="btn ghost" data-intensity="0.25">üß™ Just dipping a toe (¬º)</button>
          <button class="btn ghost" data-intensity="0.5">üèÉ Really trying it out (¬Ω)</button>
          <button class="btn primary" data-intensity="1">üî• I‚Äôm all in! (1√ó)</button>
        </div>
        <div class="toolbar">
          <span class="pill">Household: <span id="pillHousehold">‚Äî</span></span>
          <button class="btn" id="toFirstSubcatBtn" disabled>Start with Vegetables (1.1 Leafy)</button>
        </div>
      </div>
    </section>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
      const btns = [...document.querySelectorAll('#screen-intensity [data-intensity]')];
      const startBtn = document.getElementById('toFirstSubcatBtn');
    
      function select(val){
        // store if you have state/saveState; otherwise delete these two lines
        if (window.state) { state.intensity = val; }
        if (window.saveState) saveState();
    
        btns.forEach(b => {
          const on = parseFloat(b.dataset.intensity) === val;
          b.classList.toggle('primary', on);  // green on
          b.classList.toggle('ghost', !on);   // pill off
          b.setAttribute('aria-pressed', on ? 'true' : 'false');
        });
        if (startBtn) startBtn.disabled = false;
      }
    
      // wire clicks
      btns.forEach(b => b.addEventListener('click', () => {
        const v = parseFloat(b.dataset.intensity);
        if (!Number.isNaN(v)) select(v);
      }));
    
      // initial paint: use saved value, else the one marked .primary in HTML, else 1√ó
      const saved = (window.state && typeof state.intensity === 'number') ? state.intensity : null;
      const fallback = btns.find(b => b.classList.contains('primary'));
      select(saved ?? parseFloat(fallback?.dataset.intensity ?? '1'));
    });
    </script>

    <!-- Subcategory generic screen -->
    <section id="screen-subcat" class="screen">
      <div class="card">
        <div class="topbar">
          <div class="pill" id="breadcrumb">Category 1 ‚Ä¢ Sub 1</div>
          <div class="pill" id="quotaPill">0 / 0 chosen</div>
        </div>
        <h2 id="subcatTitle">Loading‚Ä¶</h2>
        <p class="dim" id="subcatHint">Allocate servings for this subcategory. Rounds up; when the quota is reached, cards grey out.</p>

        <div id="grid" class="grid"></div>

        <div class="toolbar">
          <div class="row">
            <button class="btn ghost" id="backBtn">‚Üê Back</button>
            <button class="btn" id="resetBtn">Reset amounts</button>
          </div>
          <div class="row">
            <button class="btn primary" id="nextBtn">Next ‚Üí</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Shopping List -->
    <section id="screen-shopping" class="screen">
      <div class="card">
        <h2>üõçÔ∏è Your Shopping List</h2>
        <p class="dim">Totals below combine everything you picked across categories.</p>
    
        <div id="shoppingSummary" class="pill" style="margin:10px 0;"></div>
        <div id="shoppingTableWrap" style="overflow:auto; max-height:60vh;"></div>
    
        <div class="toolbar">
          <div class="row">
            <button class="btn" id="backToEditBtn">‚Üê Back to items</button>
          </div>
          <div class="row">
            <button class="btn" id="copyListBtn">Copy</button>
            <button class="btn" id="downloadCsvBtn">Download CSV</button>
            <button class="btn primary" id="printBtn">Print</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Reset confirmation -->
    <div id="resetModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="resetTitle">
      <div class="modal-card">
        <h3 id="resetTitle">Reset all progress?</h3>
        <p class="warn">Caution ‚Äî resetting will delete your current progress and return to the beginning.</p>
        <div class="row" style="justify-content:flex-end;">
          <button class="btn ghost" id="cancelResetBtn">Cancel</button>
          <button class="btn primary" id="confirmResetBtn">Reset everything</button>
        </div>
      </div>
    </div>

    <!-- START food-profile-modal -->
    <div id="foodModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="foodTitle">
      <div class="modal-card">
        <button class="btn ghost" id="foodCloseBtn" aria-label="Close" style="float:right">‚úñ</button>
        <h3 class="modal-title" id="foodTitle">‚Äî</h3>

        <div class="food-hero-wrap">
          <img id="foodHero" alt="" />
        </div>
    
        <section>
          <h3>Indigenous origin</h3>
          <p id="field-origin"></p>
        </section>
    
        <section>
          <h3>How do I eat this?</h3>
          <div id="field-how"></div>
          <p id="field-how-warning" class="subtle-warning" style="display:none;">
            ‚ö†Ô∏è <span id="field-how-warning-text"></span>
          </p>
        </section>
    
        <section>
          <h3>Pairs well with</h3>
          <ul id="field-pairs"></ul>
        </section>
    
        <section>
          <h3>Vitality profile</h3>
          <ul id="field-vitality"></ul>
        </section>
    
        <section>
          <h3>Sacred stories</h3>
          <div id="field-stories"></div>
        </section>
      </div>
    </div>
    <!-- END food-profile-modal -->

    <!-- Protein Scorecard (non-blocking) -->
    <div id="proteinScorecardModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="proteinScorecardTitle">
      <div class="modal-card">
        <button class="modal-x" id="proteinScorecardX" aria-label="Close">√ó</button>
        <h3 id="proteinScorecardTitle">Protein Safety & Ethical Impact ‚Äî Quick Scorecard</h3>
    
        <div class="dim" style="margin-top:6px;">
          <p><strong>Scale:</strong> 0 (lowest) to 10 (highest). <strong>Net = Benefit ‚àí Risk.</strong> Educational heuristics for everyday choices ‚Äî not medical advice.</p>
        </div>
    
        <section style="margin-top:10px;">
          <h3>A) Core proteins (typical portions)</h3>
          <div style="overflow:auto; max-height:50vh; border:1px solid var(--border); border-radius:12px; padding:10px;">
            <table style="width:100%; border-collapse:collapse; font-size:14px;">
              <thead>
                <tr>
                  <th style="text-align:left; padding:6px; border-bottom:1px solid var(--border);">Protein</th>
                  <th style="text-align:right; padding:6px; border-bottom:1px solid var(--border);">Benefit</th>
                  <th style="text-align:right; padding:6px; border-bottom:1px solid var(--border);">Risk</th>
                  <th style="text-align:right; padding:6px; border-bottom:1px solid var(--border);">Net</th>
                  <th style="text-align:left; padding:6px; border-bottom:1px solid var(--border);">Notes (ethics, safety)</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>Tempeh</td><td style="text-align:right;">9</td><td style="text-align:right;">1</td><td style="text-align:right;">8</td><td>Fermented soy; great gut tolerance; cook fully.</td></tr>
                <tr><td>Tofu (firm/soft)</td><td style="text-align:right;">8</td><td style="text-align:right;">1</td><td style="text-align:right;">7</td><td>Complete protein; press/drain; safe raw from sealed pack, best cooked.</td></tr>
                <tr><td>Edamame</td><td style="text-align:right;">8</td><td style="text-align:right;">1</td><td style="text-align:right;">7</td><td>Boil/steam pods; eat beans only.</td></tr>
                <tr><td>Hemp hearts</td><td style="text-align:right;">7</td><td style="text-align:right;">1</td><td style="text-align:right;">6</td><td>Sprinkle raw; complete amino balance; allergen rare.</td></tr>
                <tr><td>Quinoa</td><td style="text-align:right;">7</td><td style="text-align:right;">1</td><td style="text-align:right;">6</td><td>Rinse to remove saponins; complete protein.</td></tr>
                <tr><td>Amaranth</td><td style="text-align:right;">7</td><td style="text-align:right;">1</td><td style="text-align:right;">6</td><td>Boil or pop; calcium/lysine booster.</td></tr>
                <tr><td>Buckwheat / Soba</td><td style="text-align:right;">6</td><td style="text-align:right;">1</td><td style="text-align:right;">5</td><td>Choose 100% buckwheat soba for max benefits.</td></tr>
                <tr><td>Chia seeds</td><td style="text-align:right;">6</td><td style="text-align:right;">1</td><td style="text-align:right;">5</td><td>Soak for better digestion; start small.</td></tr>
                <tr><td>Wild rice / Manoomin</td><td style="text-align:right;">7</td><td style="text-align:right;">1</td><td style="text-align:right;">6</td><td>Sacred heritage grain; rinse and simmer.</td></tr>
                <tr><td>TVP (soy)</td><td style="text-align:right;">6</td><td style="text-align:right;">2</td><td style="text-align:right;">4</td><td>Rehydrate; choose minimally processed when possible.</td></tr>
                <tr><td>Seitan (wheat)</td><td style="text-align:right;">5</td><td style="text-align:right;">2</td><td style="text-align:right;">3</td><td>High protein; pair with legumes for full aminos.</td></tr>
                <tr><td>Eggs</td><td style="text-align:right;">5</td><td style="text-align:right;">3</td><td style="text-align:right;">2</td><td>Cook fully; limit frying to reduce formed compounds.</td></tr>
                <tr><td>Poultry</td><td style="text-align:right;">5</td><td style="text-align:right;">4</td><td style="text-align:right;">1</td><td>Cook to 165 ¬∞F; avoid heavy charring.</td></tr>
                <tr><td>Cow meat (‚Äúbeef‚Äù)</td><td style="text-align:right;">4</td><td style="text-align:right;">6</td><td style="text-align:right;">‚àí2</td><td>Keep occasional; avoid char/cured.</td></tr>
                <tr><td>Pig meat (‚Äúpork‚Äù)</td><td style="text-align:right;">4</td><td style="text-align:right;">6</td><td style="text-align:right;">‚àí2</td><td>Minimize, esp. cured/smoked forms.</td></tr>
                <tr><td>Lamb/Goat/Other meats</td><td style="text-align:right;">4</td><td style="text-align:right;">6</td><td style="text-align:right;">‚àí2</td><td>Best reserved for rare/ceremonial use.</td></tr>
              </tbody>
            </table>
            <p class="dim" style="margin-top:8px;">Ethics/planet snapshot (not scored here): plant options generally have far lower land/water/greenhouse impact; ruminant meats are the highest.</p>
          </div>


            <section style="margin-top:14px;">
              <h3>B) Cooking method impact (apply small adjustment)</h3>
              <table style="width:100%; border-collapse:collapse; font-size:14px;">
                <thead>
                  <tr>
                    <th style="text-align:left; padding:6px; border-bottom:1px solid var(--border);">Method</th>
                    <th style="text-align:right; padding:6px; border-bottom:1px solid var(--border);">Benefit adj.</th>
                    <th style="text-align:right; padding:6px; border-bottom:1px solid var(--border);">Risk adj.</th>
                    <th style="text-align:left; padding:6px; border-bottom:1px solid var(--border);">Why</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td>Boil / Steam / Stew</td><td style="text-align:right;">+1</td><td style="text-align:right;">+0</td><td>Gentle heat, good digestibility.</td></tr>
                  <tr><td>Bake / Roast (moderate browning)</td><td style="text-align:right;">+0</td><td style="text-align:right;">+1</td><td>Some browning; keep temps/time moderate.</td></tr>
                  <tr><td>Pan-fry / Saut√©</td><td style="text-align:right;">+0</td><td style="text-align:right;">+2</td><td>More surface browning (AGEs).</td></tr>
                  <tr><td>Grill / Broil (high-char)</td><td style="text-align:right;">+0</td><td style="text-align:right;">+3</td><td>Highest HCAs/PAHs when fat drips/chars‚Äîespecially on meats.</td></tr>
                  <tr><td>Cured / Smoked</td><td style="text-align:right;">+0</td><td style="text-align:right;">+3</td><td>Added nitrites/smoke by-products; minimize.</td></tr>
                </tbody>
              </table>
            </section>
    
            <div class="row" style="justify-content:flex-end; gap:10px; margin-top:14px;">
              <button class="btn primary" id="proteinScorecardOk">OK</button>
            </div>
          </div>
        </div>
          
            <!-- Dairy & Alternatives ‚Äì Important Overview (non-blocking) -->
            <div id="dairyOverviewModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="dairyOverviewTitle">
              <div class="modal-card">
                <button class="modal-x" id="dairyOverviewX" aria-label="Close">√ó</button>
                <h3 id="dairyOverviewTitle">ü•õ Dairy & Alternatives ‚Äî Important Overview</h3>
            
                <div class="dim" style="margin-top:6px;">
                  <p>
                    Milk and milk-products (from animals) are not universally traditional: most human societies did not routinely drink
                    fresh animal milk into adulthood. The genetic ability to digest lactose beyond childhood (lactase-persistence) developed
                    only in some populations (esp. Northern Europe and parts of Africa/Middle East). <em>Scientific American + National Geographic</em>
                  </p>
            
                  <p>
                    Archaeological evidence suggests dairying (milking animals / processing milk) began in the Near East
                    ~8,000‚Äì9,000 years ago. <em>National Geographic; Prolactal</em>
                  </p>
            
                  <p><strong>Because of this, drinking animal milk in large amounts isn‚Äôt a universal human norm ‚Äî it‚Äôs a regional adaptation.</strong> That means:</p>
                  <ul>
                    <li>Plant-based alternatives (soy, oat, almond, etc.) are legitimate, nutritionally valid options ‚Äî not ‚Äúlesser.‚Äù</li>
                    <li>If choosing animal-milk products, use pasteurized and properly handled items (raw milk can carry pathogens like Listeria, Salmonella, Brucella). <em>Wikipedia</em></li>
                    <li>Most milks (animal & plant) are fortified (vitamin D, sometimes calcium, B12) to meet modern needs ‚Äî especially where lactase-persistence isn‚Äôt common.</li>
                    <li>Pasteurization & homogenization improve safety and stability; with animal milk, properly processed products matter.</li>
                  </ul>
            
                  <p><strong>Bottom line:</strong> Plant-based by default is culturally valid and often health-conscious. Whatever you choose, aim for nutritionally complete, fortified (as needed), and safely processed products.</p>
                </div>
            
                <div class="row" style="justify-content:flex-end; gap:10px; margin-top:14px;">
                  <button class="btn primary" id="dairyOverviewOk">OK</button>
                </div>
              </div>
            </div>

            <!-- SEAFOOD ‚Äî OVERARCHING SAFETY & SUSTAINABILITY NOTE -->
            <div id="seafoodModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="seafoodTitle">
              <div class="modal-card">
                <button class="modal-x" id="seafoodX" aria-label="Close">√ó</button>
                <h3 id="seafoodTitle">üêü SEAFOOD ‚Äî OVERARCHING SAFETY & SUSTAINABILITY NOTE</h3>
                <div class="dim" style="margin-top:6px; white-space:pre-line;">
            Seafood can be a rich source of minerals and omega-3s, but it also carries unique safety rules that apply to everyone ‚Äî especially to pregnant people, nursing parents, and young children.
            
            ‚ö†Ô∏è Essential guidelines for all seafood:
            1. Always cook seafood thoroughly unless it is canned, shelf-stable, or marked as ‚Äúsushi-grade‚Äù and you have training or guidance from a professional sushi chef. Raw seafood can contain parasites, bacteria (Vibrio, Listeria, Salmonella), or viruses that home freezing cannot fully destroy.
            2. Avoid raw or smoked seafood (including smoked salmon or lox) during pregnancy, nursing, or when serving to small children or immunocompromised individuals.
            3. Mind mercury and local water contaminants. Limit large predatory fish (tuna, mackerel, swordfish, shark) to occasional use, and check local advisories before eating fish caught from lakes, rivers, or ponds. Check local advisories before eating fish caught in lakes, rivers, or ponds‚Äîmany carry mercury or industrial pollutants.
            4. Cooked, canned, or frozen seafood is safest when heated to an internal temperature of 145 ¬∞F / 63 ¬∞C or until opaque and flaking easily.
            5. Sustainability matters. Favor small, wild, or responsibly farmed species (sardines, mussels, clams, anchovies, trout) over overfished or high-impact species (tuna, shrimp, lobster).
            
            Fun fact: Traditional diets worldwide often treated fish as sacred ‚Äî not because of rarity, but because taking life from the water required ceremony and restraint. That‚Äôs a good model for modern sustainability, too.
                </div>
                <div class="row" style="justify-content:flex-end; gap:10px; margin-top:14px;">
                  <button class="btn primary" id="seafoodOk">OK</button>
                </div>
              </div>
            </div>
            
            <!-- OILS & FATS ‚Äî Hormone note -->
            <div id="oilsFatsModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="oilsFatsTitle">
              <div class="modal-card">
                <button class="modal-x" id="oilsFatsX" aria-label="Close">√ó</button>
                <h3 id="oilsFatsTitle">‚öïÔ∏è Note for Users Who Menstruate ‚Äî Hormones, Diet & Imbalance</h3>
                <div class="dim" style="margin-top:6px; white-space:pre-line;">
            Emerging research shows that regularly eating red meats, processed meats, and high-fat dairy can increase the risk or severity of estrogen-related conditions ‚Äî such as fibroids, endometriosis, ovarian cysts, and heavy menstrual cycles.
            
            Animal fats tend to raise estrogen and inflammation in the body. By contrast, diets richer in leafy greens, citrus, beans, seeds, and whole grains are associated with lower fibroid risk and improved hormonal balance.
            
            Simple shift:
            Favor seeds, nuts, and plant oils most days, and treat animal fats as occasional or traditional foods.
            
            This small change can support steadier moods, easier cycles, and long-term reproductive health.
                </div>
                <div class="row" style="justify-content:flex-end; gap:10px; margin-top:14px;">
                  <button class="btn primary" id="oilsFatsOk">OK</button>
                </div>
              </div>
            </div>
            
            <!-- FLAVOR VEGETABLES ‚Äî Safety & Comfort -->
            <div id="flavorVegModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="flavorVegTitle">
              <div class="modal-card">
                <button class="modal-x" id="flavorVegX" aria-label="Close">√ó</button>
                <h3 id="flavorVegTitle">‚ö†Ô∏è Flavor Vegetable Safety & Comfort Guide</h3>
                <div class="dim" style="margin-top:6px; white-space:pre-line;">
            üå∂ When working with hot peppers (jalape√±os, serranos, habaneros, etc.)
            Be aware that the seeds and inner ribs (the pale parts inside) hold most of the spice-producing compound, capsaicin. If you want milder heat, remove those parts before cooking.
            Wear gloves if possible ‚Äî this keeps your hands safe and, more importantly, keeps you from accidentally touching your eyes later and learning why the Aztecs used these things as weapons.
            If you do accidentally ‚Äúenchilarte‚Äù (get pepper burn):
            ‚Ä¢ In your mouth: water won‚Äôt help ‚Äî it just spreads the burn!
              Instead, use something fatty or dairy-based to dissolve the capsaicin, such as milk, yogurt, or even a spoon of sour cream, plant yogurt, or nut milk. Starchy foods like bread or rice also help absorb the oils.
            ‚Ä¢ On your skin: wash with soap and warm (not hot) water ‚Äî capsaicin is oil-based, so soap is what lifts it away, not plain water.
            ‚Ä¢ In your eyes: rinse gently with cool water only once you‚Äôve washed your hands well, and blink repeatedly ‚Äî do not rub. The sting will fade with time.
            ________________________________________
            üßÖ When chopping onions (and cousins)
            The sharp vapors that make you cry are sulfur compounds released when the cell walls break. To reduce the tears:
            ‚Ä¢ Chill the onion 10‚Äì15 minutes before cutting.
            ‚Ä¢ Use a sharp knife ‚Äî less crushing, fewer fumes.
            ‚Ä¢ Cut under gentle running water or near a burning candle ‚Äî both help disperse the sulfur gas before it hits your eyes. (Yes, the candle trick really works!)
            ‚Ä¢ Breathe through your mouth and look slightly away from the cutting board.
            If you‚Äôre crying anyway, it‚Äôs okay ‚Äî onions humble us all.
            ________________________________________
            üßÑ Garlic timing matters
            Garlic cooks and burns fast.
            ‚Ä¢ For gentle flavor, start garlic in cold oil with onions.
            ‚Ä¢ For bolder flavor, add it toward the end of saut√©ing.
            ‚Ä¢ If garlic turns brown or smells bitter, it‚Äôs burned ‚Äî start over. Burned garlic adds a harsh taste that can overpower a dish.
            ________________________________________
            üå∂ Bonus tip: handling dried chiles
            When working with dried chiles like ancho, guajillo, or √°rbol:
            ‚Ä¢ Toast them briefly (20‚Äì30 sec per side) before soaking ‚Äî this deepens flavor.
            ‚Ä¢ Don‚Äôt breathe directly over the pan while toasting; the smoke can irritate eyes and throat.
            ‚Ä¢ Rehydrate in warm water for about 15 minutes, then blend or chop.
                </div>
                <div class="row" style="justify-content:flex-end; gap:10px; margin-top:14px;">
                  <button class="btn primary" id="flavorVegOk">OK</button>
                </div>
              </div>
            </div>
            
            <!-- BOOSTERS ‚Äî Dark chocolate mood note -->
            <div id="boostersModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="boostersTitle">
              <div class="modal-card">
                <button class="modal-x" id="boostersX" aria-label="Close">√ó</button>
                <h3 id="boostersTitle">üç´ Mood Boost: The Science of Dark Chocolate</h3>
                <div class="dim" style="margin-top:6px; white-space:pre-line;">
            Feeling low or anxious? While nothing replaces good sleep, fresh air, and emotional support, dark chocolate (70‚Äì85%) can give a real, measurable lift for many people.
            
            üåø Why It Helps
            Dark chocolate contains natural compounds that support brain chemistry:
            ‚Ä¢ Theobromine ‚Äì a gentle stimulant unique to cacao that boosts mood and alertness without the crash of caffeine.
            ‚Ä¢ Flavonoids (polyphenols) ‚Äì plant antioxidants that improve circulation to the brain and help regulate stress hormones.
            ‚Ä¢ Magnesium ‚Äì relaxes muscles, supports sleep, and calms the nervous system.
            ‚Ä¢ Tryptophan, anandamide & phenylethylamine ‚Äì precursors to serotonin and dopamine, the ‚Äúfeel-good‚Äù neurotransmitters.
            Together, these create a mild but genuine antidepressant and anti-anxiety effect.
            
            üç´ Safe Daily Range
            If you choose low-heavy-metal brands (like Ghirardelli 86 %, Endangered Species, or 365), the research suggests that:
            ‚Ä¢ 10‚Äì30 g (about 2‚Äì5 squares) per day offers clear benefits.
            ‚Ä¢ Up to 40 g (one full bar) is still safe if you rotate brands and skip some days.
            ‚Ä¢ Cocoa powder can substitute: 2 Tbsp ‚âà half a bar in theobromine content.
            Avoid eating chocolate with iron-rich meals so it doesn‚Äôt block absorption, and pair it with fruit or vitamin C foods instead.
            
            üåø Quick Takeaways
            ‚Ä¢ To mimic chocolate‚Äôs entire profile, a combination like banana + pumpkin seeds + green tea + almonds + berries would come surprisingly close.
            ‚Ä¢ Theobromine is nearly unique to cacao and a few rainforest teas (like mat√©), so that calm-focus effect is the hardest to replicate perfectly.
            ‚Ä¢ The ‚Äúeuphoria triad‚Äù ‚Äî tryptophan + PEA + anandamide ‚Äî can be approximated by pairing fermented foods, nuts/seeds, and a bit of avocado.
            
            ‚ö†Ô∏è Keep in Mind
            ‚Ä¢ Choose bars tested for low lead and cadmium content.
            ‚Ä¢ This isn‚Äôt a medical treatment‚Äîjust a supportive food for mental balance.
            ‚Ä¢ Therapy, connection, rest, and nutrition together form the foundation of healing.
            ________________________________________
            üíõ If You‚Äôre Struggling
            You are not alone, and help is always available.
            ‚Ä¢ 988 Suicide & Crisis Lifeline (U.S.) ‚Äì call or text 988 any time, day or night.
            ‚Ä¢ Postpartum Support International: 1-800-944-4773 (Text ‚ÄúHelp‚Äù to 800-944-4773)
            ‚Ä¢ Parent Stress Line (U.S.): 1-800-632-8188
            ‚Ä¢ If outside the U.S., visit findahelpline.com, which lists international hotlines.
            
            Talking with a counselor or therapist is one of the most effective ways to recover from depression and anxiety. Nutrition can support your brain‚Äîbut connection heals it.
                </div>
                <div class="row" style="justify-content:flex-end; gap:10px; margin-top:14px;">
                  <button class="btn primary" id="boostersOk">OK</button>
                </div>
              </div>
            </div>

    <!-- First-run Disclaimer (blocking) -->
    <div id="disclaimerModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="disclaimerTitle">
      <div class="modal-card">
          <button class="modal-x" id="disclaimerX" aria-label="Close">√ó</button>
        <h3 id="disclaimerTitle">Friendly disclaimer</h3>
            <div class="dim prose-intro" style="margin-top:6px;">
              <p>üåø <strong>Four Directions Nourishment Guide (Beta Version)</strong> üåø</p>
            
              <p>‚ú® This beta version gives users a glimpse into an app currently under development.</p>
            
              <p>üå± <strong>Coming soon:</strong></p>
              <ul>
                <li>Pantry tracking to manage and organize household food items</li>
                <li>Recipe suggestions based on pantry and weekly shopping list availability</li>
                <li>Nutritional insights for every ingredient</li>
                <li>Research-based culinary, nutritional and historical information for every item (currently pop-ups are rough brainstorm only)</li>
                <li>Region selector for weekly Indigenous food traditions and teachings</li>
              </ul>
            
              <p>üç≤ <strong>Purpose of the App</strong></p>
              <p>The Four Directions Nourishment Guide was created so that users could envision a healthy meal plan each week for their families ‚Äî without needing to measure daily intake amounts.</p>
            
              <p>üåæ <strong>Balanced by the Four Directions</strong></p>
              <p>The foods in this app have been calibrated across the four directions to reflect balanced quantities of calories, fats, proteins, micronutrients, and phytochemicals ‚Äî all chosen for their natural, disease-fighting properties.</p>
            
              <p>üí´ <strong>Our Goal</strong></p>
              <p>To empower users to take control of one of the most crucial factors in well-being ‚Äî what we eat.</p>
              <p>To help users understand how Indigenous foods and fusions between different cultures have shaped Indigenous culinary traditions across the globe.</p>
            
              <p class="dim" style="margin-top:10px;">
                This app is a brainstorming/planning helper. It‚Äôs not medical, nutrition, legal, or financial advice.
                Double-check all guidance for your own situation.
              </p>
            </div>
        <label style="display:flex; gap:10px; align-items:flex-start; margin:14px 0;">
          <input id="disclaimerAgree" type="checkbox" />
          <span>I have read this information and agree.</span>
        </label>
        <div class="row" style="justify-content:flex-end; gap:10px;">
          <button class="btn ghost" id="disclaimerCancelBtn" title="Close the app">Close</button>
          <button class="btn primary" id="disclaimerContinueBtn" disabled>Continue</button>
        </div>
      </div>
    </div>

  </main>

    <script>
      // Always unlock scroll when changing screens
      (function(){
        const _show = window.show;
        if (typeof _show === 'function') {
          window.show = function(id){
            document.body.style.overflow = '';             // <-- hard unlock
            document.querySelectorAll('.modal').forEach(m => m.classList.add('hidden'));
            return _show.apply(this, arguments);
          };
        }
      })();
    </script>

  <footer>
    <div class="mini"><strong>Dev State:</strong> <code id="devState">{}</code></div>
  </footer>


    <script>
    // --- Master Food Lists (16 √ó 4 each) ---------------------------------
    const MASTER = {
      vegetables: {
        leafy: [
          "Spinach","Romaine lettuce","Kale","Green leaf lettuce",
          "Red leaf lettuce","Butter/Bibb lettuce","Collard greens","Swiss chard",
          "Bean sprouts","Other greens","Endive","Escarole/Frisee",
          "Other sprouts","Watercress","Seaweed/Nori","Kelp"
        ],
        cruciferous: [
          "Broccoli","Cauliflower","Green cabbage","Red cabbage",
          "Brussel sprouts","Bok choy","Arugula","Radishes",
          "Turnips","Rutabaga","Savoy cabbage","Napa cabbage",
          "Broccolini","Daikon","Kohlrabi","Broccoli raab/Rapini"
        ],
        orange: [
          "Carrots","Sweet potatoes","Yams","Tomatoes",
          "Red bell peppers","Orange bell peppers","Red beets","Butternut squash",
          "Acorn squash","Pumpkin","Spaghetti squash","Golden beets",
          "Purple sweet potatoes/Ube","Delicata squash","Kabocha squash","Hubbard squash"
        ],
        other_vegetables: [
          "Zucchini","Cucumbers","Celery","Green beans",
          "Corn","White mushrooms","Brown mushrooms","Asparagus",
          "Snap/Shelled peas","Snow peas","Eggplant","Parsnips",
          "Leeks","Fennel","Okra","Artichokes"
        ],
      },
      fruits: {
        berries: [
          "Strawberries","Blueberries","Raspberries","Blackberries",
          "Red/Black grapes","Green grapes","Cherries","Cranberries",
          "Guava","Pomegranate","Figs","Plums",
          "Passionfruit","Mulberries","Prickly pear","Lychee"
        ],
        citrus: [
          "Oranges","Mandarins","Tangerines","Clementines",
          "Lemons","Limes","Pink grapefruit","White grapefruit",
          "Minneola tangelos","Kumquats","Blood oranges","Pineapple",
          "Pomelos","Starfruit","Ugli fruit","Buddha's hand"
        ],
        carotenoid_lycopene: [
          "Watermelon","Cantaloupe","Peaches","Nectarines",
          "Mangoes (large)","Mangoes (small)","Papaya","Apricots",
          "Cherry/Grape tomatoes","Persimmons","Galia melon","Canary melon",
          "Jackfruit","Mamey sapote","Nance","Horned melon"
        ],
        other_fruits: [
          "Bananas","Red apples","Green apples","Yellow apples",
          "Avocados","Pears","Kiwi","Coconut",
          "Honeydew melon","Dates","Plantains","Dragonfruit (pitaya)",
          "Tamarind","Pawpaws","Soursop/Guanabana","Asian pears"
        ]
      }
    };
    
    // --- Master Protein Lists (16 √ó 4) -----------------------------------
    const PROTEINS = {
      legumes_pulses: [
        "Black beans","Pinto beans","Kidney beans","Chickpeas/Garbanzo beans",
        "Navy beans","Brown lentils","Red lentils","Green lentils",
        "Yellow split peas","Green split peas","Peanuts","Lima/Butter beans",
        "Black-eyed peas","Fava beans","Mung beans","Adzuki beans"
      ],
      complete: [
        "Soft/Firm tofu","Tempeh","Edamame","Hemp hearts/seeds",
        "Quinoa","Amaranth","Buckwheat/Soba","Chia seeds",
        "Wild rice/Manoomin","Textured Vegetable Protein (TVP)","Seitan/Wheat-based meat","Eggs/Egg substitute",
        "Chicken/Turkey/Plant poultry","Cow meat/Plant beef","Pig meat/Plant pork","Lamb/Goat/Other meats"
      ],
      dairy: [
        "Soy milk","Oat milk","Hazelnut milk","Almond milk",
        "Cashew milk","Hemp/Flax milk","Rice milk","Coconut milk",
        "Lactated cow/goat/sheep milk","Yogurt/Kefir","Cream cheese","Soft aged/crumbly cheese",
        "Sour cream","Cottage cheese","Hard cheeses","Soft fresh cheeses"
      ],
      seafood: [
        "Salmon","Tuna","Tilapia","Shrimp",
        "Cod/Pollock","Trout","Crab","Clams",
        "Oysters","Scallops","Crawfish","Mussels",
        "Sardines/Anchovies","Mackerel","Lobster","Catfish"
      ]
    };
    
    // --- Master Grains / Roots / Seeds Lists (16 √ó 4) -------------------------
    const GRAINS_ROOTS = {
      grasses: [
        "Wheat","Pasta","White rice","Brown rice",
        "Cornmeal","Oats","Couscous","Quinoa",
        "Millet","Amaranth","Buckwheat/Soba","Wild rice/Manoomin",
        "Rye","Kamut","Barley","Sorghum"
      ],
      nuts_seeds: [
        "Almonds","Walnuts","Pecans","Cashews",
        "Pistachios","Sunflower seeds","Sesame seeds/Tahini","Pumpkin seeds (pepitas)",
        "Flax seeds","Chia seeds","Hemp hearts/seeds","Hazelnuts",
        "Macadamia nuts","Brazil nuts","Pine nuts","Poppy seeds"
      ],
      roots_tubers: [
        "Russet potatoes","Red potatoes","Yukon Gold potatoes","Fingerling potatoes",
        "Purple potatoes","Sweet potatoes","Yams","Plantains",
        "Cassava (yuca/tapioca/fufu)","Taro","Rutabaga","Turnips",
        "Parsnips","White/Golden sweet potatoes (boniato)","Purple sweet potatoes/Ube","Arrowroot"
      ],
      oils_fats: [
        "Olive oil","Soy oil","Canola oil","Coconut oil",
        "Peanut oil","Avocado oil","Sesame oil","Flaxseed oil",
        "Walnut oil","Sunflower oil","Safflower oil","Grapeseed oil",
        "Palm oil","Butter/Plant butter","Lard/Tallow (traditional use)","Ghee/Plant ghee"
      ]
    };
    
    // --- Center Ring: Flavor & Health Enhancers (16 √ó 4) -----------------
    const FLAVOR_CENTER = {
      flavor_vegetables: [
        "Garlic","Yellow onions","Red onions","White onions",
        "Pearl onions","Shallots","Green onions/Scallions","Chives",
        "Jalape√±os/Chipotle peppers","Serrano/Seco chiles","Habaneros","Poblano/Ancho chiles",
        "Mirasol/Guajillo chiles","Chile de √Årbol","Cayenne chiles","Anaheim/Colorado chilies"
      ],
      fresh_herbs: [
        "Curly parsley","Flat-leaf/Italian parsley","Cilantro/Coriander leaf",
        "Peppermint","Spearmint","Lemon balm","Sweet basil","Thai basil",
        "Holy basil/Tulsi","Sage","Oregano","Thyme",
        "Dill","Epazote","Lemongrass","Chervil"
      ],
      dried_spices: [
        "Rosemary","Bay leaf","Marjoram","Paprika",
        "Fennel seeds","Tarragon","Allspice","Pepper",
        "Cumin","Coriander seed","Turmeric","Ginger",
        "Cinnamon","Nutmeg","Cloves","Cardamom"
      ],
      boosters: [
        "Honey","Maple syrup","Agave nectar","Molasses",
        "Kimchi/Sauerkraut","Vinegars","Olives","Miso",
        "Green tea","Black tea","Coffee","Yerba mate",
        "Dark chocolate (70%+)","Cacao nibs/Cocoa powder","Dried fruits","Herbal teas/Kombucha"
      ]
    };

    // Canonicalization + aliases so labels don‚Äôt have to be pixel-perfect
    const NAME_ALIASES = {
    
      // Tubers
      "russets": "Russet potatoes",
      "yukon gold": "Yukon Gold potatoes",
      "yukon gold potatoes": "Yukon Gold potatoes",
      "cassava": "Cassava (yuca/tapioca/fufu)",
      "fufu": "Cassava (yuca/tapioca/fufu)",
      "yuca": "Cassava (yuca/tapioca/fufu)",
      "tapioca": "Cassava (yuca/tapioca/fufu)",
    
      // Leafy (from your saved prefs)
      "nori / dried seaweed": "Seaweed/Nori",
      "kelp / other seaweed (fresh/rehydrated)": "Kelp",
    
      // Fruits (common variations)
      "red grapes": "Red/Black grapes",
      "black grapes": "Red/Black grapes",
      "cherry tomatoes": "Cherry/Grape tomatoes",
      "grape tomatoes": "Cherry/Grape tomatoes"
    };
    
    // normalize: lower, collapse spaces, strip accents
    function canonName(s){
      return String(s || "")
        .normalize("NFD").replace(/\p{Diacritic}/gu, "")
        .toLowerCase()
        .replace(/['‚Äô]/g, "")
        .replace(/\s*\/\s*/g, "/")
        .replace(/\s+/g, " ")
        .trim();
    }


    // ===== VEG IMAGE MAP (name -> relative path) =====
    const VEG_IMG = {
      // --- Leafy ---
      "Spinach": "assets/vegetables/leafy/spinach.png",
      "Romaine lettuce": "assets/vegetables/leafy/romaine.png",
      "Kale": "assets/vegetables/leafy/kale.png",
      "Green leaf lettuce": "assets/vegetables/leafy/greenleaf.png",
      "Red leaf lettuce": "assets/vegetables/leafy/redleaf.png",
      "Butter/Bibb lettuce": "assets/vegetables/leafy/bibb.png",
      "Collard greens": "assets/vegetables/leafy/collards.png",
      "Swiss chard": "assets/vegetables/leafy/chard.png",
      "Bean sprouts": "assets/vegetables/leafy/beansprouts.png",
      "Other greens": "assets/vegetables/leafy/greens.png",
      "Endive": "assets/vegetables/leafy/endive.png",
      "Escarole/Frisee": "assets/vegetables/leafy/escarole.png",
      "Other sprouts": "assets/vegetables/leafy/sprouts.png",
      "Watercress": "assets/vegetables/leafy/watercress.png",
      "Seaweed/Nori": "assets/vegetables/leafy/seaweed.png",
      "Kelp": "assets/vegetables/leafy/kelp.png",
    
      // --- Cruciferous ---
      "Broccoli": "assets/vegetables/cruciferous/broccoli.png",
      "Cauliflower": "assets/vegetables/cruciferous/cauliflower.png",
      "Green cabbage": "assets/vegetables/cruciferous/greencabbage.png",
      "Red cabbage": "assets/vegetables/cruciferous/redcabbage.png",
      "Brussel sprouts": "assets/vegetables/cruciferous/brusselsprouts.png", // filename uses 'brussels'
      "Bok choy": "assets/vegetables/cruciferous/bokchoy.png",
      "Arugula": "assets/vegetables/cruciferous/arugula.png",
      "Radishes": "assets/vegetables/cruciferous/radishes.png",
      "Turnips": "assets/vegetables/cruciferous/turnips.png",
      "Rutabaga": "assets/vegetables/cruciferous/rutabaga.png",
      "Savoy cabbage": "assets/vegetables/cruciferous/savoycabbage.png",
      "Napa cabbage": "assets/vegetables/cruciferous/napacabbage.png",
      "Broccolini": "assets/vegetables/cruciferous/broccolini.png",
      "Daikon": "assets/vegetables/cruciferous/daikon.png",
      "Kohlrabi": "assets/vegetables/cruciferous/kohlrabi.png",
      "Broccoli raab/Rapini": "assets/vegetables/cruciferous/rapini.png",
    
      // --- Orange ---
      "Carrots": "assets/vegetables/orange/carrots.png",
      "Sweet potatoes": "assets/vegetables/orange/sweetpotato.png",
      "Yams": "assets/vegetables/orange/yam.png",
      "Tomatoes": "assets/vegetables/orange/tomatoes.png", 
      "Red bell peppers": "assets/vegetables/orange/redpepper.png",
      "Orange bell peppers": "assets/vegetables/orange/yellowpepper.png", // using your yellow pepper art
      "Red beets": "assets/vegetables/orange/beet.png",
      "Butternut squash": "assets/vegetables/orange/butternutsquash.png",
      "Acorn squash": "assets/vegetables/orange/acornsquash.png",
      "Pumpkin": "assets/vegetables/orange/pumpkin.png",
      "Spaghetti squash": "assets/vegetables/orange/spaghettisquash.png",
      "Golden beets": "assets/vegetables/orange/goldenbeet.png",
      "Purple sweet potatoes/Ube": "assets/vegetables/orange/ube.png",
      "Delicata squash": "assets/vegetables/orange/delicatasquash.png",
      "Kabocha squash": "assets/vegetables/orange/kabochasquash.png",
      "Hubbard squash": "assets/vegetables/orange/hubbardsquash.png",
    
      // --- Other_Vegetables ---
      "Zucchini": "assets/vegetables/other_vegetables/zucchini.png",
      "Cucumbers": "assets/vegetables/other_vegetables/cucumber.png",
      "Celery": "assets/vegetables/other_vegetables/celery.png",
      "Green beans": "assets/vegetables/other_vegetables/greenbeans.png",
      "Corn": "assets/vegetables/other_vegetables/corn.png",
      "White mushrooms": "assets/vegetables/other_vegetables/whitemushrooms.png",
      "Brown mushrooms": "assets/vegetables/other_vegetables/brownmushrooms.png",
      "Asparagus": "assets/vegetables/other_vegetables/asparagus.png",
      "Snap/Shelled peas": "assets/vegetables/other_vegetables/peas.png",
      "Snow peas": "assets/vegetables/other_vegetables/snowpeas.png",
      "Eggplant": "assets/vegetables/other_vegetables/eggplant.png",
      "Parsnips": "assets/vegetables/other_vegetables/parsnips.png",
      "Leeks": "assets/vegetables/other_vegetables/leeks.png",
      "Fennel": "assets/vegetables/other_vegetables/fennel.png",
      "Okra": "assets/vegetables/other_vegetables/okra.png",
      "Artichokes": "assets/vegetables/other_vegetables/artichoke.png" // plural name, singular file
    };

    
    
    // ===== FRUIT IMAGE MAP (name -> relative path under /assets/fruits) =====
    const FRUIT_IMG = {
      // --- BERRIES ---
      "Blackberries": "assets/fruits/berries/blackberries.png",
      "Blueberries": "assets/fruits/berries/blueberries.png",
      "Prickly pear": "assets/fruits/berries/cactusfruit.png",
      "Cherries": "assets/fruits/berries/cherries.png",
      "Cranberries": "assets/fruits/berries/cranberries.png",
      "Figs": "assets/fruits/berries/figs.png",
      "Green grapes": "assets/fruits/berries/greengrapes.png",
      "Guava": "assets/fruits/berries/guava.png",
      "Lychee": "assets/fruits/berries/lychee.png",
      "Mulberries": "assets/fruits/berries/mulberries.png",
      "Passionfruit": "assets/fruits/berries/passionfruit.png",   // if your file is named passionfruit.png, use that
      "Plums": "assets/fruits/berries/plums.png",
      "Pomegranate": "assets/fruits/berries/pomegranate.png",
      "Raspberries": "assets/fruits/berries/raspberries.png",
      "Red/Black grapes": "assets/fruits/berries/redgrapes.png",
      "Strawberries": "assets/fruits/berries/strawberries.png",
    
      // --- CITRUS ---
      "Blood oranges": "assets/fruits/citrus/bloodoranges.png",
      "Buddha's hand": "assets/fruits/citrus/buddhashand.png",
      "Clementines": "assets/fruits/citrus/clementines.png",
      "Kumquats": "assets/fruits/citrus/kumquats.png",
      "Lemons": "assets/fruits/citrus/lemons.png",
      "Limes": "assets/fruits/citrus/limes.png",
      "Mandarins": "assets/fruits/citrus/mandarins.png",
      "Minneola tangelos": "assets/fruits/citrus/minneolas.png",
      "Oranges": "assets/fruits/citrus/oranges.png",
      "Pineapple": "assets/fruits/citrus/pineapple.png",
      "Pink grapefruit": "assets/fruits/citrus/pinkgrapefruit.png",
      "Pomelos": "assets/fruits/citrus/pomelos.png",
      "Starfruit": "assets/fruits/citrus/starfruit.png",
      "Tangerines": "assets/fruits/citrus/tangerines.png",
      "Ugli fruit": "assets/fruits/citrus/uglifruit.png",
      "White grapefruit": "assets/fruits/citrus/whitegrapefruit.png",
    
      // --- ORANGE / RED (carotenoid_lycopene) ---
      "Apricots": "assets/fruits/orangered/apricots.png",
      "Canary melon": "assets/fruits/orangered/canarymelon.png",
      "Cantaloupe": "assets/fruits/orangered/cantaloupe.png",
      "Cherry/Grape tomatoes": "assets/fruits/orangered/cherrytomatoes.png",
      "Galia melon": "assets/fruits/orangered/galiamelon.png",
      "Horned melon": "assets/fruits/orangered/hornedmelon.png",
      "Jackfruit": "assets/fruits/orangered/jackfruit.png",
      "Mamey sapote": "assets/fruits/orangered/mamey.png",
      "Mangoes (large)": "assets/fruits/orangered/mangolarge.png",
      "Mangoes (small)": "assets/fruits/orangered/mangosmall.png",
      "Nance": "assets/fruits/orangered/nance.png",
      "Nectarines": "assets/fruits/orangered/nectarines.png",
      "Papaya": "assets/fruits/orangered/papaya.png",
      "Peaches": "assets/fruits/orangered/peaches.png",
      "Persimmons": "assets/fruits/orangered/persimmons.png",
      "Watermelon": "assets/fruits/orangered/watermelon.png",
    
      // --- OTHER_Fruits ---
      "Asian pears": "assets/fruits/other_fruits/asianpears.png",
      "Avocados": "assets/fruits/other_fruits/avocados.png",
      "Bananas": "assets/fruits/other_fruits/bananas.png",
      "Coconut": "assets/fruits/other_fruits/coconuts.png",
      "Dates": "assets/fruits/other_fruits/dates.png",
      "Dragonfruit (pitaya)": "assets/fruits/other_fruits/dragonfruit.png",
      "Green apples": "assets/fruits/other_fruits/greenapple.png",
      "Soursop/Guanabana": "assets/fruits/other_fruits/guanabana.png",
      "Honeydew melon": "assets/fruits/other_fruits/honeydew.png",
      "Kiwi": "assets/fruits/other_fruits/kiwi.png",
      "Pawpaws": "assets/fruits/other_fruits/pawpaws.png",
      "Pears": "assets/fruits/other_fruits/pears.png",
      "Plantains": "assets/fruits/other_fruits/plantains.png",
      "Red apples": "assets/fruits/other_fruits/redapple.png",
      "Tamarind": "assets/fruits/other_fruits/tamarind.png",
      "Yellow apples": "assets/fruits/other_fruits/yellowapple.png"
    };
        
    // ===== PROTEIN IMAGE MAP (name -> relative path) =====
    const PROTEIN_IMG = {
      // ---- Legumes & pulses ----
      "Adzuki beans": "assets/protein/legumes/adzukibeans.png", // your file name is "adzukibeans"
      "Black beans": "assets/protein/legumes/blackbeans.png",
      "Black-eyed peas": "assets/protein/legumes/blackeyedpeas.png",
      "Brown lentils": "assets/protein/legumes/brownlentils.png",
      "Chickpeas/Garbanzo beans": "assets/protein/legumes/chickpeas.png",
      "Fava beans": "assets/protein/legumes/favabeans.png",
      "Green lentils": "assets/protein/legumes/greenlentils.png",
      "Green split peas": "assets/protein/legumes/greensplitpeas.png",
      "Kidney beans": "assets/protein/legumes/kidneybeans.png",
      "Lima/Butter beans": "assets/protein/legumes/limabeans.png",
      "Mung beans": "assets/protein/legumes/mungbeans.png",
      "Navy beans": "assets/protein/legumes/navybeans.png",
      "Peanuts": "assets/protein/legumes/peanuts.png",
      "Pinto beans": "assets/protein/legumes/pintobeans.png",
      "Red lentils": "assets/protein/legumes/redlentils.png",
      "Yellow split peas": "assets/protein/legumes/yellowsplitpeas.png",
    
      // ---- Complete proteins ----
      "Amaranth": "assets/protein/complete/amaranth.png",
      "Buckwheat/Soba": "assets/protein/complete/buckwheat.png",
      "Chia seeds": "assets/protein/complete/chiaseeds.png",
      "Chicken/Turkey/Plant poultry": "assets/protein/complete/chicken.png",
      "Cow meat/Plant beef": "assets/protein/complete/cowmeat.png",
      "Edamame": "assets/protein/complete/edamame.png",
      "Eggs/Egg substitute": "assets/protein/complete/eggs.png",
      "Hemp hearts/seeds": "assets/protein/complete/hemphearts.png",
      "Lamb/Goat/Other meats": "assets/protein/complete/lamb.png",
      "Pig meat/Plant pork": "assets/protein/complete/pigmeat.png",
      "Quinoa": "assets/protein/complete/quinoa.png",
      "Seitan/Wheat-based meat": "assets/protein/complete/seitan.png",
      "Soft/Firm tofu": "assets/protein/complete/tofu.png",
      "Tempeh": "assets/protein/complete/tempeh.png",
      "Textured Vegetable Protein (TVP)": "assets/protein/complete/tvp.png",
      "Wild rice/Manoomin": "assets/protein/complete/wildrice.png",
    
      // ---- Dairy (animal & plant) ----
      "Almond milk": "assets/protein/dairy/almondmilk.png",
      "Cashew milk": "assets/protein/dairy/cashewmilk.png",
      "Coconut milk": "assets/protein/dairy/coconutmilk.png",
      "Cottage cheese": "assets/protein/dairy/cottagecheese.png",
      "Cream cheese": "assets/protein/dairy/creamcheese.png",
      "Hazelnut milk": "assets/protein/dairy/hazelnutmilk.png",
      "Hemp/Flax milk": "assets/protein/dairy/hempmilk.png",   // you have hempmilk; no separate flax image
      "Hard cheeses": "assets/protein/dairy/hardcheese.png",
      "Lactated cow/goat/sheep milk": "assets/protein/dairy/lactatedmilk.png",
      "Oat milk": "assets/protein/dairy/oatmilk.png",
      "Rice milk": "assets/protein/dairy/ricemilk.png",
      "Soft aged/crumbly cheese": "assets/protein/dairy/crumblycheese.png",
      "Soft fresh cheeses": "assets/protein/dairy/softcheese.png",
      "Sour cream": "assets/protein/dairy/sourcream.png",
      "Soy milk": "assets/protein/dairy/soymilk.png",
      "Yogurt/Kefir": "assets/protein/dairy/yogurt.png",
    
      // ---- Seafood ----
      "Anchovies": "assets/protein/seafood/anchovies.png", // helper will fall back to this when needed
      "Catfish": "assets/protein/seafood/catfish.png",
      "Clams": "assets/protein/seafood/clams.png",
      "Cod/Pollock": "assets/protein/seafood/cod.png",
      "Crab": "assets/protein/seafood/crab.png",
      "Crawfish": "assets/protein/seafood/crawfish.png",
      "Lobster": "assets/protein/seafood/lobster.png",
      "Mackerel": "assets/protein/seafood/mackerel.png",
      "Mussels": "assets/protein/seafood/mussels.png",
      "Oysters": "assets/protein/seafood/oysters.png",
      "Salmon": "assets/protein/seafood/salmon.png",
      "Scallops": "assets/protein/seafood/scallops.png",
      "Shrimp": "assets/protein/seafood/shrimp.png",
      "Tilapia": "assets/protein/seafood/tilapia.png",
      "Trout": "assets/protein/seafood/trout.png",
      "Tuna": "assets/protein/seafood/tuna.png",
    
      // alias for combined label in your data
      "Sardines/Anchovies": "assets/protein/seafood/anchovies.png"
    };

    // ===== CALORIES IMAGE MAP (name -> relative path) =====
    // covers: Grains, Roots (tubers), Nuts & Seeds, Oils & Fats
    const CAL_IMG = {
      // --- Grains ---
      "Amaranth":      "assets/calories/grains/amaranth.png",
      "Barley":        "assets/calories/grains/barley.png",
      "Brown rice":    "assets/calories/grains/brownrice.png",
      "Buckwheat":     "assets/calories/grains/buckwheat.png",
      "Cornmeal":      "assets/calories/grains/cornmeal.png",
      "Couscous":      "assets/calories/grains/couscous.png",
      "Kamut":         "assets/calories/grains/kamut.png",
      "Millet":        "assets/calories/grains/millet.png",
      "Oats":          "assets/calories/grains/oats.png",
      "Pasta":         "assets/calories/grains/pasta.png",
      "Quinoa":        "assets/calories/grains/quinoa.png",
      "Rye":           "assets/calories/grains/rye.png",
      "Sorghum":       "assets/calories/grains/sorghum.png",
      "Wheat":   "assets/calories/grains/wheatbread.png",
      "White rice":    "assets/calories/grains/whiterice.png",
      "Wild rice":     "assets/calories/grains/wildrice.png",
    
      // --- Roots / Tubers ---
      "Arrowroot":         "assets/calories/tubers/arrowroot.png",
      "White/Golden sweet potatoes (boniato)": "assets/calories/tubers/boniatos.png",
      "Fingerling potatoes":"assets/calories/tubers/fingerlings.png",
      "Cassava (yuca/tapioca/fufu)":              "assets/calories/tubers/fufu.png",
      "Parsnips":          "assets/calories/tubers/parsnips.png",
      "Plantains":         "assets/calories/tubers/plantains.png",
      "Purple potatoes":   "assets/calories/tubers/purplepotatoes.png",
      "Red potatoes":      "assets/calories/tubers/redpotatoes.png",
      "Russet potatoes":           "assets/calories/tubers/russets.png",
      "Rutabaga":          "assets/calories/tubers/rutabaga.png",
      "Sweet potatoes":    "assets/calories/tubers/sweetpotatoes.png",
      "Taro":              "assets/calories/tubers/taro.png",
      "Turnips":           "assets/calories/tubers/turnips.png",
      "Ube":               "assets/calories/tubers/ube.png",
      "Yams":              "assets/calories/tubers/yams.png",
      "Yukon gold potatoes":        "assets/calories/tubers/yukongold.png",
    
      // --- Nuts & Seeds ---
      "Almonds":        "assets/calories/nutsseeds/almonds.png",
      "Brazil nuts":    "assets/calories/nutsseeds/brazilnuts.png",
      "Cashews":        "assets/calories/nutsseeds/cashews.png",
      "Chia seeds":     "assets/calories/nutsseeds/chiaseeds.png",
      "Flax seeds":     "assets/calories/nutsseeds/flaxseeds.png",
      "Hazelnuts":      "assets/calories/nutsseeds/hazelnuts.png",
      "Hemp hearts":    "assets/calories/nutsseeds/hemphearts.png",
      "Macadamia nuts": "assets/calories/nutsseeds/macadamianuts.png",
      "Pecans":         "assets/calories/nutsseeds/pecans.png",
      "Pine nuts":      "assets/calories/nutsseeds/pinenuts.png",
      "Pistachios":     "assets/calories/nutsseeds/pistachios.png",
      "Poppy seeds":    "assets/calories/nutsseeds/poppyseeds.png",
      "Pumpkin seeds":  "assets/calories/nutsseeds/pumpkinseeds.png",
      "Sesame seeds":   "assets/calories/nutsseeds/sesameseeds.png",
      "Sunflower seeds":"assets/calories/nutsseeds/sunflowerseeds.png",
      "Walnuts":        "assets/calories/nutsseeds/walnuts.png",
    
      // --- Oils & Fats ---
      "Avocado oil":   "assets/calories/oilsfats/avocadooil.png",
      "Butter":        "assets/calories/oilsfats/butter.png",
      "Canola oil":    "assets/calories/oilsfats/canolaoil.png",
      "Coconut oil":   "assets/calories/oilsfats/coconutoil.png",
      "Flaxseed oil":  "assets/calories/oilsfats/flaxseedoil.png",
      "Ghee":          "assets/calories/oilsfats/ghee.png",
      "Grapeseed oil": "assets/calories/oilsfats/grapeseedoil.png",
      "Lard":          "assets/calories/oilsfats/lard.png",
      "Olive oil":     "assets/calories/oilsfats/oliveoil.png",
      "Palm oil":      "assets/calories/oilsfats/palmoil.png",
      "Peanut oil":    "assets/calories/oilsfats/peanutoil.png",
      "Safflower oil": "assets/calories/oilsfats/saffloweroil.png",
      "Sesame oil":    "assets/calories/oilsfats/seasameoil.png", // filename spelled 'seasameoil' in your folder
      "Soy oil":       "assets/calories/oilsfats/soyoil.png",
      "Sunflower oil": "assets/calories/oilsfats/sunfloweroil.png",
      "Walnut oil":    "assets/calories/oilsfats/walnutoil.png"
    };


    // ===== FLAVOR IMAGE MAP (name -> relative path under /assets/flavor) =====
    const FLAVOR_IMG = {
      // --- Flavor Veggies ---
      "Anaheim": "assets/flavor/flavorveg/anaheim.png",
      "Cayenne": "assets/flavor/flavorveg/cayenne.png",
      "Chile de √°rbol": "assets/flavor/flavorveg/chiledearbol.png",
      "Chives": "assets/flavor/flavorveg/chives.png",
      "Garlic": "assets/flavor/flavorveg/garlic.png",
      "Green onions": "assets/flavor/flavorveg/greenonions.png",
      "Guajillo": "assets/flavor/flavorveg/guajillo.png",
      "Habanero": "assets/flavor/flavorveg/habanero.png",
      "Jalape√±os/Chipotle peppers": "assets/flavor/flavorveg/jalapenos.png",
      "Pearl onions": "assets/flavor/flavorveg/pearlonions.png",
      "Poblano": "assets/flavor/flavorveg/poblano.png",
      "Red onions": "assets/flavor/flavorveg/redonions.png",
      "Serrano": "assets/flavor/flavorveg/serrano.png",
      "Shallots": "assets/flavor/flavorveg/shallots.png",
      "White onions": "assets/flavor/flavorveg/whiteonions.png",
      "Yellow onions": "assets/flavor/flavorveg/yellowonions.png",
    
      // --- Fresh Herbs ---
      "Chervil": "assets/flavor/freshherbs/chervil.png",
      "Cilantro": "assets/flavor/freshherbs/cilantro.png",
      "Curly parsley": "assets/flavor/freshherbs/curlyparsley.png",
      "Dill": "assets/flavor/freshherbs/dill.png",
      "Epazote": "assets/flavor/freshherbs/epazote.png",
      "Flat parsley": "assets/flavor/freshherbs/flatparsley.png",
      "Flat-leaf/Italian parsley": "assets/flavor/freshherbs/flatparsley.png",
      "Flat-leaf parsley":         "assets/flavor/freshherbs/flatparsley.png",
      "Italian parsley":           "assets/flavor/freshherbs/flatparsley.png",
      "Holy basil": "assets/flavor/freshherbs/holybasil.png",
      "Lemon balm": "assets/flavor/freshherbs/lemonbalm.png",
      "Lemongrass": "assets/flavor/freshherbs/lemongrass.png",
      "Oregano": "assets/flavor/freshherbs/oregano.png",
      "Peppermint": "assets/flavor/freshherbs/peppermint.png",
      "Sage": "assets/flavor/freshherbs/sage.png",
      "Spearmint": "assets/flavor/freshherbs/spearmint.png",
      "Sweet basil": "assets/flavor/freshherbs/sweetbasil.png",
      "Thai basil": "assets/flavor/freshherbs/thaibasil.png",
      "Thyme": "assets/flavor/freshherbs/thyme.png",
    
      // --- Dried Spices ---
      "Allspice": "assets/flavor/spices/allspice.png",
      "Bay leaf": "assets/flavor/spices/bayleaves.png",
      "Cardamom": "assets/flavor/spices/cardamom.png",
      "Cinnamon": "assets/flavor/spices/cinnamon.png",
      "Cloves": "assets/flavor/spices/cloves.png",
      "Coriander": "assets/flavor/spices/coriander.png",
      "Cumin": "assets/flavor/spices/cumin.png",
      "Fennel seeds": "assets/flavor/spices/fennel.png",
      "Ginger": "assets/flavor/spices/ginger.png",
      "Marjoram": "assets/flavor/spices/marjoram.png",
      "Nutmeg": "assets/flavor/spices/nutmeg.png",
      "Paprika": "assets/flavor/spices/paprika.png",
      "Pepper": "assets/flavor/spices/pepper.png",
      "Rosemary": "assets/flavor/spices/rosemary.png",
      "Tarragon": "assets/flavor/spices/tarragon.png",
      "Turmeric": "assets/flavor/spices/turmeric.png",
    
      // --- Flavor: Other ---
      "Agave nectar": "assets/flavor/misc/agavesyrup.png",
      "Black tea": "assets/flavor/misc/blacktea.png",
      "Cacao nibs/Cocoa powder": "assets/flavor/misc/cacao.png",
      "Coffee": "assets/flavor/misc/coffee.png",
      "Dark chocolate": "assets/flavor/misc/darkchocolate.png",
      "Dried fruit": "assets/flavor/misc/driedfruit.png",
      "Green tea": "assets/flavor/misc/greentea.png",
      "Herbal tea": "assets/flavor/misc/herbaltea.png",
      "Honey": "assets/flavor/misc/honey.png",
      "Kimchi": "assets/flavor/misc/kimchi.png",
      "Maple syrup": "assets/flavor/misc/maplesyrup.png",
      "Miso": "assets/flavor/misc/miso.png",
      "Molasses": "assets/flavor/misc/molasses.png",
      "Olives": "assets/flavor/misc/olives.png",
      "Vinegar": "assets/flavor/misc/vinegar.png",
      "Yerba mate": "assets/flavor/misc/yerbamate.png"
    };
    
        
    // === PATCH A: image registries (drop-in replacement, with robust lookups) ===
    const IMG_MAPS = {
      vegetables: VEG_IMG,
      fruits:     FRUIT_IMG,
      protein:    PROTEIN_IMG,
      proteins:   PROTEIN_IMG,   // alias
      calories:   CAL_IMG,       // covers grains/roots/oils/fats
      grains:     CAL_IMG,       // alias
      flavor:     FLAVOR_IMG,
      center:     FLAVOR_IMG     // alias
    };
    
    // Build lowercase lookup tables once (faster + easier matching)
    const LOWER_IMG_MAPS = {};
    for (const [cat, map] of Object.entries(IMG_MAPS)) {
      const lower = {};
      for (const [k, v] of Object.entries(map || {})) lower[k.toLowerCase()] = v;
      LOWER_IMG_MAPS[cat] = lower;
    }
    
    function stripDiacritics(s){
      return String(s).normalize('NFD').replace(/[\u0300-\u036f]/g, '');
    }
    
    function tryVariations(name) {
      const raw = stripDiacritics(String(name).trim());
    
      // remove parentheticals, split on slashes
      const parts = raw
        .replace(/\([^)]*\)/g, '')  // e.g., (70%+)
        .split('/')
        .map(s => s.trim())
        .filter(Boolean);
    
      // common trailing words to drop
      const dropWords = / (peppers?|chiles?|chilies|leaf|leaves|seeds?)$/i;
    
      const candidates = new Set();
      for (const p of parts) {
        const base = p.replace(dropWords, '');
        candidates.add(p);
        candidates.add(base);
        // simple singularization (apples ‚Üí apple)
        if (base.endsWith('s')) candidates.add(base.slice(0, -1));
      }
      return [...candidates].map(s => s.toLowerCase());
    }
    
    function getImgFor(catKey, _subKey, name){
      const map = LOWER_IMG_MAPS[catKey];
      if (!map || !name) return null;
    
      // 1) direct (case-insensitive)
      const direct = map[String(name).toLowerCase()];
      if (direct) return direct;
    
      // 2) normalized fallbacks (handles ‚ÄúX/Y‚Äù, diacritics, plurals)
      for (const alt of tryVariations(name)) {
        if (map[alt]) return map[alt];
      }
      return null;
    }


    // === PATCH B: data registries (new) ===
    const DATA = {
      vegetables: MASTER.vegetables,
      fruits:     MASTER.fruits,
      protein:    PROTEINS,
      proteins:   PROTEINS,       // alias
      calories:   GRAINS_ROOTS,   // alias for grains/roots/oils
      grains:     GRAINS_ROOTS,   // alias
      flavor:     FLAVOR_CENTER,
      center:     FLAVOR_CENTER   // alias
    };

    // === PATCH 1A: FOOD_INFO (minimal starter data; expand freely) ===
   window.FOOD_INFO = {
       //Vegetables
        //Leafy
          "Spinach": {
            origin: "Southwest Asia ‚Üí adopted globally; widely grown in the Americas.",
            how: [
              "Saut√© with garlic and a splash of broth; finish with lemon.",
              "Stir into soups, stews, or lentils in the last 2‚Äì3 minutes.",
              "Blend into smoothies or pesto for a mild green boost."
            ],
            how_warning: "", // leave blank for no warning
            pairs: ["Lemon", "Garlic", "Olive oil", "White beans", "Feta"],
            vitality: ["Folate", "Vitamin K", "Lutein/Zeaxanthin", "Iron (non-heme)"],
            stories: "Common in many Indigenous-inspired fusions today; pairs easily with beans, corn, and squash dishes."
          }, 
    
          "Romaine Lettuce": {
            origin: "Likely Mediterranean / Middle East.",
            how: [
              "Best eaten fresh and raw‚Äîdon‚Äôt freeze or cook. Use as a salad base, lettuce wrap, or light topper for proteins and grains."
            ],
            how_warning: "", // leave blank for no warning
            pairs: ["Olive oil", "Walnuts", "Grilled chicken", "Quinoa", "Cranberries", "Avocado"],
            vitality: ["Vitamins A and K", "Folate", "Potassium", "Lutein", "Zeaxanthin (eye and skin health)"],
            stories: "In ancient Egypt, lettuce (a precursor of modern romaine types) was associated with the fertility god Min. According to Egyptian tomb-paintings, lettuce was brought forth in rituals as a symbol of virility and renewal. In the Jewish tradition, romaine has sometimes been used during the Passover Seder as a 'bitter herb,' symbolizing the bitterness of servitude in ancient Egypt."
          },
        
          "Kale": {
            origin: "Eastern Mediterranean / Anatolia.",
            how: [
              "Enjoy raw in salads or smoothies, or cook (roast, saut√©, steam). Massaging raw leaves with oil softens them."
            ],
            how_warning: "", // leave blank for no warning
            pairs: ["Olive oil", "Almonds", "Quinoa", "Dried cranberries", "Avocado"],
            vitality: ["Vitamins A, C, and K", "Folate", "Potassium", "Glucosinolates", "Lutein/Zeaxanthin for eye + cell health"],
            stories: "In ancient Greece, cabbage was held in high regard and was sometimes called 'the prophet among vegetables.' One story says that the god Zeus, wrestling with contradictory oracles, began to sweat ‚Äî and from a single divine drop of sweat a cabbage sprang up. Because kale is a direct descendant (via the wild cabbage-type plants of the eastern Mediterranean/Anatolia region) this ancient reverence links right into kale‚Äôs hardy, sustaining nature. When you eat kale, you‚Äôre partaking in a long lineage of greens once honoured for insight, endurance and renewal."
          },
        
          "Green Leaf Lettuce": {
            origin: "Eastern Mediterranean / Western Asia.",
            how: [
              "Best fresh and raw. Use in salads, sandwiches, or as loose leafy beds beneath grains or proteins. Avoid freezing or heavy cooking so you keep the crunchy texture."
            ],
            how_warning: "", // leave blank for no warning
            pairs: ["Olive oil", "Almonds", "Quinoa", "Dried cranberries", "Avocado"],
            vitality: ["Vitamins K and A", "Folate", "Lutein/Zeaxanthin for eye and skin health"],
            stories: "In the Levant, early farmers offered leafy greens to honor the return of spring. Lettuce was seen as a gift of balance‚Äîcooling after the heat of summer‚Äôs grains. Ancient folk healers used its sap, called lactucarium, in rituals for calm and renewal, believing it carried the spirit of peace back into the body."
          },
        
          "Red Leaf Lettuce": {
            origin: "Europe (loose-leaf cultivar group).",
            how: [
              "Enjoy fresh and raw for maximum flavor and texture. Use as a salad base, wrap, or loose topper over grains and proteins."
            ],
            how_warning: "", // leave blank for no warning
            pairs: ["Balsamic vinegar", "Pistachios", "Soft goat cheese", "Farro", "Pomegranate seeds", "Edamame"],
            vitality: ["Vitamins A and K", "Folate", "Anthocyanins (the red pigments supporting antioxidant defenses)"],
            stories: "Loose-leaf lettuces like this emerged in Europe during the 1600s as farmers selected for color and texture. One folk belief held that red-tinged lettuces carried the energy of the earth‚Äôs sunset sky, and were eaten in autumn to symbolize the turning of seasons and the deepening of the harvest. In French kitchen herbals of the 17th century, lettuces were praised as 'leaves of peace,' given to guests as a dish of welcome and renewal."
          },
        
          "Butter / Bibb Lettuce": {
            origin: "Mediterranean basin.",
            how: [
              "Best fresh and raw. Its soft, cup-shaped leaves make beautiful wraps or salads. Avoid freezing or high heat ‚Äî it bruises easily."
            ],
            how_warning: "", // leave blank for no warning
            pairs: ["Tahini dressing", "Sliced pear", "Pecans", "Wild rice", "Soft fresh cheese", "Roasted beets"],
            vitality: ["Vitamins A, K, and C", "Folate", "Potassium", "Rich in water and gentle minerals that replenish hydration and support skin health"],
            stories: "In early Mediterranean lore, tender lettuces were known as 'moon greens.' Monks and village herbalists grew them in shaded gardens as symbols of humility and healing, believing their softness reflected the moon‚Äôs calm light. Eating butter lettuce at dawn was said to quiet anger and restore patience after long fasting or labor. Its mild flavor earned it a place in spring rituals welcoming gentleness back to the world."
          },
        
          "Collard Greens": {
            origin: "Eastern Mediterranean / Africa.",
            how: [
              "Enjoy cooked‚Äîsteam, saut√©, or simmer in broth. The leaves are hearty and slightly bitter when raw but turn tender and rich when softened by heat."
            ],
            how_warning: "", // leave blank for no warning
            pairs: ["Olive oil", "Garlic", "Black-eyed peas", "Cornmeal", "Smoked paprika", "Lemon juice"],
            vitality: ["Vitamins A, C, and K", "Folate", "Calcium", "Glucosinolates that support detoxification and immune health"],
            stories: "Collard-type greens were cultivated along the Mediterranean coast over 2,000 years ago and carried to Africa, where they thrived in new soils and became a symbol of endurance. In many African and African-diaspora traditions, greens represent prosperity and ancestral blessing‚Äîeach simmering pot honors those who survived and those yet to come. Within the old Brassica myths of the Mediterranean, it was said that sturdy greens were gifts of the gods to help humankind weather hardship; their deep roots bound the earth to human resilience."
          },
        
          "Swiss Chard": {
            origin: "Mediterranean basin.",
            how: [
              "Enjoy raw in salads when young, or saut√©, roast, or simmer mature leaves and stems. The stems soften beautifully when cooked."
            ],
            how_warning: "", // leave blank for no warning
            pairs: ["Olive oil", "Garlic", "Lemon", "White beans", "Pine nuts", "Feta cheese"],
            vitality: ["Vitamins K, A, and C", "Magnesium", "Potassium", "Betalains (pigments that support liver cleansing and reduce inflammation)"],
            stories: "Ancient Greek legends tell that the goddess Demeter, patron of harvests, favored chard among her sacred vegetables. Its rainbow stems were said to mark where she laid her torch while searching for her daughter Persephone, lighting the soil with color. In later folk traditions, chard‚Äôs brilliant veins symbolized life‚Äôs energy flowing through the body‚Äîstrength for laborers, protection for travelers, and healing for those returning home."
          },
      
        "Bean Sprouts": {
          origin: "East Asia.",
          how: [
            "Enjoy raw or lightly cooked. Add to salads, stir-fries, soups, or wraps near the end of cooking for a fresh crunch."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Sesame oil", "Soy sauce", "Scallions", "Tofu", "Garlic", "Rice noodles", "Ginger"],
          vitality: ["Vitamins C and K", "Folate", "Enzymes that aid digestion and renewal. Sprouting enhances nutrient absorption and plant vitality"],
          stories: "In ancient Chinese tradition, sprouting seeds were symbols of qi ‚Äî the vital energy that awakens life. Monks cultivated sprouts in clay pots during winter to represent rebirth and perseverance. Legends say the sage Shennong, the ‚ÄúDivine Farmer,‚Äù discovered that soaking beans in spring water made them sprout overnight, turning dormant seeds into living food. Eating fresh sprouts was believed to align the body‚Äôs inner rhythm with the renewing rhythm of the earth."
        },
        
        "Other Greens": {
          origin: "Mustard greens ‚Äî Himalayan foothills (South Asia); Turnip greens ‚Äî Eastern Mediterranean; Beet greens ‚Äî North Africa and the Mediterranean.",
          how: [
            "Best cooked or lightly wilted to soften their flavor. Saut√©, braise, or stir-fry with garlic and a splash of lemon or vinegar for brightness."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Garlic", "Chili flakes", "Vinegar", "Lentils", "Sesame oil", "Lemon"],
          vitality: ["Vitamins A, C, and K", "Iron", "Calcium", "Potassium", "Mustard greens support liver detoxification", "Turnip greens provide antioxidants", "Beet greens are rich in nitrates that help lower blood pressure and enhance stamina"],
          stories: "In Indian lore, mustard fields symbolize prosperity and the goddess Lakshmi‚Äôs blessing of fertile earth. Turnip greens trace back to the Mediterranean, where farmers offered their first spring leaves to Demeter for steady harvests. Beet greens, loved in ancient North Africa, were tied to vitality and the red pulse of life; the Greeks associated the beet plant with Aphrodite and offered it in temples as a symbol of love and endurance."
        },
        
        "Endive": {
          origin: "Mediterranean / Western Asia.",
          how: [
            "Enjoy raw for a crisp, slightly bitter crunch, or lightly braised or grilled to mellow the flavor. Often used in salads or as edible ‚Äúboats‚Äù for dips."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Apples", "Walnuts", "Blue cheese", "Lentils", "Lemon", "Honey"],
          vitality: ["Vitamins A, C, K, and B9 (folate)", "Fiber", "Inulin that supports digestion and gut health"],
          stories: "In Greco-Roman lore, bitter greens like endive symbolized purification of the soul. Ancient healers believed its white sap carried moonlight ‚Äî cooling fevers and softening anger. In Roman myth, the physician-god Asclepius was said to favor endive for restoring balance to the heart after grief. Later, monastic herbalists grew it in cloister gardens, calling it ‚Äúthe humble leaf,‚Äù used during fasting as a reminder that even bitterness has healing within it."
        },
        
        "Escarole & Fris√©e": {
          origin: "Escarole ‚Äî Southern Italy / Mediterranean region; Fris√©e ‚Äî Western Europe / France.",
          how: [
            "Both are mildly bitter greens best enjoyed fresh or lightly cooked. Escarole works beautifully in soups and saut√©s; Fris√©e shines raw in salads, especially when balanced with citrus or a warm vinaigrette."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Garlic", "White beans", "Lemon", "Almonds", "Parmesan", "Couscous"],
          vitality: ["Vitamins A, C, and K", "Folate", "Fiber", "Inulin for digestive and heart health", "Natural bitters aid liver cleansing and stimulate appetite"],
          stories: "In ancient Italy, chicory greens like escarole were linked to transformation. Folklore said they sprang from the tears of a woman turned to the soil for her devotion‚Äîeach new leaf a promise of endurance through hardship. In medieval France, Fris√©e earned the name ‚Äúthe waking leaf,‚Äù believed to stir alertness and clarity of mind. Healers gathered it before dawn, when dew still clung to the curls, saying that the morning stars gifted it wisdom. Together, these sister greens carried a sacred balance: one soft and grounding, the other bright and awakening‚Äîtwo halves of renewal."
        },
        
        "Other Sprouts": {
          origin: "Alfalfa ‚Äî Central and South Asia (ancient Persia); Broccoli ‚Äî Mediterranean region (descended from wild cabbage); Clover ‚Äî Europe and Western Asia, later naturalized worldwide.",
          how: [
            "Enjoy raw or lightly wilted. Add to salads, sandwiches, wraps, and grain bowls for crunch and freshness. Rinse daily when sprouting at home and avoid high heat to preserve enzymes."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Lemon", "Hummus", "Avocado", "Tomatoes", "Sesame seeds", "Tofu"],
          vitality: ["Vitamins A, C, and K", "Folate", "Fiber", "Plant enzymes that aid digestion and detoxification", "Broccoli sprouts are rich in sulforaphane for cellular protection and anti-inflammatory benefits"],
          stories: "In ancient Persia, alfalfa (aspo-asti, ‚Äúhorse fodder‚Äù) was blessed to honor the strength of the animals and the fertility of the soil. Farmers scattered its seed at new year festivals as a prayer for endurance. In Celtic folklore, clover carried mystical protection ‚Äî a three-leaf charm for balance between earth, sky, and sea. And in Mediterranean legend, the ancestors of broccoli were said to sprout where the tears of Demeter fell, marking rebirth in the first green shoots of spring. Across cultures, sprouts symbolized renewal ‚Äî the spark of life returning again and again from within the seed."
        },
        
        "Watercress": {
          origin: "Europe, Western Asia, and independently in parts of East Asia and the Americas.",
          how: [
            "Enjoy fresh in salads or sandwiches, or wilt gently in soups. Its peppery flavor pairs best with mild or creamy ingredients."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Sesame oil", "Tofu", "Potatoes", "Citrus", "Garlic", "Rice noodles", "Eggs"],
          vitality: ["Vitamins A, C, and K", "Iron", "Calcium", "Phenethyl isothiocyanates that protect against oxidative stress and support circulation"],
          stories: "In Celtic lore, watercress was gathered at dawn from running streams as a purifier of body and spirit. Healers believed it carried the ‚Äúsong of the spring,‚Äù restoring clarity after grief. In North America, some Indigenous peoples of the Great Basin and California regions foraged wild watercress and considered its crisp growth in the cold running water to be a sign of the land‚Äôs renewal. The plant‚Äôs emergence in early spring was taken as a promise of returning life and abundance after winter‚Äôs stillness."
        },
        
        "Seaweed / Nori": {
          origin: "Coastal East Asia ‚Äî Japan, Korea, and China.",
          how: [
            "Enjoy dried, toasted, or rehydrated. Commonly used to wrap rice, garnish soups, or add umami flavor to broths and stir-fries."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Rice", "Sesame oil", "Tofu", "Cucumbers", "Miso", "Soy sauce", "Avocado"],
          vitality: ["Rich in iodine", "Calcium", "Magnesium", "Iron", "Vitamins A and K", "Polysaccharides that support thyroid and gut health"],
          stories: "In ancient Japanese Shinto belief, seaweeds were offerings to the ocean deities ‚Äî the kami of the tides. Fisherfolk tied ribbons of kelp and nori to their boats before sailing, asking for safe passage and abundant harvests. According to the myth of Watatsumi, god of the sea, seaweed grew from his flowing hair, a gift to humankind connecting food, protection, and the sacred balance between land and water. In Korea, early coastal families offered roasted seaweed to ancestors during the jesa ceremonies, symbolizing gratitude for the sea‚Äôs nourishment and a wish for calm waters."
        },
        
        "Kelp": {
          origin: "Cold coastal waters of the Pacific Rim ‚Äî East Asia, the Pacific Northwest, and coastal South America.",
          how: [
            "Eat fresh, dried, or powdered. Use in soups, broths, or as a seasoning. Rehydrate strips in warm water to add to salads or stir-fries."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Tofu", "Rice", "Miso", "Sesame oil", "Ginger", "Vinegar", "Citrus"],
          vitality: ["Iodine", "Calcium", "Potassium", "Magnesium", "Iron", "Fucoidans that support thyroid balance, immunity, and cell renewal"],
          stories: "Among Pacific Northwest Coast peoples, kelp was seen as a bridge between worlds ‚Äî its long ribbons connecting sky, sea, and the unseen realm beneath. Some oral traditions tell that Raven, the trickster-creator, wove the first kelp beds to tether islands in place after shaping the ocean. Along the Chilean coast, Mapuche fishers still speak of kol√ºf, the sea‚Äôs hair, born from the laughter of water spirits. In Japan, kelp (kombu) was offered to the gods during Shinto feasts of gratitude; its name echoes the word yorokobu ‚Äî ‚Äúto rejoice.‚Äù Across the Pacific, kelp remains a living symbol of generosity: a plant that holds the sea together and gives more than it takes."
        },
        
        //Cruciferous
        "Broccoli": {
          origin: "Eastern Mediterranean / Southern Italy.",
          how: [
            "Eat raw, steamed, roasted, or stir-fried. Light cooking softens bitterness and enhances its gentle sweetness."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Garlic", "Lemon", "Sesame seeds", "Cashews", "Miso", "Tofu"],
          vitality: ["Vitamins C and K, folate, fiber, calcium, and sulforaphane ‚Äî a powerful phytonutrient that supports detoxification and cellular repair."],
          stories: "Broccoli descends from the ancient wild cabbage revered around the Mediterranean. According to one Greek tale, the goddess Demeter wept upon the earth after losing her daughter Persephone, and from her tears sprouted the first brassica greens ‚Äî plants that could survive even in the cold, nourishing the hungry through winter. In Italy‚Äôs early coastal villages, broccoli was called broccolo, meaning ‚Äúflowering crest,‚Äù and it symbolized protection of the household. Bundles of greens were hung near kitchen doors to bless the year‚Äôs meals and keep illness away."
        },
        
        "Cauliflower": {
          origin: "Eastern Mediterranean.",
          how: [
            "Roast, steam, mash, or use as a grain substitute. Its mild flavor absorbs spices beautifully."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Garlic", "Turmeric", "Lemon", "Tahini", "Chickpeas", "Parsley"],
          vitality: ["Vitamins C and K, folate, fiber, and glucosinolates ‚Äî compounds that support liver and immune health."],
          stories: "Cauliflower‚Äôs ancestor, the wild cabbage, was called ‚Äúthe moon plant‚Äù by early Greek herbalists for its pale, luminous head. In one legend, the goddess Selene gifted humans the cabbage‚Äôs white heart to light their winter feasts when firewood was scarce. Later, Arab agronomists cultivated cauliflower in Syria, calling it quarnabit, meaning ‚Äúlittle horn,‚Äù for its curling florets that mirrored the spiral of creation."
        },
        
        "Green Cabbage": {
          origin: "Western Europe, cultivated from wild coastal cabbage.",
          how: [
            "Eat raw in slaws or ferment as sauerkraut, or cook lightly in soups and saut√©s."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Vinegar", "Caraway", "Onions", "Apples", "Lentils", "Dill"],
          vitality: ["Vitamins C and K, folate, fiber, and sulforaphane for digestive and immune support."],
          stories: "Greek lore tells that cabbage grew from Zeus‚Äôs sweat as he struggled to explain fate to mortals ‚Äî a symbol of humility after divine labor. Across Northern Europe, cabbage became a sacred hearth food, representing survival and thrift. During the long winters, it was believed that every pot of cabbage soup carried ancestral strength: the body of the earth made edible."
        },
        
        "Red Cabbage": {
          origin: "Europe (developed from green cabbage cultivars).",
          how: [
            "Enjoy raw, pickled, or lightly saut√©ed. Its color deepens with acidity."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Vinegar", "Apples", "Walnuts", "Cloves", "Mustard seeds", "Onions", "Citrus"],
          vitality: ["Vitamins C and K, anthocyanins (purple pigments) that protect cells and enhance circulation."],
          stories: "In medieval Europe, red cabbage was called ‚Äúthe blood of the earth.‚Äù Herbalists wrote that its violet hue came from the heart of Demeter herself ‚Äî a sign of life‚Äôs return after sorrow. In folk medicine, it was placed beneath cradles to protect newborns and near doors to ward off hunger. The color-shifting leaves, turning blue or red with the soil‚Äôs pH, were seen as proof that the earth speaks in living color."
        },
        
        "Brussels Sprouts": {
          origin: "Belgium / Northern Europe (descended from wild cabbage).",
          how: [
            "Roast, saut√©, or steam. Browning brings out natural sweetness and reduces bitterness."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Balsamic vinegar", "Pecans", "Mustard", "Garlic", "Cranberries", "Maple syrup"],
          vitality: ["Vitamins C and K, folate, fiber, and kaempferol ‚Äî a flavonoid that supports heart and immune health."],
          stories: "Brussels sprouts first thrived in the misty fields near the ancient city of Brussels, where farmers said they grew in ‚Äúrings of warmth‚Äù around the village hearths. Folklore claimed that each tiny head held a spark of winter sunlight ‚Äî stored strength for cold days. In Northern European kitchen magic, roasting the first sprouts of the season was said to invite prosperity and banish bitterness from the home."
        },
        
        "Bok Choy": {
          origin: "China, cultivated for over 1,500 years.",
          how: [
            "Enjoy raw, steamed, or stir-fried. Use both stems and leaves ‚Äî crisp and tender together."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Sesame oil", "Soy sauce", "Garlic", "Ginger", "Tofu", "Mushrooms", "Rice noodles"],
          vitality: ["Vitamins A, C, and K; calcium, folate, and antioxidants that support bone strength and immunity."],
          stories: "In ancient China, Bok Choy was known as ‚Äúwhite vegetable‚Äù (bai cai) and considered a gift from Guanyin, the bodhisattva of compassion. Monks said her tears fell into a farmer‚Äôs field, turning into pale green shoots that nourished the sick. The plant‚Äôs gentle flavor became a symbol of mercy ‚Äî a healing food that asked for nothing but water and light."
        },
        
        "Arugula": {
          origin: "Mediterranean region and Western Asia.",
          how: [
            "Eat fresh for a peppery kick, or wilt lightly in warm dishes."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Lemon", "Parmesan", "Walnuts", "Figs", "Balsamic vinegar", "Lentils"],
          vitality: ["Vitamins K, A, and C; calcium and nitrates for circulation and heart health."],
          stories: "In Roman times, arugula was considered an herb of passion. It was planted near Venus‚Äôs temples and eaten in love potions for vitality. Yet older stories tell of farmers sowing arugula before sunrise to honor Mercury, messenger of the gods ‚Äî believing the leaves carried quickness of thought and tongue. In village folkways, it remained the ‚Äúrocket herb,‚Äù symbolizing speed, spark, and the courage to chase what you love."
        },
        
        "Radishes": {
          origin: "South Asia, later spread to the Mediterranean.",
          how: [
            "Eat raw for sharpness, roast for sweetness, or pickle for tang. Radish greens can be saut√©ed or blended into soups; some people enjoy them, while others find them bitter."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Butter or plant butter", "Lemon", "Sesame oil", "Salt", "Mint", "Vinegar", "Lentils"],
          vitality: ["Vitamins C and B6, potassium, and isothiocyanates that cleanse and invigorate digestion."],
          stories: "Ancient Indian farmers grew radishes in sacred gardens to honor the earth goddess Bhumi Devi, thanking her for root crops that thrive unseen. In Egypt, radishes were buried with workers who built the pyramids ‚Äî food for the afterlife. In Mexico‚Äôs Indigenous traditions, the ‚ÄúNight of the Radishes‚Äù festival (Noche de los R√°banos) celebrates life‚Äôs humor and artistry, as villagers carve elaborate scenes from the humble root ‚Äî turning nourishment into joy."
        },
        
        "Turnips": {
          origin: "Eastern Mediterranean and Near East.",
          how: [
            "Boil, mash, roast, or pickle. The greens are edible too."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Thyme", "Garlic", "Chickpeas", "Lentils", "Tahini", "Miso"],
          vitality: ["Vitamins C and K; fiber, manganese, and glucosinolates for immune and liver support."],
          stories: "In ancient Greece, the turnip was sacred to Apollo, god of light and prophecy. Farmers left offerings of turnips carved into human shapes to ask for insight before planting season. In Celtic and later Scottish tradition, hollowed turnips were used as lanterns during Samhain to guide wandering spirits ‚Äî a custom that later transformed into the Halloween pumpkin. From the Mediterranean to the highlands, the humble turnip carried fire through the dark."
        },
        
        "Rutabaga": {
          origin: "Scandinavia and Russia (a natural cross between cabbage and turnip).",
          how: [
            "Eat the golden root. Peel only if the skin feels waxy or tough. Cut away root tips before cooking. The greens, if attached, are edible when cooked. Roast, mash, or simmer in soups.",
            "Too dense and starchy to chew raw. Pierce whole rutabaga a few times, roast 400 ¬∞F ¬∑ 20‚Äì25 min to soften wax and skin. Cool, peel easily, cube, toss with oil + salt, roast another 425 ¬∞F ¬∑ 30‚Äì35 min until tender."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Thyme", "Garlic", "Lentils", "Carrots", "Nutmeg", "Tahini"],
          vitality: ["Rich in Vitamin C, fiber, and natural sweetness that supports energy and digestion."],
          stories: "Northern villagers once carved rutabagas into glowing lanterns to honor their ancestors‚Äîtiny fires against the long winter nights. In Sami stories, the rutabaga grew from the sun‚Äôs reflection on reindeer snow tracks, a humble gift that warmed cold hands and filled long journeys with light."
        },
        
        "Savoy Cabbage": {
          origin: "Savoy region of the Alps (France‚ÄìItaly borderlands).",
          how: [
            "Eat the crinkled leaves; remove the firm core before cooking. Savoy‚Äôs texture holds up beautifully to boiling, steaming, or stuffing."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Caraway", "Onions", "Apples", "Lentils", "Dill"],
          vitality: ["Vitamin C, fiber, and natural plant compounds that support strong immunity."],
          stories: "Alpine farmers said Savoy cabbage carried the breath of mountain wind. At winter feasts, families wrapped coins in its leaves to call in prosperity. In northern Italy, its gentle green folds symbolized shelter‚Äîthe way life curls in on itself to rest and renew."
        },
        
        "Napa Cabbage": {
          origin: "China, cultivated for over a thousand years.",
          how: [
            "Eat the tender pale leaves and crunchy stems; trim the root base. Delicious raw in salads, stir-fried, or fermented into kimchi."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Sesame oil", "Garlic", "Chili", "Tofu", "Rice vinegar", "Ginger", "Miso"],
          vitality: ["A light, refreshing source of Vitamins A and C, water, and fiber that helps balance the body and aid hydration."],
          stories: "In Chinese folklore, Napa cabbage sprouted where a goddess once rested near the sea. To honor her, farmers offered rice wine at the first harvest. In Korea, baechu (Napa cabbage) remains the heart of Kimjang‚Äîthe autumn kimchi-making ritual where communities gather to prepare for winter, weaving family and gratitude into every leaf."
        },
        
        "Broccolini": {
          origin: "Japan (a gentle cross between broccoli and Chinese kale).",
          how: [
            "Eat the entire stalk‚Äîflorets, stems, and tender leaves. Trim only the woody base if needed. Steam, roast, or stir-fry until just bright green and crisp-tender."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Garlic", "Soy sauce", "Lemon", "Chili flakes", "Sesame seeds"],
          vitality: ["A tender green rich in Vitamins C and K, folate, and natural plant fibers that energize and cleanse."],
          stories: "Modern though it is, broccolini carries ancient spirit. In Japan, green vegetables were once laid at the shrines of Inari ≈åkami, goddess of harvest and renewal. Farmers said that any plant reaching skyward with such grace reminded them of endurance‚Äîthe will to grow toward sunlight even from shadow."
        },
        
        "Daikon": {
          origin: "East Asia, cultivated in China and Japan for over 1,000 years.",
          how: [
            "Eat the crisp white root and young greens. Trim off root tips and wash well. Enjoy raw, pickled, or lightly cooked in soups and stir-fries."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Soy sauce", "Sesame oil", "Miso", "Ginger", "Rice vinegar", "Tofu", "Carrots"],
          vitality: ["High in Vitamin C, water, and fiber‚Äîrefreshing, lightly peppery, and cleansing."],
          stories: "Japanese farmers tell of the daikon-otoko, the ‚Äúradish man,‚Äù a kind forest spirit who hid among the fields to guard crops. When storms threatened, he was said to uproot himself and roll toward the sea, carrying away the winds. In winter festivals, carved daikon lanterns still glow as symbols of humor and hope‚Äîreminding people to bend, not break, in harsh weather."
        },
        
        "Kohlrabi": {
          origin: "Northern Europe (developed from wild cabbage).",
          how: [
            "Eat the round bulb and the tender leaves. Peel only if the skin feels thick. Slice raw for crunch or roast, mash, or stir-fry for sweetness."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Garlic", "Lemon", "Dill", "Chickpeas", "Lentils", "Parsley"],
          vitality: ["Naturally rich in Vitamin C and fiber, kohlrabi balances crisp freshness with earthy sweetness."],
          stories: "In German folklore, kohlrabi was the ‚Äúgarden globe,‚Äù a gift from forest dwarfs who rolled their green spheres to human farmers as a sign of friendship. Its pale interior symbolized honesty‚Äî‚Äútruth under the skin.‚Äù During harvest fairs, children once raced peeled kohlrabi down hillsides, cheering for whichever truth rolled farthest."
        },
        
        "Broccoli Raab / Rapini": {
          origin: "Mediterranean region‚Äîcultivated in Italy and Southern Europe for centuries.",
          how: [
            "Eat the tender stalks, leaves, and small buds. Trim tough ends. Blanch or saut√© to mellow the pleasant bitterness."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Garlic", "Lemon", "Chili flakes", "Beans", "Pasta", "Bread crumbs"],
          vitality: ["High in Vitamins A, C, and K and plant fiber that supports energy and endurance."],
          stories: "In southern Italy, rapini was once called ‚Äúthe poor man‚Äôs asparagus,‚Äù but its roots are far older. Farmers dedicated the first harvest to the goddess Ceres, thanking her for greens that return even after frost. In Apulian legend, a shepherd‚Äôs tears for a lost friend watered the earth, and from that grief sprang the first bitter greens‚Äîproof that even sorrow can feed the living."
        },

        //Orange vegetables
        "Carrots": {
          origin: "Central Asia (modern-day Afghanistan).",
          how: [
            "Eat the root; wash well and peel only if the skin feels coarse. Trim off the greens‚Äîthey‚Äôre edible cooked but slightly bitter. Enjoy raw, roasted, or blended into soups and sauces."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Cumin", "Honey", "Garlic", "Lentils", "Orange", "Parsley"],
          vitality: ["Rich in beta-carotene (Vitamin A), fiber, and natural sweetness that supports eye and skin health."],
          stories: "In early Persian tales, carrots were ‚Äúfire under earth.‚Äù Farmers said the gods hid sunlight in roots so people could eat brightness through winter. In European folklore, children left carrots for the returning sun horses of spring‚Äîsymbols of renewal and strength."
        },
        
        "Sweet Potatoes": {
          origin: "Tropical Americas‚Äîdomesticated by Indigenous peoples of Central and South America thousands of years ago.",
          how: [
            "Eat the root. Scrub well; the thin skin is edible when cooked. Bake, roast, mash, or slice into stews and casseroles. The young leaves can also be boiled or saut√©ed.",
            "Raw starch hard to digest; cooking brings out sweetness. Wash, pierce several times, place on parchment-lined sheet, bake 400 ¬∞F ¬∑ 45‚Äì60 min until soft."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Cinnamon", "Coconut milk alternative", "Maple syrup", "Black beans", "Lime", "Sesame"],
          vitality: ["High in beta-carotene, Vitamin C, potassium, and slow-release energy."],
          stories: "In Andean tradition, the sweet potato was a gift from Pachamama, Mother Earth, symbolizing nourishment drawn from humility. In Caribbean lore, it was the first food shared between ancestors and spirits of the land‚Äîoffered to ensure peace and plenty before planting season."
        },
        
        "Yams": {
          origin: "West Africa and Southeast Asia (distinct from sweet potatoes).",
          how: [
            "Eat the starchy root. Peel the rough skin before cooking‚Äîit can be irritating if raw. Boil, roast, fry, or pound into traditional dishes like fufu or pounded yam.",
            "Scrub, rub with oil + coarse salt, poke with fork, roast 400 ¬∞F ¬∑ 45‚Äì60 min until soft, or cube and roast until caramelized. Peel optional once cooked.",
            "Note: True yams must be cooked to remove natural toxins; store ‚Äúyams‚Äù are sweet potatoes, safe but best cooked for sweetness."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Palm oil", "Onions", "Peanuts", "Greens", "Ginger", "Chili"],
          vitality: ["Rich in complex carbohydrates, Vitamin C, and minerals that sustain energy."],
          stories: "Across West Africa, yams are sacred symbols of life. The annual Yam Festival celebrates the spirit of the earth returning after the rains. Before the first harvest, elders offer yams to ancestors so that the living may eat in harmony‚Äîa ritual of gratitude that unites generations."
        },
        
        "Tomatoes": {
          origin: "Western South America and Mesoamerica‚Äîcultivated by the Aztecs and other Indigenous peoples.",
          how: [
            "Eat the ripe fruit. Wash and slice raw, roast, or cook into sauces. Avoid green, unripe tomatoes unless specially prepared‚Äîthey can taste bitter and be mildly irritating."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Basil", "Garlic", "Onions", "Grains", "Beans"],
          vitality: ["High in lycopene, Vitamin C, and antioxidants that protect and refresh the body."],
          stories: "Aztec legend says the tomato (xitomatl) was born from the blood of a goddess who loved the sun. When she fell in battle, her heart seeded the earth, giving rise to the red fruit that ripens in heat. For this reason, tomatoes were long offered with maize as a sacred pairing‚Äîfire and earth in one meal."
        },
        
        "Red Bell Peppers": {
          origin: "Central and South America ‚Äî cultivated for over 6,000 years.",
          how: [
            "Eat the crisp flesh; remove the stem, seeds, and white core before cooking. Delicious raw, roasted, grilled, or saut√©ed."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Garlic", "Onions", "Lentils", "Tofu", "Parsley", "Balsamic vinegar"],
          vitality: ["Rich in Vitamin C, beta-carotene, and natural sweetness that brightens savory dishes."],
          stories: "In ancient Mesoamerica, red peppers were called chilpoctli, ‚Äúsmoke fruit.‚Äù Elders burned dried peppers to bless homes and chase away illness. Their flame-red color symbolized courage ‚Äî the fire of the heart that endures even when the embers cool."
        },
        
        "Orange Bell Peppers": {
          origin: "Central and South America, developed from early chili cultivars into mild varieties.",
          how: [
            "Eat the orange flesh; discard the stem and seeds. Enjoy raw for crunch or roasted for sweetness."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Cumin", "Rice", "Beans", "Chickpeas", "Basil", "Lemon"],
          vitality: ["Vitamins A and C, gentle sweetness, and carotenoids that support healthy skin and vision."],
          stories: "Orange peppers carry the warmth of both sun and soil. In Guaran√≠ stories of Paraguay, it‚Äôs said that fire first entered the world through a glowing fruit carried by a hummingbird. That ember became the pepper ‚Äî color of sunrise, reminder that kindness can travel far on small wings."
        },
        
        "Red Beets": {
          origin: "Mediterranean region ‚Äî cultivated by ancient Egyptians and Greeks.",
          how: [
            "Eat the root; trim off greens and stems (which are also edible when cooked). Scrub well and peel only if the skin is tough. Roast, boil, or grate raw."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Vinegar", "Oranges", "Walnuts", "Dill", "Soft cheese"],
          vitality: ["Rich in folate, iron, and deep red pigments (betalains) that refresh the blood and support stamina."],
          stories: "In Greek myth, beets were sacred to Apollo, god of the sun. Their crimson juice was seen as the earth‚Äôs blood ‚Äî proof of divine life beneath the soil. During midsummer, offerings of beets were left at shrines for balance between body and spirit, their sweetness a prayer for joy without excess."
        },
        
        "Butternut Squash": {
          origin: "The Americas ‚Äî cultivated by Indigenous peoples long before European contact.",
          how: [
            "Eat the orange flesh; cut away the hard rind and remove seeds (which can be roasted). Roast, steam, or puree for soups and stews.",
            "Hard rind + dense starch need heat. Roast whole 20 min to soften, then halve, scoop seeds, roast cut-side down with ¬º cup water, 400 ¬∞F ¬∑ 40‚Äì50 min until soft."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Maple syrup", "Sage", "Olive oil", "Lentils", "Cinnamon", "Ginger"],
          vitality: ["A good source of Vitamins A and C, natural sugars, and fiber ‚Äî creamy, comforting, and nourishing."],
          stories: "Among many Indigenous peoples of North America, squash was one of the ‚ÄúThree Sisters,‚Äù planted alongside maize and beans. She was the nurturer ‚Äî her broad leaves shaded the soil, her vines protected her sisters. Stories say she taught balance: to grow together, to protect each other, and to feed all who gather in peace."
        },
        
        "Acorn Squash": {
          origin: "North America ‚Äî cultivated by Indigenous peoples long before European contact.",
          how: [
            "Eat the sweet orange flesh; cut away the hard rind and scoop out the seeds (they can be roasted). Roast, bake, or mash.",
            "Flesh and rind are too hard raw. Place whole squash on sheet, pierce with fork, roast 400 ¬∞F ¬∑ 20 min to soften; halve, scoop seeds, return cut-side down with ¬º cup water, roast 25‚Äì30 min more until tender."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Maple syrup", "Olive oil", "Cinnamon", "Nutmeg", "Lentils", "Apples"],
          vitality: ["Rich in Vitamins A and C, potassium, and natural sweetness that warms and satisfies."],
          stories: "Haudenosaunee (Iroquois) tradition holds that the Three Sisters ‚Äî corn, beans, and squash ‚Äî were sent by Sky Woman to feed her descendants. Acorn squash, the keeper of sweetness, was said to remind people that gentleness is a strength ‚Äî its round shape a symbol of the earth‚Äôs abundance and eternal giving."
        },
        
        "Pumpkin": {
          origin: "Mesoamerica ‚Äî one of the oldest domesticated crops in the Western Hemisphere.",
          how: [
            "Eat the bright orange flesh; remove the hard rind and seeds (the seeds are edible roasted). Cook roasted, pureed, or in soups and breads.",
            "Raw flesh fibrous and bitter. Roast whole small pumpkin 20 min to soften, then halve, remove seeds, roast cut-side down with ¬º cup water, 400 ¬∞F ¬∑ 60 min; scoop flesh."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Cinnamon", "Nutmeg", "Maple syrup", "Ginger", "Lentils", "Sage"],
          vitality: ["High in beta-carotene, fiber, and comforting natural starches that nourish body and spirit."],
          stories: "In ancient Mexican legend, a young woman hid from a flood inside a hollowed pumpkin and survived. When the waters fell, she shared the seeds with the world. Among many Indigenous nations, the pumpkin still represents protection and survival ‚Äî the vessel that carries life through darkness."
        },
        
        "Spaghetti Squash": {
          origin: "North and Central America ‚Äî later cultivated widely in Asia for its unique stringy texture.",
          how: [
            "Eat the golden flesh; cut the squash in half, remove the seeds, and roast or steam until strands form. Discard the rind.",
            "Only heat creates strand texture. Roast whole 20 min to soften, halve, remove seeds, roast cut-side down with ¬º cup water, 400 ¬∞F ¬∑ 35‚Äì40 min; scrape strands with fork."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Garlic", "Basil", "Tomatoes", "Lentils", "Lemon"],
          vitality: ["Light, hydrating, and gently sweet with Vitamins A and C ‚Äî a low-starch comfort food that carries flavor beautifully."],
          stories: "Modern in name but ancient in spirit, this squash‚Äôs strands were once compared to woven sunlight. Some Cherokee stories say that squash vines represent the threads connecting humans to the earth ‚Äî each meal a chance to weave gratitude into daily life."
        },
        
        "Golden Beets": {
          origin: "Mediterranean region, domesticated from wild sea beet along the coasts of North Africa and Europe.",
          how: [
            "Eat cooked‚Äîraw is too fibrous for most. Trim greens (edible if saut√©ed).",
            "ü•Ñ Easiest recipe: Roast whole in foil 400 ¬∞F ¬∑ 50 min, then peel easily once cool."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Goat cheese or plant cheese", "Citrus", "Walnuts", "Olive oil", "Lentils", "Arugula"],
          vitality: ["High in folate, manganese, and betalains‚Äîcompounds that support circulation and give the root its sunny hue."],
          stories: "In ancient Greek myth, Aphrodite was said to have eaten beets to maintain her beauty. Golden beets, shining like the sun, symbolized vitality and divine radiance in offerings to Apollo."
        },
        
        "Purple Sweet Potatoes / Ube": {
          origin: "Philippines and surrounding Pacific Islands, cultivated for centuries as a staple crop and sacred offering.",
          how: [
            "Always cook before eating.",
            "ü•Ñ Easiest recipe: Scrub, rub with oil + salt, poke with fork, roast 400 ¬∞F ¬∑ 60 min until tender. Flesh turns deep violet."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Coconut milk alternatives", "Maple syrup", "Cinnamon", "Ginger", "Tofu", "Sesame seeds"],
          vitality: ["Rich in anthocyanins (purple antioxidants), vitamin A, C, and fiber; promotes energy and gut health."],
          stories: "Bohol ‚Äúsacred ubi‚Äù tradition (kiss it if you drop it) ‚Äî reported by a national newspaper and a feature piece: PhilStar (‚ÄúMuch ado about ube‚Äù) notes Boholanos kiss a dropped ubi and treat it with reverence, rooted in hardship-era gratitude."
        },
        
        "Delicata Squash": {
          origin: "North America; cultivated by Indigenous peoples long before European arrival.",
          how: [
            "Cooked only‚Äîskin is edible but firm when raw.",
            "ü•Ñ Easiest recipe: Slice into ¬Ω-inch rings, remove seeds, toss with oil + salt, roast 425 ¬∞F ¬∑ 25 min until golden."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Maple syrup", "Sage", "Walnuts", "Quinoa", "Apples", "Olive oil"],
          vitality: ["Good source of vitamins A and C, manganese, and fiber."],
          stories: "In Haudenosaunee (Iroquois) tradition, squash was one of the Three Sisters‚Äîcorn, beans, and squash‚Äîsacred companions planted together for nourishment and balance. Delicata‚Äôs sweetness represents generosity among them."
        },
        
        "Kabocha Squash": {
          origin: "Japan, though descended from Mesoamerican squash brought across the Pacific in the 1500s.",
          how: [
            "Cooked only.",
            "ü•Ñ Easiest recipe: Roast whole 400 ¬∞F ¬∑ 20 min to soften, cut into wedges, brush with oil, roast 35 min until tender."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Miso", "Sesame oil", "Ginger", "Scallions", "Soba noodles", "Tofu"],
          vitality: ["Rich in beta-carotene, vitamin C, and potassium."],
          stories: "In Japanese folklore, kabocha symbolizes winter comfort and gratitude. Families would eat it at the winter solstice to invite health and abundance for the new year."
        },
        
        "Hubbard Squash": {
          origin: "New England, U.S., derived from Native American heirloom squash varieties and cultivated widely by the 1700s.",
          how: [
            "Too dense to cut raw.",
            "ü•Ñ Easiest recipe: Pierce whole, roast 400 ¬∞F ¬∑ 70 min until soft. Cool, then cut and scoop flesh for soups or mash."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Nutmeg", "Butter or plant butter", "Maple syrup", "Oats", "Lentils", "Thyme"],
          vitality: ["High in vitamin A, potassium, and fiber; hearty and sustaining."],
          stories: "In Northeastern Algonquin tales, squash spirits were seen as keepers of warmth. Hubbard, with its enormous blue-gray shell, was a ‚Äúsleeping giant‚Äù‚Äîa winter guardian holding the summer sun inside."
        },
        
        //Other vegetables
        "Zucchini": {
          origin: "Central America / Mexico",
          how: [
            "Eat the tender green skin and soft interior ‚Äî discard only the woody stem tip. Can be eaten raw or lightly cooked.",
            "Easiest method: Slice, drizzle with olive oil, and roast at 400¬∞F (200¬∞C) for 15‚Äì20 minutes until golden."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Tomatoes", "Basil", "Lentils", "Lemon", "Rice", "Almonds"],
          vitality: ["Vitamins C and B6, potassium, manganese, lutein, and zeaxanthin for eye and skin health."],
          stories: "The Nahua and other Mesoamerican peoples cultivated ayocotl (squash family) alongside corn and beans in the ‚ÄúThree Sisters‚Äù gardens ‚Äî a sacred trio symbolizing cooperation and balance among plants, animals, and humans."
        },
        
        "Cucumbers": {
          origin: "Northern India",
          how: [
            "Eat the skin if tender; slice off tough ends. Mostly eaten raw, but can be lightly saut√©ed or pickled."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "Yogurt or non-dairy yogurt", "Vinegar", "Dill", "Lentils", "Sesame seeds", "Lemon"],
          vitality: ["Hydrating vegetable with vitamin K, silica, and antioxidants supporting skin and connective tissue."],
          stories: "In Hindu tradition, cucumber offerings appear in harvest rituals symbolizing fertility and coolness ‚Äî a soothing balance to summer‚Äôs fire."
        },
        
        "Celery": {
          origin: "Mediterranean basin",
          how: [
            "Eat the crisp stalks and leaves; discard the tough root base. Excellent raw or cooked.",
            "Easiest method: Chop and simmer in soups or saut√©e 10 minutes for aromatics."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Carrots", "Onions", "Lentils", "Tofu", "Parsley", "Olive oil", "Grains"],
          vitality: ["Vitamins K and A, folate, and phytonutrients like apigenin linked to calming and anti-inflammatory effects."],
          stories: "In ancient Greece, celery wreaths crowned athletes of Nemea; it was seen as a bridge between life and death ‚Äî fragrant and purifying."
        },
        
        "Green Beans": {
          origin: "Central and South America",
          how: [
            "Eat the tender pods, remove stems. Cook before eating ‚Äî raw beans can be slightly tough.",
            "Easiest method: Steam or saut√© for 5‚Äì7 minutes until bright green."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Garlic", "Sesame oil", "Almonds", "Tomatoes", "Potatoes", "Basil", "Mushrooms"],
          vitality: ["Vitamins C and K, silicon, folate, and chlorophyll for connective tissue and blood health."],
          stories: "In Mayan tradition, beans represented endurance and humility ‚Äî simple foods that sustain great civilizations."
        },
        
        "Corn": {
          origin: "Mesoamerica (Mexico)",
          how: [
            "Eat the kernels; discard husk and silk.",
            "Easiest method: Roast whole cob at 425¬∞F (220¬∞C) for 25 minutes, husk-on for steam effect."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Lime", "Chili", "Beans", "Avocado", "Squash", "Olive oil", "Quinoa"],
          vitality: ["Rich in carotenoids (lutein, zeaxanthin), B vitamins, and resistant starch."],
          stories: "In countless Indigenous American stories, Corn is the divine sustainer ‚Äî the Maya said humans were shaped from corn dough by the gods, connecting nourishment with creation itself."
        },
        
        "White Mushrooms": {
          origin: "France (cultivated form)",
          how: [
            "Eat caps and stems after cleaning; do not eat raw in large amounts.",
            "Easiest method: Saut√© 5‚Äì8 minutes in olive oil until browned."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Thyme", "Garlic", "Tofu", "Lentils", "Parsley", "Grains", "Soy sauce"],
          vitality: ["Selenium, niacin, B vitamins, and beta-glucans for immune resilience."],
          stories: "In European folklore, mushrooms were seen as ‚Äúfairy rings,‚Äù circles marking where otherworldly beings had danced ‚Äî a reminder of mystery and nature‚Äôs hidden life."
        },
        
        "Brown Mushrooms (Cremini / Baby Bella)": {
          origin: "Europe (cultivar of white mushroom)",
          how: [
            "Same as white mushrooms; eat cooked.",
            "Easiest method: Slice and roast 15 minutes at 400¬∞F."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Rosemary", "Olive oil", "Grains", "Lentils", "Carrots", "Balsamic vinegar", "Soy sauce"],
          vitality: ["Vitamin D (when sun-exposed), selenium, and umami-rich amino acids."],
          stories: "In Slavic and Finnish tales, mushrooms grew where thunderbolts struck ‚Äî seen as Earth‚Äôs response to lightning, connecting heaven and soil."
        },
        
        "Asparagus": {
          origin: "Eastern Mediterranean",
          how: [
            "Eat tender stalks and tips; snap off woody ends.",
            "Easiest method: Roast at 425¬∞F for 12‚Äì15 minutes with olive oil and coarse salt."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Lemon", "Almonds", "Olive oil", "Lentils", "Eggs/tofu", "Rice", "Mint"],
          vitality: ["Folate, vitamin K, glutathione (detox-supporting antioxidant)."],
          stories: "In Roman lore, asparagus symbolized luxury and renewal ‚Äî its spears were harvested with care at dawn, believed to restore vitality for springtime festivals."
        },
        
        "Snap / Shelled Peas": {
          origin: "Western Asia and Eastern Mediterranean",
          how: [
            "Eat whole pods for snap peas; for shelling peas, eat only the seeds inside.",
            "Easiest method: Steam or saut√© 3‚Äì5 minutes until tender."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "Lemon", "Olive oil", "Quinoa", "Mushrooms", "Onions", "Rice"],
          vitality: ["Protein, vitamin C, folate, lutein, and chlorophyll."],
          stories: "In Persian New Year feasts (Nowruz), peas represent new life and green rebirth after winter ‚Äî symbolizing hope and nourishment."
        },
        
        "Snow Peas": {
          origin: "Mediterranean to Asia",
          how: [
            "Eat the whole pod ‚Äî remove stringy edges if tough.",
            "Easiest method: Stir-fry 3 minutes or steam lightly."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Ginger", "Sesame oil", "Tofu", "Rice", "Mushrooms", "Carrots", "Garlic"],
          vitality: ["Vitamin C, fiber, and antioxidants aiding digestion and immunity."],
          stories: "In Chinese folklore, peas were said to bloom from tears of a kind-hearted farmer‚Äôs daughter who prayed for her starving village ‚Äî turning sorrow into sustenance."
        },
        
        "Eggplant": {
          origin: "India and Southeast Asia",
          how: [
            "Eat cooked flesh and skin; avoid undercooked eggplant (bitter).",
            "Easiest method: Roast whole at 425¬∞F for 30‚Äì40 minutes until soft, then scoop flesh."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Garlic", "Tomatoes", "Tahini", "Lentils", "Rice", "Basil"],
          vitality: ["Fiber, manganese, anthocyanins (nasunin) for brain and heart health."],
          stories: "In South Asian lore, the eggplant symbolizes humility ‚Äî once a proud tree that asked to feed the people, it was made small so all could share its fruit."
        },
        
        "Parsnips": {
          origin: "Eurasia (Eastern Mediterranean)",
          how: [
            "Peel and eat cooked root; tops and core discarded.",
            "Easiest method: Roast at 400¬∞F for 25‚Äì30 minutes until golden and sweet."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Thyme", "Carrots", "Lentils", "Onions", "Nuts", "Grains"],
          vitality: ["Vitamin C, folate, potassium, and soluble fiber for steady energy."],
          stories: "In Celtic and Norse traditions, parsnips were winter foods tied to the sun‚Äôs rebirth ‚Äî their sweetness increasing as nights grew colder."
        },
        
        "Leeks": {
          origin: "Middle East and Mediterranean",
          how: [
            "Eat white and light-green stalks; discard tough dark leaves.",
            "Easiest method: Slice and saut√© 10 minutes until soft and fragrant."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Potatoes", "Olive oil", "Lentils", "Parsley", "Thyme", "Rice", "Tofu"],
          vitality: ["Manganese, vitamin K, and allium antioxidants supporting circulation."],
          stories: "The leek is a Welsh national symbol ‚Äî worn by soldiers of St. David‚Äôs army in legend to distinguish themselves in battle."
        },
        
        "Fennel": {
          origin: "Mediterranean coast",
          how: [
            "Eat the bulb (sliced) and fronds; discard tough base.",
            "Easiest method: Roast wedges at 400¬∞F for 25 minutes or eat thinly shaved raw."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Orange", "Olive oil", "Rice", "Chickpeas", "Lentils", "Mint", "Almonds"],
          vitality: ["Anethole, vitamin C, fiber, and folate for digestion and hormone balance."],
          stories: "In Greek myth, Prometheus carried the stolen spark of fire in a hollow fennel stalk ‚Äî a reminder that nourishment and defiance can coexist."
        },
        
        "Okra": {
          origin: "West Africa",
          how: [
            "Eat the tender pods whole; slice off the stem.",
            "Easiest method: Roast at 425¬∞F for 15‚Äì20 minutes to reduce sliminess."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Tomatoes", "Corn", "Beans", "Rice", "Garlic", "Lemon", "Olive oil"],
          vitality: ["Folate, vitamin C, magnesium, and mucilage for gut health."],
          stories: "Carried by enslaved Africans to the Americas, okra (gumbo) became a symbol of resilience ‚Äî seeds hidden in hair or pockets as acts of love and survival."
        },
        
        "Artichokes": {
          origin: "North Africa / Mediterranean",
          how: [
            "Eat the tender base of leaves and heart; discard spiky tops and choke.",
            "Easiest method: Steam whole for 30‚Äì40 minutes until leaves pull easily, serve with olive oil or lemon."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Lemon", "Garlic", "Lentils", "Grains", "Herbs", "Nuts"],
          vitality: ["Inulin, fiber, folate, and antioxidants supporting liver and digestion."],
          stories: "In Greek myth, Zeus transformed the nymph Cynara into the first artichoke ‚Äî its sharp leaves hiding a tender heart, symbol of protection and desire."
        },

        //Fruit
        //Berries
        "Strawberries": {
          origin: "North & South America (wild), modern hybrids from France",
          how: [
            "Eat the red flesh and seeds; remove green cap. Delicious raw or lightly cooked.",
            "Easiest method: Slice and roast 10 minutes at 375¬∞F to intensify flavor."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "Balsamic vinegar", "Almonds", "Oats", "Yogurt", "Basil", "Dark chocolate"],
          vitality: ["Vitamin C, manganese, ellagic acid, anthocyanins for heart and skin health."],
          stories: "In Cherokee legend, the first man and woman quarreled and parted ways; the Creator placed strawberries along their path so that sweetness would bring them back together ‚Äî a symbol of reconciliation and love."
        },
        
        "Blueberries": {
          origin: "North America",
          how: [
            "Eat raw or cooked; remove any stems.",
            "Easiest method: Simmer 10 minutes into compote or scatter raw over oatmeal."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Lemon", "Oats", "Almonds", "Yogurt", "Rice pudding", "Mint", "Cinnamon"],
          vitality: ["Anthocyanins, vitamin C, and manganese for brain and eye protection."],
          stories: "Among the Anishinaabe and other Great Lakes peoples, blueberries were called the ‚Äústar berries,‚Äù created by the Great Spirit to feed children during famine ‚Äî stars on earth given as mercy."
        },
        
        "Raspberries": {
          origin: "Europe and Northern Asia",
          how: [
            "Eat the whole berry raw; can also be baked or dried."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Dark chocolate", "Lemon", "Oats", "Yogurt", "Mint", "Almonds", "Rosewater"],
          vitality: ["Vitamin C, manganese, ellagic acid, flavonoids that protect cells from aging."],
          stories: "In Celtic tales, the goddess Brigid turned the bramble red with her own blood while blessing it for healing ‚Äî raspberries thus became symbols of love‚Äôs sacrifice."
        },
        
        "Blackberries": {
          origin: "Europe and North America",
          how: [
            "Eat the whole berry; remove thorns if foraged wild."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "Oats", "Honey", "Yogurt", "Vanilla", "Walnuts", "Lemon"],
          vitality: ["Anthocyanins, vitamin K, manganese, and fiber for circulation and clarity."],
          stories: "In old English folklore, blackberries were sacred to the harvest goddess and forbidden after Michaelmas ‚Äî after that day, the Devil was said to spit on them, marking the turn of the seasons."
        },
        
        "Red & Black Grapes": {
          origin: "Mediterranean / Near East",
          how: [
            "Eat raw or roasted; discard woody stems.",
            "Easiest method: Roast at 400¬∞F for 10 minutes for jammy sweetness."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Cheese or plant-based cheese", "Walnuts", "Oats", "Mint", "Yogurt", "Grains"],
          vitality: ["Polyphenols, resveratrol, potassium, and vitamin K for heart and longevity."],
          stories: "In ancient Greek and Hebrew traditions alike, the vine symbolized divine blessing ‚Äî Dionysus and Noah both planted vineyards, binding joy and renewal to the fruit of the earth."
        },
        
        "Green Grapes": {
          origin: "Mediterranean / Western Asia",
          how: [
            "Eat whole or halved; skin and seeds edible."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Almonds", "Celery", "Yogurt", "Mint", "Tofu", "Olive oil", "Lemon"],
          vitality: ["Vitamin K, antioxidants, and gentle hydration for body and skin."],
          stories: "Ancient Persians told of the first wine born when a lonely princess stored grapes to poison herself ‚Äî instead, she woke renewed. Grapes came to symbolize transformation from sorrow into joy."
        },
        
        "Cherries": {
          origin: "Western Asia and Eastern Europe",
          how: [
            "Eat the flesh; remove pits.",
            "Easiest method: Roast or bake 15 minutes at 375¬∞F for syrupy flavor."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Almonds", "Oats", "Dark chocolate", "Rice pudding", "Mint", "Vanilla", "Yogurt"],
          vitality: ["Anthocyanins, melatonin, vitamin C for sleep, inflammation, and heart health."],
          stories: "In Japanese lore, cherry blossoms (sakura) embody the beauty of impermanence ‚Äî life‚Äôs fleeting sweetness mirrored in each petal‚Äôs fall."
        },
        
        "Cranberries": {
          origin: "North America",
          how: [
            "Cook before eating; raw berries are tart.",
            "Easiest method: Simmer 10 minutes with water and maple syrup."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Orange", "Oats", "Almonds", "Wild rice", "Apples", "Herbs", "Tofu"],
          vitality: ["Vitamin C, proanthocyanidins for urinary tract and immune health."],
          stories: "For the Wampanoag and other Northeastern tribes, cranberries were medicine and dye ‚Äî sacred to ceremonies of gratitude, later becoming the heart of harvest feasts shared with settlers."
        },
        
        "Guava": {
          origin: "Central America",
          how: [
            "Eat the skin and flesh; scoop seeds if too hard.",
            "Easiest method: Slice and chill ‚Äî no cooking needed."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Lime", "Chili", "Mint", "Oats", "Yogurt", "Almonds", "Coconut substitutes"],
          vitality: ["Vitamin C powerhouse with lycopene and fiber for digestion."],
          stories: "In Aztec and Maya culture, guava symbolized strength and fertility, used in warrior diets and birth offerings."
        },
        
        "Pomegranate": {
          origin: "Persia / Northern India",
          how: [
            "Eat the ruby seeds; discard peel and pith.",
            "Easiest method: Score and break apart underwater to release arils."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "Lentils", "Grains", "Yogurt", "Tahini", "Rice", "Nuts"],
          vitality: ["Polyphenols, vitamin C, potassium, and antioxidants for heart and hormone balance."],
          stories: "In Greek myth, Persephone‚Äôs six pomegranate seeds bound her to the underworld for six months ‚Äî symbol of cycles, death, and rebirth."
        },
        
        "Figs": {
          origin: "Middle East / Mediterranean",
          how: [
            "Eat skin and flesh; remove stem.",
            "Easiest method: Roast or grill 10 minutes to caramelize."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Almonds", "Oats", "Plant cheese", "Honey/maple syrup", "Rosemary", "Yogurt"],
          vitality: ["Calcium, magnesium, fiber, and antioxidants for bone and gut health."],
          stories: "In Buddhism, enlightenment came to the Buddha under a fig tree ‚Äî the Bodhi ‚Äî where wisdom and nourishment meet."
        },
        
        "Plums": {
          origin: "China",
          how: [
            "Eat flesh and skin; discard pit.",
            "Easiest method: Slice and roast 15 minutes at 375¬∞F for syrupy flavor."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Almonds", "Oats", "Cinnamon", "Yogurt", "Mint", "Soy sauce", "Rice"],
          vitality: ["Vitamin C, potassium, and polyphenols aiding digestion and calm."],
          stories: "In Chinese art, the plum blossom blooms in snow ‚Äî a symbol of endurance, beauty, and hope amid hardship."
        },
        
        "Passionfruit": {
          origin: "South America (Brazil, Paraguay)",
          how: [
            "Scoop the pulp and seeds; discard rind."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Yogurt", "Oats", "Mint", "Coconut substitutes", "Lime", "Dark chocolate", "Almonds"],
          vitality: ["Vitamin C, carotenoids, and fiber for immunity and calm digestion."],
          stories: "Spanish missionaries named it ‚ÄúPassionfruit‚Äù for its flower‚Äôs resemblance to the wounds of Christ ‚Äî yet in Indigenous Tupi-Guarani lore, it symbolized harmony and the union of opposites."
        },
        
        "Mulberries": {
          origin: "Asia (China)",
          how: [
            "Eat raw or dried; remove stems.",
            "Easiest method: Simmer 5 minutes for syrup or add to smoothies."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Almonds", "Oats", "Yogurt", "Mint", "Lemon", "Rice", "Tahini"],
          vitality: ["Iron, vitamin C, anthocyanins, resveratrol supporting blood and energy."],
          stories: "In Chinese legend, the weaver girl and cowherd meet across the Milky Way only once a year ‚Äî tears of the goddess fall as mulberries, sweet and sorrowful."
        },
        
        "Prickly Pear (Nopal Fruit / Tuna)": {
          origin: "Mexico and the American Southwest",
          how: [
            "Peel off spines and skin; eat juicy flesh raw or cooked.",
            "Easiest method: Roast 10 minutes at 400¬∞F after removing outer peel."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Lime", "Chili", "Mint", "Grains", "Yogurt", "Almonds", "Corn"],
          vitality: ["Vitamin C, betalains, and fiber for hydration and blood-sugar balance."],
          stories: "In Mexica (Aztec) myth, the founding of Tenochtitlan was marked by an eagle perched on a cactus eating a serpent ‚Äî the nopal and its fruit became symbols of strength and destiny."
        },
        
        "Lychee": {
          origin: "Southern China and Southeast Asia",
          how: [
            "Peel the skin and remove the pit; eat the translucent flesh raw."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "Lime", "Coconut substitutes", "Oats", "Almonds", "Rice", "Yogurt"],
          vitality: ["Vitamin C, copper, and polyphenols for immune and collagen support."],
          stories: "In Tang-dynasty China, the emperor‚Äôs couriers rode thousands of miles to bring lychees to his beloved concubine Yang Guifei ‚Äî the fruit became a legend of devotion, beauty, and excess."
        },

        //Citrus
        "Oranges": {
          origin: "Southeast Asia (likely China & India)",
          how: [
            "Peel and eat segments raw or juice them.",
            "Easiest method: Roll to soften, slice, and squeeze."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Almonds", "Oats", "Mint", "Dark chocolate", "Tofu", "Rice", "Cinnamon"],
          vitality: ["Vitamin C, flavonoids, potassium, and hesperidin for immune and skin health."],
          stories: "In Chinese New Year tradition, oranges symbolize luck and prosperity; their golden color reflects the sun‚Äôs life-giving energy and abundance."
        },
        
        "Mandarins": {
          origin: "China and Vietnam",
          how: [
            "Peel easily by hand; eat segments raw."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Almonds", "Mint", "Oats", "Cinnamon", "Yogurt", "Rice", "Sesame"],
          vitality: ["Vitamin C, beta-carotene, and fiber for skin and immunity."],
          stories: "In ancient China, mandarins were gifts of respect offered to scholars and elders ‚Äî small suns of gratitude carried by hand."
        },
        
        "Tangerines": {
          origin: "Southeast Asia",
          how: [
            "Peel and eat segments; small seeds edible but often removed."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Ginger", "Mint", "Oats", "Dark chocolate", "Yogurt", "Almonds", "Tofu"],
          vitality: ["Vitamin C, lutein, and natural essential oils that uplift mood."],
          stories: "The word ‚Äútangerine‚Äù comes from Tangier, Morocco ‚Äî symbol of travel and exchange; sailors carried them as bright charms against scurvy and loneliness at sea."
        },
        
        "Clementines": {
          origin: "North Africa (Algeria)",
          how: [
            "Peel by hand; eat segments raw or chilled."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Almonds", "Mint", "Cinnamon", "Oats", "Yogurt", "Dark chocolate", "Tofu"],
          vitality: ["Vitamin C, folate, and phytonutrients for mood and focus."],
          stories: "The clementine was named for Father Cl√©ment Rodier, a missionary in Algeria who cultivated sweetness from wild trees ‚Äî a living symbol of peace and care."
        },
        
        "Lemons": {
          origin: "Northern India",
          how: [
            "Use the juice and zest; discard seeds and peel (unless candied).",
            "Easiest method: Squeeze fresh into water, tea, or dressings."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Mint", "Garlic", "Lentils", "Tofu", "Rice", "Oats"],
          vitality: ["Vitamin C, citric acid, and flavonoids for cleansing and antioxidant support."],
          stories: "In Persian and Indian poetry, lemons symbolized protection from envy and evil spirits ‚Äî golden suns of clarity and cleansing."
        },
        
        "Limes": {
          origin: "Southeast Asia (Malay Archipelago)",
          how: [
            "Juice and zest for cooking; rarely eaten whole."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Chili", "Mint", "Tofu", "Rice", "Avocado", "Coconut substitutes", "Beans"],
          vitality: ["Vitamin C, limonoids, and citric acid for metabolism and detox support."],
          stories: "In Mayan and Caribbean lore, lime was seen as a spirit cleanser ‚Äî squeezed over hands and food to renew both energy and intent."
        },
        
        "Pink Grapefruit": {
          origin: "Barbados (natural hybrid of orange and pomelo)",
          how: [
            "Halve and scoop with a spoon, or peel and eat sections."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "Avocado", "Almonds", "Oats", "Tofu", "Coconut substitutes", "Rice"],
          vitality: ["Vitamin C, lycopene, and naringin for heart and skin renewal."],
          stories: "In Caribbean folklore, the grapefruit was considered a gift of balance ‚Äî born from the meeting of sweetness and bitterness, sun and storm."
        },
        
        "White Grapefruit": {
          origin: "Same as pink, Barbados",
          how: [
            "Eat peeled or halved; sweeter when chilled."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "Rice", "Almonds", "Oats", "Avocado", "Herbs", "Tofu"],
          vitality: ["Vitamin C, pectin, and antioxidants for cleansing and digestion."],
          stories: "Sailors once called it ‚Äúforbidden fruit‚Äù ‚Äî prized for its lightness in long voyages and its power to lift spirits in the endless blue."
        },
        
        "Minneola Tangelo": {
          origin: "Florida, USA (hybrid of tangerine and grapefruit)",
          how: [
            "Peel and eat raw or juice it; juicy and tangy."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Oats", "Mint", "Almonds", "Yogurt", "Rice", "Cinnamon", "Lentils"],
          vitality: ["Vitamin C, potassium, and fiber for hydration and energy."],
          stories: "A modern fruit born from blending ‚Äî Minneola reminds that harmony between opposites can create something entirely new and sweet."
        },
        
        "Kumquats": {
          origin: "Southern China",
          how: [
            "Eat whole ‚Äî peel and all! Wash first; inside is tart, peel is sweet."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Honey", "Mint", "Almonds", "Oats", "Yogurt", "Tofu", "Sesame"],
          vitality: ["Vitamin C, fiber, and essential oils in the peel for gut and immune health."],
          stories: "Kumquats are Lunar New Year offerings symbolizing gold and wealth ‚Äî tiny worlds of fortune held in the palm of your hand."
        },
        
        "Blood Oranges": {
          origin: "Sicily, Italy",
          how: [
            "Peel and eat raw or slice for salads."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Almonds", "Mint", "Oats", "Yogurt", "Olive oil", "Lentils", "Cinnamon"],
          vitality: ["Vitamin C, anthocyanins, and folate for heart and circulation."],
          stories: "In Sicilian legend, the red hue of the blood orange came from the earth‚Äôs passion ‚Äî sun meeting soil, love meeting loss."
        },
        
        "Pineapple": {
          origin: "South America (Brazil, Paraguay)",
          how: [
            "Cut off top and skin; eat yellow flesh.",
            "Easiest method: Slice and roast at 400¬∞F for 15 minutes to caramelize."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "Chili", "Rice", "Tofu", "Oats", "Coconut substitutes", "Dark chocolate"],
          vitality: ["Vitamin C, bromelain (digestive enzyme), and manganese for energy and healing."],
          stories: "In Tupi-Guarani lore, the pineapple grew from a girl‚Äôs love and tears ‚Äî her spirit became the golden fruit, symbolizing hospitality and devotion."
        },
        
        "Pomelos": {
          origin: "Southeast Asia",
          how: [
            "Peel thick rind, remove membranes, and eat juicy flesh."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "Almonds", "Rice", "Tofu", "Chili", "Coconut substitutes", "Lentils"],
          vitality: ["Vitamin C, potassium, and pectin for digestion and immunity."],
          stories: "In Chinese Mid-Autumn celebrations, pomelos are offerings of gratitude ‚Äî their roundness representing family unity under the full moon."
        },
        
        "Starfruit (Carambola)": {
          origin: "Southeast Asia",
          how: [
            "Eat skin and flesh; discard seeds.",
            "Slice into star shapes."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "Lime", "Coconut substitutes", "Yogurt", "Rice", "Almonds", "Oats"],
          vitality: ["Vitamin C, potassium, and antioxidants for cleansing and clarity."],
          stories: "In Malay legend, a kind farmer shared his last food with a hungry beggar ‚Äî who revealed himself as a spirit and turned the fruit of kindness into shining stars."
        },
        
        "Ugli Fruit": {
          origin: "Jamaica (hybrid of grapefruit, orange, and tangerine)",
          how: [
            "Peel and eat segments; skin is thick but easy to remove."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "Oats", "Yogurt", "Almonds", "Dark chocolate", "Cinnamon", "Lentils"],
          vitality: ["Vitamin C, folate, and fiber for bright immunity and digestion."],
          stories: "Discovered growing wild in Jamaica in the 20th century, the Ugli fruit was named for its rough peel ‚Äî yet cherished for sweetness within, a local proverb for beauty beyond appearances."
        },
        
        "Buddha‚Äôs Hand (Fingered Citron)": {
          origin: "India and China",
          how: [
            "Peel is the edible part ‚Äî no pulp! Zest or candy it for aroma.",
            "Easiest method: Slice thinly for teas or syrup."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "Rice", "Dark chocolate", "Almonds", "Honey", "Yogurt", "Oats"],
          vitality: ["Vitamin C, essential oils, and limonene for purification and calm."],
          stories: "In Buddhist temples, Buddha‚Äôs Hand is offered on altars for blessing ‚Äî its outstretched ‚Äúfingers‚Äù symbolizing compassion reaching toward the world."
        },
        
        //Orange Red fruit
        "Watermelon": {
          origin: "Northeastern Africa (Sudan region)",
          how: [
            "Eat the red flesh; seeds are edible but can be removed.",
            "Easiest method: Slice and chill."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "Lime", "Feta/plant cheese", "Almonds", "Oats", "Basil", "Chili"],
          vitality: ["Lycopene, vitamin A, citrulline, and hydration for heart and circulation."],
          stories: "Ancient Egyptians placed watermelons in tombs as symbols of eternal refreshment; in African diaspora traditions, it remains a fruit of summer joy and survival."
        },
        
        "Cantaloupe": {
          origin: "Persia (modern Iran)",
          how: [
            "Eat the orange flesh; discard rind and seeds.",
            "Easiest method: Chill or roast 10 minutes to caramelize."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "Yogurt", "Almonds", "Oats", "Lemon", "Rice", "Basil"],
          vitality: ["Beta-carotene, vitamin C, and potassium for skin and hydration."],
          stories: "In Persian poetry, the melon was a metaphor for wholeness ‚Äî golden and fragrant, uniting the sweetness of body and spirit."
        },
        
        "Peaches": {
          origin: "China",
          how: [
            "Eat skin and flesh; remove pit.",
            "Easiest method: Slice and roast 15 minutes at 375¬∞F for syrupy flavor."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Almonds", "Mint", "Oats", "Yogurt", "Cinnamon", "Rice", "Tofu"],
          vitality: ["Vitamin C, beta-carotene, and polyphenols supporting skin and calm digestion."],
          stories: "In Daoist myth, the peaches of immortality grew in the Queen Mother of the West‚Äôs garden, ripening every 3,000 years ‚Äî eaten only by immortals."
        },
        
        "Nectarines": {
          origin: "China (mutation of peach)",
          how: [
            "Eat skin and flesh; remove pit."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Almonds", "Oats", "Mint", "Yogurt", "Cinnamon", "Dark chocolate", "Rice"],
          vitality: ["Vitamin C, potassium, and beta-carotene for radiant skin and circulation."],
          stories: "In Chinese art, nectarines symbolized refined beauty ‚Äî the same soul as the peach, yet clothed in a smoother form."
        },
        
        "Mangoes (Large Varieties)": {
          origin: "South Asia (India, Bangladesh)",
          how: [
            "Peel and eat golden flesh around the pit.",
            "Easiest method: Score and cube before slicing off peel."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Lime", "Chili", "Coconut substitutes", "Mint", "Rice", "Oats", "Yogurt"],
          vitality: ["Vitamin A, C, and beta-carotene for vision, immunity, and mood."],
          stories: "In Hindu stories, the mango is a symbol of love and fertility; Kamadeva, god of desire, carries a bow of sugarcane strung with a mango blossom."
        },
        
        "Mangoes (Small Varieties / Ataulfo type)": {
          origin: "Mexico (descended from Manila mango)",
          how: [
            "Peel thin skin and eat juicy flesh."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Lime", "Chili", "Mint", "Coconut substitutes", "Oats", "Yogurt", "Rice"],
          vitality: ["Vitamin A, C, and enzymes that soothe digestion."],
          stories: "In Filipino and Mexican folk tradition, the golden mango represents faithfulness ‚Äî sweet even when the skin bruises."
        },
        
        "Papaya": {
          origin: "Central America",
          how: [
            "Peel skin, scoop seeds, and eat orange flesh.",
            "Easiest method: Chill and serve fresh or bake 10 minutes for dessert."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Lime", "Mint", "Oats", "Yogurt", "Coconut substitutes", "Chili", "Rice"],
          vitality: ["Vitamin C, folate, and papain enzyme for digestion and skin repair."],
          stories: "The Maya called papaya the ‚ÄúTree of Life,‚Äù believing its seeds restored fertility and vitality ‚Äî a sacred healing fruit."
        },
        
        "Apricots": {
          origin: "Central Asia (Armenia, China)",
          how: [
            "Eat flesh and skin; remove pit.",
            "Easiest method: Roast 10 minutes at 400¬∞F for sweetness."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Almonds", "Oats", "Mint", "Yogurt", "Cinnamon", "Rice", "Tofu"],
          vitality: ["Beta-carotene, vitamin C, and iron for blood and eye health."],
          stories: "In Persian culture, apricots were called zardaloo, ‚Äúgolden suns,‚Äù and celebrated in poetry as gifts of light returned after winter."
        },
        
        "Cherry / Grape Tomatoes": {
          origin: "Western South America",
          how: [
            "Eat whole; can be cooked or raw.",
            "Easiest method: Roast 15 minutes at 400¬∞F for caramelized sweetness."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Basil", "Lentils", "Rice", "Tofu", "Garlic", "Oats"],
          vitality: ["Lycopene, vitamin C, and potassium for heart and cell protection."],
          stories: "In Andean lore, the tomato‚Äôs red color represented the blood of Pachamama (Mother Earth), nourishing life‚Äôs cycles of growth and return."
        },
        
        "Persimmons": {
          origin: "China",
          how: [
            "Eat ripe flesh (soft type) or crisp slices (firm type); remove seeds.",
            "Easiest method: Slice and chill."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Cinnamon", "Almonds", "Oats", "Yogurt", "Mint", "Rice", "Tofu"],
          vitality: ["Vitamin A, C, manganese, and tannins for skin, immunity, and digestion."],
          stories: "In Japanese Shinto tradition, persimmons are divine gifts of autumn ‚Äî patience rewarded when bitterness turns to sweetness."
        },
        
        "Galia Melon": {
          origin: "Israel (hybrid of cantaloupe and honeydew)",
          how: [
            "Eat green-gold flesh; discard rind and seeds."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "Yogurt", "Almonds", "Oats", "Lemon", "Rice", "Basil"],
          vitality: ["Vitamin C, beta-carotene, and potassium for hydration and calm."],
          stories: "Created in 1973 by Israeli scientist Zvi Karchi and named for his daughter Galia ‚Äî symbol of renewal and love through cultivation."
        },
        
        "Canary Melon": {
          origin: "Persia / Africa",
          how: [
            "Eat pale yellow flesh; remove rind and seeds."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "Lime", "Oats", "Yogurt", "Almonds", "Basil", "Rice"],
          vitality: ["Vitamin C, potassium, and beta-carotene for hydration and energy."],
          stories: "Named for its bright golden skin, the canary melon is a modern echo of ancient desert melons ‚Äî a sun-fruit bringing coolness to arid lands."
        },
        
        "Jackfruit": {
          origin: "South Asia (India)",
          how: [
            "Eat the golden pods around seeds; discard rind and core.",
            "Easiest method: Roast chunks 20 minutes at 400¬∞F or stew young jackfruit for savory dishes."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Chili", "Coconut substitutes", "Lime", "Rice", "Tofu", "Oats", "Lentils"],
          vitality: ["Vitamin C, potassium, fiber, and carotenoids for fullness and endurance."],
          stories: "In Indian folklore, the jackfruit tree was born from a god‚Äôs tears of joy ‚Äî a reminder that abundance can spring from emotion and devotion."
        },
        
        "Mamey Sapote": {
          origin: "Central America (Mexico to Costa Rica)",
          how: [
            "Peel brown skin, remove pit, eat orange flesh raw or blended."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Cinnamon", "Oats", "Almonds", "Coconut substitutes", "Rice", "Yogurt"],
          vitality: ["Vitamin C, E, beta-carotene, and fiber for vision and heart health."],
          stories: "In Mayan tradition, mamey sapote was a royal fruit of fertility and love ‚Äî its deep orange hue linked to the sun‚Äôs blood and renewal."
        },
        
        "Nance (Yellow Cherry)": {
          origin: "Central and South America",
          how: [
            "Eat soft yellow flesh; discard seed.",
            "Easiest method: Eat raw or simmer 5 minutes into syrup."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Cinnamon", "Oats", "Yogurt", "Mint", "Rice", "Almonds", "Coconut substitutes"],
          vitality: ["Vitamin C, fiber, and carotenoids for energy and skin repair."],
          stories: "Among Indigenous Central American peoples, nance was part of sacred drinks for ancestors ‚Äî fruit of memory and celebration."
        },
        
        "Horned Melon (Kiwano)": {
          origin: "Southern Africa",
          how: [
            "Cut open and scoop the bright green pulp; skin is edible but bitter.",
            "Easiest method: Chill and eat raw."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "Lime", "Yogurt", "Oats", "Almonds", "Rice", "Honey"],
          vitality: ["Vitamin C, potassium, magnesium, and antioxidants for hydration and energy."],
          stories: "In African folklore, the horned melon‚Äôs spines symbolize protection and vitality ‚Äî a humble-looking fruit carrying the brilliance of life within."
        },
                
        //Other fruit
        "Bananas": {
          origin: "Southeast Asia (Papua New Guinea)",
          how: [
            "Peel and eat ripe yellow fruit raw. Do not eat green skin or inner peel. Can also bake or freeze."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Oats", "almonds", "cinnamon", "yogurt", "peanut butter", "mint", "dark chocolate"],
          vitality: ["Potassium, vitamin B6, magnesium, and natural sugars for steady energy."],
          stories: "In Filipino and Melanesian legend, bananas were born from a woman‚Äôs hand reaching from the grave ‚Äî a symbol of eternal love and nourishment from the ancestors."
        },
        
        "Red Apples": {
          origin: "Central Asia (Kazakhstan)",
          how: [
            "Eat skin and flesh; remove core and seeds (seeds contain trace cyanide, unsafe in large amounts)."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Oats", "cinnamon", "almonds", "yogurt", "mint", "rice", "cheese substitutes"],
          vitality: ["Quercetin, vitamin C, and fiber for heart and gut balance."],
          stories: "In Norse myth, Idunn kept apples of immortality to renew the gods ‚Äî symbols of youth and renewal across time."
        },
        
        "Green Apples": {
          origin: "Central Asia (same as red)",
          how: [
            "Eat raw; remove core and seeds. Tart flavor ideal for baking."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Oats", "mint", "cinnamon", "almonds", "tofu", "yogurt", "rice"],
          vitality: ["Vitamin C, pectin, and malic acid for detox and freshness."],
          stories: "In Celtic lore, green apples were gateways to Avalon ‚Äî the Isle of the Blessed, where healing never ends."
        },
        
        "Yellow Apples": {
          origin: "Central Asia",
          how: [
            "Eat raw; remove core and seeds."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Almonds", "cinnamon", "oats", "yogurt", "rice", "mint", "dark chocolate"],
          vitality: ["Vitamin C, fiber, polyphenols for gentle digestion and vitality."],
          stories: "In Slavic tradition, yellow apples represent good health ‚Äî gifted at weddings to bless new beginnings."
        },
        
        "Avocados": {
          origin: "Mesoamerica (Mexico, Guatemala)",
          how: [
            "Slice, remove pit, and scoop flesh; skin and seed are not edible.",
            "Do not feed seeds or peel to pets."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Lime", "chili", "oats", "tofu", "rice", "mint", "tomato"],
          vitality: ["Healthy fats, potassium, and folate for brain and heart balance."],
          stories: "The Aztecs called it ƒÅhuacatl, ‚Äútesticle fruit,‚Äù sacred to fertility and vitality; paired avocados symbolized love and union."
        },
        
        "Pears": {
          origin: "Western China",
          how: [
            "Eat skin and flesh; remove core and seeds."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Almonds", "oats", "yogurt", "cinnamon", "mint", "rice", "dark chocolate"],
          vitality: ["Fiber, vitamin C, and flavonoids for calm digestion and immune strength."],
          stories: "In Chinese folklore, sharing a pear (l√≠) was avoided between friends ‚Äî because the word sounded like ‚Äúseparation.‚Äù Pears remind us that care includes parting with grace."
        },
        
        "Kiwi": {
          origin: "China (originally called ‚ÄúChinese gooseberry‚Äù)",
          how: [
            "Eat flesh with or without skin; remove fuzzy peel if desired."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "oats", "yogurt", "almonds", "lime", "rice", "coconut substitutes"],
          vitality: ["Vitamin C, E, and lutein for immunity, vision, and skin."],
          stories: "In MƒÅori stories, kiwi birds (for which the fruit is named) were blessed by Tane, god of the forest ‚Äî the fruit shares the same earthy humility and sweetness."
        },
        
        "Coconut": {
          origin: "Indo-Pacific",
          how: [
            "Crack open (tap around equator line with a blunt tool); drink the water and eat white flesh.",
            "Warning: Falling coconuts can cause serious injury ‚Äî harvest safely or buy opened."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Oats", "rice", "lime", "mint", "pineapple", "dark chocolate", "tofu"],
          vitality: ["Potassium, manganese, medium-chain fats, and fiber for hydration and endurance."],
          stories: "In Polynesian legend, the first coconut grew from a sacrificed lover‚Äôs head, offering eternal nourishment ‚Äî a symbol of love turned to sustenance."
        },
        
        "Honeydew Melon": {
          origin: "West Africa and Southwest Asia",
          how: [
            "Eat pale green flesh; remove rind and seeds."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "yogurt", "almonds", "oats", "lemon", "rice", "basil"],
          vitality: ["Vitamin C, potassium, and hydration for cooling and calm."],
          stories: "In Egyptian tomb art, melons symbolized sweetness in the afterlife ‚Äî fruits of the dawn reborn."
        },
        
        "Dates": {
          origin: "Middle East (Mesopotamia)",
          how: [
            "Remove pit; eat chewy flesh raw or blended."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Almonds", "oats", "yogurt", "cinnamon", "rice", "dark chocolate", "mint"],
          vitality: ["Iron, potassium, and natural sugars for energy and blood strength."],
          stories: "Dates are sacred in Islam ‚Äî the Prophet Muhammad broke fasts with them, calling them fruits of peace and sustenance."
        },
        
        "Plantains": {
          origin: "Southeast Asia / Africa (spread via trade)",
          how: [
            "Must be cooked ‚Äî peel and slice, then roast 25 minutes at 400¬∞F or pan-fry until golden. Do not eat raw; starch is indigestible."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Beans", "rice", "chili", "mint", "oats", "cinnamon", "coconut substitutes"],
          vitality: ["Potassium, vitamin A, and fiber for sustained energy."],
          stories: "Across West Africa and the Caribbean, plantains symbolize provision ‚Äî a fruit that feeds generations through patience and fire."
        },
        
        "Dragonfruit (Pitaya)": {
          origin: "Central America",
          how: [
            "Slice and scoop speckled flesh; discard rind."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Lime", "mint", "oats", "yogurt", "almonds", "coconut substitutes", "rice"],
          vitality: ["Vitamin C, magnesium, and betalains for skin, immunity, and calm energy."],
          stories: "In Mesoamerican myth, dragonfruit sprouted from the wounds of a slain dragon ‚Äî beauty born from struggle, a reminder of life‚Äôs resilience."
        },
        
        "Tamarind": {
          origin: "Africa (spread to India and Southeast Asia)",
          how: [
            "Remove brittle pod shell and strings; eat sticky pulp around hard seeds (do not eat seeds)."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Chili", "lime", "rice", "oats", "lentils", "mint", "tofu"],
          vitality: ["Polyphenols, vitamin B1, and tartaric acid for digestion and mood balance."],
          stories: "In Indian folk tales, tamarind trees housed spirits ‚Äî offerings were made before harvest to ensure respect for their sour-sweet wisdom."
        },
        
        "Pawpaws": {
          origin: "North America (Appalachia, Midwest)",
          how: [
            "Eat yellow flesh; discard peel and large seeds (both are mildly toxic). Best eaten fresh or chilled."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Oats", "almonds", "yogurt", "cinnamon", "mint", "rice", "dark chocolate"],
          vitality: ["Vitamin C, magnesium, and antioxidants for energy and calm."],
          stories: "The Cherokee and Shawnee considered pawpaws a wild blessing ‚Äî a hidden fruit found only by those who walked gently with the forest."
        },
        
        "Soursop / Guan√°bana": {
          origin: "Caribbean and northern South America",
          how: [
            "Remove thick green skin and seeds; eat white flesh raw or blended. Do not eat seeds ‚Äî toxic if crushed."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Lime", "mint", "coconut substitutes", "oats", "yogurt", "dark chocolate", "rice"],
          vitality: ["Vitamin C, fiber, and acetogenins (antioxidants) for immunity and calm."],
          stories: "In Afro-Caribbean medicine, soursop is the ‚Äúhealing heart‚Äù fruit ‚Äî believed to soothe the spirit and restore strength after illness."
        },
        
        "Asian Pears": {
          origin: "East Asia (China, Korea, Japan)",
          how: [
            "Eat crisp flesh and skin; remove core and seeds."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "oats", "yogurt", "almonds", "cinnamon", "rice", "tofu"],
          vitality: ["Vitamin C, fiber, and potassium for hydration and lung health."],
          stories: "In Korean legend, the pear tree was home to heavenly maidens; its fruit was a symbol of purity and peace between realms."
        },
        
        
        //Protein
        //Legumes
        "Black Beans": {
          origin: "Central & South America",
          how: [
            "Soak 8 hours or overnight, rinse, and boil 60‚Äì90 minutes (or simmer until soft). Never eat raw or undercooked."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Rice", "Corn", "Chili", "Avocado", "Lime", "Garlic", "Cumin", "Mint"],
          vitality: ["Protein, fiber, folate, iron, and anthocyanins for strength and gut balance."],
          stories: "In Mesoamerican lore, black beans were considered the ‚Äúnight beans‚Äù ‚Äî the food of balance, eaten with maize to complete the circle of life."
        },
        
        "Pinto Beans": {
          origin: "Mexico and the American Southwest",
          how: [
            "Soak 8 hours, rinse, and boil 60‚Äì90 minutes until creamy. Mash or stew."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Rice", "Corn", "Chili", "Garlic", "Cumin", "Avocado", "Tomato"],
          vitality: ["Protein, iron, potassium, and fiber for endurance and heart health."],
          stories: "Pinto beans are the ‚Äúeveryday people‚Äù bean ‚Äî called frijoles del pobre in folklore, a humble food that fed nations through resilience and care."
        },
        
        "Kidney Beans": {
          origin: "Peru",
          how: [
            "Boil vigorously for 10 minutes minimum before simmering (raw or undercooked kidney beans are toxic due to phytohemagglutinin).",
            "Soak overnight; cook 45‚Äì90 minutes total."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Rice", "Tomato", "Chili", "Onion", "Cumin", "Mint", "Tofu"],
          vitality: ["Protein, iron, and fiber for blood strength and steady energy."],
          stories: "Called frijoles colorados in Latin America, red beans symbolize courage and community ‚Äî the pulse of shared kitchens and celebration."
        },
        
        "Chickpeas / Garbanzo Beans": {
          origin: "Middle East (Turkey to Syria)",
          how: [
            "Soak overnight; boil 1‚Äì2 hours until soft. Can roast or mash."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Lemon", "Garlic", "Mint", "Cumin", "Rice", "Oats", "Sesame"],
          vitality: ["Protein, folate, iron, and zinc for brain and heart vitality."],
          stories: "In ancient Mesopotamia, chickpeas were eaten at fertility festivals ‚Äî seeds of life that carry both nourishment and hope."
        },
        
        "Navy Beans": {
          origin: "Americas (named for U.S. Navy use)",
          how: [
            "Soak overnight; simmer 60‚Äì90 minutes until tender."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Tomato", "Garlic", "Herbs", "Rice", "Chili", "Oats", "Mint"],
          vitality: ["Protein, fiber, folate, and manganese for digestion and heart balance."],
          stories: "Once the cornerstone of sailors‚Äô diets, navy beans represent endurance ‚Äî proof that small foods can carry a ship across oceans."
        },
        
        "Brown Lentils": {
          origin: "Near East (Syria, Iraq, Turkey)",
          how: [
            "Rinse; no soaking required. Boil 25‚Äì30 minutes until soft."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Rice", "Garlic", "Mint", "Cumin", "Oats", "Tomato", "Lemon"],
          vitality: ["Protein, iron, folate, and fiber for grounding and calm energy."],
          stories: "Lentils are among humanity‚Äôs oldest cultivated foods ‚Äî found in 8,000-year-old hearths, symbolizing the link between work, patience, and sustenance."
        },
        
        "Red Lentils": {
          origin: "Middle East and India",
          how: [
            "Rinse; cook 15‚Äì20 minutes. Breaks down into creamy texture."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Chili", "Lime", "Rice", "Oats", "Mint", "Garlic", "Cumin"],
          vitality: ["Protein, folate, iron, and beta-carotene for renewal and warmth."],
          stories: "In Indian temples, red lentils (masoor dal) are sacred offerings to ancestors ‚Äî bright seeds of devotion and nourishment."
        },
        
        "Green Lentils": {
          origin: "Mediterranean Basin",
          how: [
            "Rinse; simmer 30‚Äì40 minutes until tender but firm."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mint", "Oats", "Rice", "Tomato", "Garlic", "Cumin", "Lemon"],
          vitality: ["Protein, fiber, and polyphenols for balanced energy and digestion."],
          stories: "In Mediterranean folklore, green lentils represented abundance ‚Äî every grain a wish for prosperity in the coming year."
        },
        
        "Yellow Split Peas": {
          origin: "Central Asia and Mediterranean",
          how: [
            "Rinse; boil 30‚Äì45 minutes (no soaking needed)."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Garlic", "Mint", "Oats", "Rice", "Cumin", "Chili", "Lemon"],
          vitality: ["Protein, fiber, iron, and folate for gentle strength and calm."],
          stories: "In Norse legend, peas were sacred to Freyr, god of fertility and harvest ‚Äî eaten as symbols of spring‚Äôs return."
        },
        
        "Green Split Peas": {
          origin: "Central Asia",
          how: [
            "Rinse; boil 30‚Äì45 minutes until soft."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Garlic", "Mint", "Oats", "Rice", "Cumin", "Lemon"],
          vitality: ["Protein, fiber, and iron for restoration and warmth."],
          stories: "Pea soup was a comfort of soldiers and peasants alike ‚Äî the simple meal that carried people through long winters."
        },
        
        "Peanuts": {
          origin: "South America (Peru, Bolivia, Brazil)",
          how: [
            "Eat roasted or boiled. Do not eat raw or moldy peanuts ‚Äî risk of aflatoxins."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Oats", "Rice", "Chili", "Lime", "Dark chocolate", "Mint"],
          vitality: ["Protein, folate, healthy fats, and niacin for endurance."],
          stories: "In Afro-Brazilian Candombl√©, peanuts are sacred to Shango, god of thunder ‚Äî their crackle represents life‚Äôs electric power and joy."
        },
        
        "Lima / Butter Beans": {
          origin: "Peru",
          how: [
            "Soak 8 hours; boil vigorously for 10 minutes minimum before simmering (raw beans are toxic).",
            "Cook 60‚Äì90 minutes total until soft."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Rice", "Garlic", "Mint", "Chili", "Lemon", "Oats", "Cumin"],
          vitality: ["Protein, fiber, potassium, and iron for heart and muscle strength."],
          stories: "Named for Lima, Peru ‚Äî the bean‚Äôs creamy body symbolizes generosity and community."
        },
        
        "Black-Eyed Peas": {
          origin: "West Africa",
          how: [
            "Soak overnight; simmer 45‚Äì60 minutes until tender."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Rice", "Chili", "Garlic", "Cumin", "Mint", "Oats", "Tomato"],
          vitality: ["Protein, folate, fiber, and calcium for renewal and luck."],
          stories: "In African and African American New Year traditions, black-eyed peas bring prosperity ‚Äî eaten as wishes for blessings in the year ahead."
        },
        
        "Fava Beans": {
          origin: "Eastern Mediterranean",
          how: [
            "Soak 8 hours; boil thoroughly 45‚Äì60 minutes until soft.",
            "Do not eat raw (contains vicine and convicine, unsafe for people with G6PD deficiency)."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Garlic", "Lemon", "Mint", "Oats", "Rice", "Cumin"],
          vitality: ["Protein, fiber, iron, and folate for blood and energy."],
          stories: "In ancient Rome, fava beans were offered to the dead ‚Äî the ‚Äúwhispering beans‚Äù believed to connect living and ancestral worlds."
        },
        
        "Mung Beans": {
          origin: "India",
          how: [
            "Rinse; soak 4‚Äì6 hours; boil 30‚Äì45 minutes until tender. Sprouts may be eaten raw only if fresh and well-washed."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Garlic", "Chili", "Mint", "Oats", "Rice", "Lemon", "Tofu"],
          vitality: ["Protein, iron, and folate for cleansing and calm."],
          stories: "In Ayurveda, mung beans are the truest ‚Äúsattvic‚Äù food ‚Äî bringing peace, clarity, and lightness to mind and body."
        },
        
        "Adzuki Beans": {
          origin: "East Asia (China, Japan, Korea)",
          how: [
            "Soak 4‚Äì6 hours; simmer 45‚Äì60 minutes."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Rice", "Oats", "Cinnamon", "Almonds", "Mint", "Tofu", "Coconut substitutes"],
          vitality: ["Protein, iron, potassium, and antioxidants for heart and blood."],
          stories: "In Japan, red adzuki beans ward off evil; their sweet paste is used in sacred desserts celebrating protection and joy."
        },
                
        //Complete Protein
        "Soft/Firm Tofu": {
          origin: "China, over 2,000 years ago",
          how: [
            "Eat raw, baked, stir-fried, or blended into sauces. Drain or press for firmer texture."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Rice", "oats", "chili", "mint", "garlic", "soy sauce", "sesame", "greens"],
          vitality: ["Complete plant protein, iron, calcium, and isoflavones for balanced strength and hormone support."],
          stories: "In Buddhist monastic kitchens, tofu is revered as the ‚Äúpeaceful meat‚Äù ‚Äî nourishment without harm, a symbol of compassion through sustenance."
        },
        
        "Tempeh": {
          origin: "Indonesia (Java)",
          how: [
            "Slice, steam 10 minutes to reduce bitterness, then pan-fry, bake, or crumble."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Rice", "chili", "garlic", "mint", "oats", "soy sauce", "lemon"],
          vitality: ["Fermented complete protein, probiotics, and B vitamins for gut and brain harmony."],
          stories: "In Javanese tradition, tempeh was a food of gratitude ‚Äî beans transformed through living culture, linking earth, air, and community."
        },
        
        "Edamame": {
          origin: "East Asia (China, Japan)",
          how: [
            "Boil or steam pods 5‚Äì7 minutes; eat the green beans inside, not the pod."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Rice", "chili", "mint", "lemon", "oats", "tofu", "garlic"],
          vitality: ["Protein, folate, and omega-3s for growth and calm energy."],
          stories: "In Japanese culture, edamame symbolizes good fortune ‚Äî green seeds representing hope and renewal."
        },
        
        "Hemp Hearts / Seeds": {
          origin: "Central Asia",
          how: [
            "Eat raw, sprinkle on oats, salads, or smoothies. No cooking required."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Oats", "mint", "yogurt", "rice", "cinnamon", "berries", "tofu"],
          vitality: ["Complete protein, omega-3/6 balance, iron, and magnesium for strength and focus."],
          stories: "In many Indigenous traditions, hemp represents harmony ‚Äî a plant that clothes, feeds, and heals in equal measure."
        },
        
        "Quinoa": {
          origin: "Andes Mountains, South America",
          how: [
            "Rinse (to remove saponins), then boil 15 minutes. Fluff with fork."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Beans", "chili", "mint", "oats", "rice", "garlic", "lemon"],
          vitality: ["Complete protein, fiber, iron, and magnesium for resilience."],
          stories: "Known as the ‚Äúmother grain‚Äù (chisaya mama) of the Inca, quinoa was sacred to the Sun ‚Äî sown each year with golden tools in ceremony."
        },
        
        "Amaranth": {
          origin: "Central America (Aztec)",
          how: [
            "Boil 20 minutes or pop like popcorn."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Beans", "chili", "mint", "oats", "rice", "lemon"],
          vitality: ["Complete protein, calcium, and lysine for muscle and bone health."],
          stories: "The Aztecs mixed amaranth with honey for ceremonial offerings ‚Äî the ‚Äúgrain of the gods,‚Äù linking food to prayer."
        },
        
        "Buckwheat / Soba": {
          origin: "Central Asia",
          how: [
            "Boil groats 15 minutes or cook soba noodles 3‚Äì5 minutes; rinse well."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Soy sauce", "mint", "chili", "oats", "tofu", "rice"],
          vitality: ["Complete protein, magnesium, and rutin for heart and circulation support."],
          stories: "In Japanese shrines, soba is eaten on New Year‚Äôs Eve to cut off bad luck ‚Äî thin noodles symbolizing long life and release."
        },
        
        "Chia Seeds": {
          origin: "Mexico and Guatemala",
          how: [
            "Soak 10‚Äì15 minutes to form gel or add dry to oats and yogurt."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Oats", "mint", "yogurt", "rice", "berries", "cinnamon"],
          vitality: ["Complete protein, omega-3s, calcium, and antioxidants for endurance."],
          stories: "Chia means ‚Äústrength‚Äù in Nahuatl; Aztec messengers carried it for days as their only fuel ‚Äî a sacred seed of resilience."
        },
        
        "Wild Rice / Manoomin": {
          origin: "Great Lakes Region, North America",
          how: [
            "Rinse; boil 45‚Äì60 minutes until tender."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Beans", "mint", "oats", "chili", "lemon", "garlic", "tofu"],
          vitality: ["Complete protein, manganese, and fiber for sustained vitality."],
          stories: "For the Ojibwe, Manoomin was a gift of prophecy ‚Äî ‚Äúthe food that grows on water,‚Äù leading them to the Great Lakes. It remains sacred and ceremonial."
        },
        
        "Textured Vegetable Protein (TVP)": {
          origin: "Modern ‚Äî developed mid-20th century as soy-based protein alternative",
          how: [
            "Rehydrate in hot water or broth 10 minutes, then season and cook as meat substitute."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Rice", "chili", "mint", "oats", "tomato", "garlic", "cumin"],
          vitality: ["Complete soy protein and iron for affordable plant-based meals."],
          stories: "Represents modern ingenuity ‚Äî a symbol of abundance created through compassion and science."
        },
        
        "Seitan / Wheat-Based Meat": {
          origin: "China (Buddhist monks, ~6th century CE)",
          how: [
            "Simmer or bake until firm. Season well (neutral flavor)."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Soy sauce", "chili", "mint", "garlic", "oats", "rice"],
          vitality: ["High protein and iron; best balanced with legumes for complete amino acids."],
          stories: "Invented as temple food, seitan is called ‚Äúthe flesh of wheat‚Äù ‚Äî a creation born from the vow to harm none."
        },
        
        "Eggs / Plant-Based Egg Substitutes": {
          origin: "Global (domesticated fowl, 7,000 BCE)",
          how: [
            "Cook fully ‚Äî boiled, scrambled, or baked; never eat raw."
          ],
          how_warning: "‚ö†Ô∏è Health note: Overconsumption of eggs (especially fried) raises LDL cholesterol; choose baked or plant-based versions when possible.",
          pairs: ["Oats", "rice", "mint", "tofu", "chili", "lemon"],
          vitality: ["Protein, choline, B12, and fat for growth and energy."],
          stories: "The egg symbolizes creation ‚Äî in nearly every culture, it is the universe in miniature, the seed of beginnings."
        },
        
        "Chicken / Turkey / Plant Poultry": {
          origin: "Domesticated in Asia (chickens) and North America (turkey)",
          how: [
            "Cook thoroughly to 165¬∞F internal temperature; never eat undercooked poultry."
          ],
          how_warning: "‚ö†Ô∏è Health note: Grilled or fried poultry forms carcinogenic compounds; prefer baking or boiling. Limit consumption of animal versions.",
          pairs: ["Rice", "oats", "mint", "chili", "garlic", "lemon", "greens"],
          vitality: ["Protein, iron, and B vitamins for energy and repair."],
          stories: "In Indigenous North America, the turkey was offered in gratitude ceremonies ‚Äî a reminder that taking life demands reverence and restraint."
        },
        
        "Cow Meat / Plant Beef": {
          origin: "Domesticated in Fertile Crescent (~10,000 BCE)",
          how: [
            "Cook to safe temperature (145‚Äì160¬∞F). Avoid charring or curing."
          ],
          how_warning: "‚ö†Ô∏è Health note: Regular consumption of red or processed meat is linked to heart disease, cancer, and inflammation; opt for plant or occasional ceremonial use only.",
          pairs: ["Rice", "chili", "garlic", "oats", "mint", "lemon", "beans"],
          vitality: ["Protein, iron, and zinc for strength ‚Äî best sourced plant-based for long-term health."],
          stories: "Cattle were sacred in many cultures; among the Maasai, milk and blood were gifts of life ‚Äî showing respect for the animal‚Äôs spirit was essential."
        },
        
        "Pig Meat / Plant Pork": {
          origin: "Eurasia (~9,000 BCE)",
          how: [
            "Cook thoroughly to 160¬∞F. Avoid cured or smoked forms."
          ],
          how_warning: "‚ö†Ô∏è Health note: Processed pork (ham, bacon, sausage) produces carcinogenic nitrates and advanced glycation compounds ‚Äî linked to many chronic diseases. ‚ö†Ô∏è Health note: Undercooked or raw pork can transmit Trichinella and Taenia solium (pork tapeworm), which can cause serious infections including cysts that migrate to the brain (neurocysticercosis). Always cook pork to at least 160¬∞F / 71¬∞C and avoid tasting before it‚Äôs fully done.",
          pairs: ["Beans", "oats", "mint", "chili", "garlic", "rice"],
          vitality: ["Protein and B vitamins; healthiest when replaced with plant-based forms."],
          stories: "In many Indigenous and Eastern traditions, pigs symbolize indulgence and transformation; their stories teach restraint and gratitude."
        },
        
        "Lamb / Goat / Other Meats": {
          origin: "Middle East and North Africa (~10,000 BCE)",
          how: [
            "Cook thoroughly to 160¬∞F. Avoid burning or heavy charring."
          ],
          how_warning: "‚ö†Ô∏è Health note: Grilled or fatty meats increase inflammation and heart risk; plant-based versions are safer and sustainable.",
          pairs: ["Rice", "oats", "mint", "lemon", "chili", "garlic", "beans"],
          vitality: ["Protein, iron, and zinc ‚Äî best kept rare and ceremonial."],
          stories: "In Abrahamic faiths, lamb represents sacrifice and renewal ‚Äî a call to reverence for life, not indulgence."
        },
        
        //Dairy
        "Soy Milk": {
          origin: "China (Han dynasty, >2,000 years ago)",
          how: [
            "Drink chilled or warm, use in cereal, smoothies, or sauces. Shake before use."
          ],
          how_warning: "‚ö†Ô∏è Health note: Choose fortified versions for children or pregnancy to ensure full nutrition.",
          pairs: ["Oats", "Cocoa", "Cinnamon", "Berries", "Matcha"],
          vitality: ["High in complete protein, usually fortified with calcium and B12."],
          stories: "Early Buddhist monks used soy milk as a gentle alternative to dairy, symbolizing compassion through nourishment without harm."
        },
        
        "Oat Milk": {
          origin: "Northern Europe (revived in Sweden, 1990s)",
          how: [
            "Blend into coffee, cereal, or baked goods."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Coffee", "Cocoa", "Cinnamon", "Vanilla"],
          vitality: ["Contains soluble fiber (beta-glucans) that support heart health."],
          stories: "Oats were sacred in Celtic lore, symbols of humble endurance through long winters."
        },
        
        "Hazelnut Milk": {
          origin: "Mediterranean Basin",
          how: [
            "Use in desserts or warm drinks. Shake before serving."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Cocoa", "Coffee", "Bananas", "Cinnamon"],
          vitality: ["High in Vitamin E and magnesium."],
          stories: "In Celtic and Norse legend, the hazel tree was the tree of wisdom‚Äîits nuts contained flashes of divine insight."
        },
        
        "Almond Milk": {
          origin: "Middle East ‚Üí Persia ‚Üí Medieval Europe",
          how: [
            "Drink chilled or use in cooking and baking."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Honey", "Berries", "Oats", "Cocoa"],
          vitality: ["Vitamin E and calcium-fortified, low in saturated fat."],
          stories: "Almonds were seen as sacred in Jewish, Christian, and Islamic texts‚Äîfirst to bloom in spring, symbols of renewal and divine promise."
        },
        
        "Cashew Milk": {
          origin: "Northeastern Brazil",
          how: [
            "Use for creamy sauces, curries, and desserts."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mango", "Cocoa", "Vanilla", "Cinnamon"],
          vitality: ["Magnesium, zinc, and soft healthy fats."],
          stories: "Among Tupi and Guaran√≠ peoples, cashews were forest gifts representing adaptability and sharing."
        },
        
        "Hemp / Flax Milk": {
          origin: "Central Asia and Mediterranean",
          how: [
            "Shake well; enjoy chilled or in smoothies."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Coffee", "Oats", "Berries", "Banana"],
          vitality: ["Excellent omega-3 and omega-6 balance, plant protein, and minerals."],
          stories: "Hemp has been cultivated for over 10,000 years‚Äîits fiber, oil, and seeds symbolized harmony between strength and peace."
        },
        
        "Rice Milk": {
          origin: "East Asia (China & Japan)",
          how: [
            "Use as a light, sweet milk in cereal or desserts."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Cinnamon", "Vanilla", "Mango", "Oats"],
          vitality: ["Gentle and hypoallergenic; usually fortified with calcium and B12."],
          stories: "Rice embodies life and abundance throughout Asia‚Äîeach grain carries the spirit of prosperity and gratitude."
        },
        
        "Coconut Milk": {
          origin: "Southeast Asia & Pacific Islands",
          how: [
            "Use in soups, curries, and desserts. Stir before use."
          ],
          how_warning: "‚ö†Ô∏è Health note: Use in moderation if watching saturated fat; avoid if allergic.",
          pairs: ["Curry spices", "Lime", "Pineapple", "Mango"],
          vitality: ["Iron and medium-chain fats; rich and satisfying."],
          stories: "Pacific Island stories tell that the first coconut tree grew from the head of a sacrificed youth‚Äîlife sprouting from love and renewal."
        },
        
        "Lactated Cow / Goat / Sheep Milk": {
          origin: "First domesticated in Fertile Crescent & Central Asia (~9,000 BCE)",
          how: [
            "Drink chilled or cook; refrigerate always."
          ],
          how_warning: "‚ö†Ô∏è Health note: Roughly two-thirds of the world‚Äôs population is lactose intolerant. Genetic lactase persistence developed mainly in Northern Europe, parts of East Africa, and the Middle East. Most Indigenous American, African, and Asian peoples traditionally did not drink milk. Always choose pasteurized dairy; avoid raw milk.",
          pairs: ["Cocoa", "Oats", "Fruits", "Tea", "Coffee"],
          vitality: ["Protein, calcium, B12."],
          stories: "Early pastoral cultures revered milk as ‚Äúliquid sunlight.‚Äù In Vedic texts, cows were mothers of plenty, honored for sustenance freely given."
        },
        
        "Yogurt / Kefir": {
          origin: "Central Asia & Eastern Europe",
          how: [
            "Eat plain or with fruit; keep refrigerated."
          ],
          how_warning: "‚ö†Ô∏è Health note: Dairy versions nourish the gut but may upset the lactose-intolerant. Choose plant-based yogurt with live cultures for a similar benefit.",
          pairs: ["Honey", "Oats", "Mint", "Berries"],
          vitality: ["Probiotics, calcium, and protein."],
          stories: "Nomads believed yogurt was a gift from the ‚Äúspirits of motion‚Äù‚Äîcreated by warmth, time, and journey."
        },
        
        "Cream Cheese": {
          origin: "19th-century United States",
          how: [
            "Spread chilled or bake into dishes."
          ],
          how_warning: "‚ö†Ô∏è Health note: High in saturated fat if animal-based; choose plant or nut blends when possible.",
          pairs: ["Herbs", "Honey", "Fruits", "Garlic"],
          vitality: ["Calcium and protein; plant versions lighter in fat."],
          stories: "Cream cheese became a comfort food in immigrant communities‚Äîa symbol of abundance shared after scarcity."
        },
        
        "Soft Aged / Crumbly Cheeses (Feta, Blue, etc.)": {
          origin: "Mediterranean (Greece, France)",
          how: [
            "Crumble into salads or pasta; store chilled."
          ],
          how_warning: "‚ö†Ô∏è Health note: High sodium; avoid unpasteurized cheese in pregnancy.",
          pairs: ["Olives", "Tomatoes", "Mint", "Lemon"],
          vitality: ["Calcium, protein, and probiotics (if cultured)."],
          stories: "The Greek god Aristaeus was said to have invented cheese‚Äîturning milk into something lasting, an act of divine transformation."
        },
        
        "Sour Cream": {
          origin: "Eastern Europe",
          how: [
            "Use as topping or dip; store refrigerated."
          ],
          how_warning: "‚ö†Ô∏è Health note: Use sparingly if animal-based due to high saturated fat.",
          pairs: ["Potatoes", "Herbs", "Chili"],
          vitality: ["Cultured fats, calcium, and flavor depth."],
          stories: "In Slavic homes, sour cream represented warmth and hospitality‚Äîthe heart of shared meals."
        },
        
        "Cottage Cheese": {
          origin: "Central/Northern Europe",
          how: [
            "Eat plain or with fruit and herbs."
          ],
          how_warning: "‚ö†Ô∏è Health note: High sodium in animal versions; choose lighter plant alternatives.",
          pairs: ["Berries", "Honey", "Lemon", "Herbs"],
          vitality: ["Protein and calcium; easy to digest."],
          stories: "In rural Europe, curdled milk symbolized fertility‚Äîthe miracle of nourishment reborn from stillness."
        },
        
        "Hard Cheeses (Cheddar, Parmesan, etc.)": {
          origin: "Europe (Medieval monasteries)",
          how: [
            "Grate or slice; refrigerate."
          ],
          how_warning: "‚ö†Ô∏è Health note: Concentrated fat and salt; enjoy small portions.",
          pairs: ["Tomatoes", "Nuts", "Herbs", "Rice", "Chili"],
          vitality: ["Dense protein and calcium."],
          stories: "Cheesemaking was once a sacred craft of patience and transformation‚Äîan earthly echo of divine aging and time."
        },
        
        "Soft Fresh Cheeses (Mozzarella, Ricotta, etc.)": {
          origin: "Italy",
          how: [
            "Eat fresh or melted; keep chilled."
          ],
          how_warning: "‚ö†Ô∏è Health note: Always choose pasteurized; raw soft cheese may carry Listeria risk for pregnancy.",
          pairs: ["Tomatoes", "Basil", "Olive oil", "Mint"],
          vitality: ["Moist and mild; calcium and protein."],
          stories: "In Italian folk life, mozzarella symbolized generosity‚Äîfresh milk transformed daily, never hoarded."
        },
        
        //Seafood
        "Salmon": {
          origin: "Northern Atlantic and Pacific coasts.",
          how: [
            "Bake or pan-sear until opaque and flaky. Avoid raw unless sushi-grade and professionally prepared."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Lemon", "Dill", "Garlic", "Rice", "Spinach"],
          vitality: ["Protein, omega-3 fatty acids, vitamin D, selenium."],
          stories: "In Celtic lore, the ‚ÄúSalmon of Knowledge‚Äù gained wisdom from sacred hazelnuts, symbolizing insight and renewal."
        },
        
        "Tuna": {
          origin: "Warm oceans around the world.",
          how: [
            "Bake, broil, or use canned. Limit large tuna (albacore, bluefin) to occasional use due to mercury."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Tomatoes", "Olives", "Lemon", "Avocado"],
          vitality: ["Lean protein, B12, selenium, omega-3s."],
          stories: "In Polynesian tales, the tuna god Tinirau embodied balance between courage and gentleness ‚Äî protector of the seas."
        },
        
        "Tilapia": {
          origin: "Freshwater lakes and rivers of Africa, especially the Nile.",
          how: [
            "Bake, saut√©, or grill until white and flaky."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Garlic", "Lime", "Chili", "Herbs"],
          vitality: ["Mild, low-fat, high-protein fish."],
          stories: "Ancient Egyptians saw tilapia as a symbol of rebirth; its image was painted in tombs beside the setting sun."
        },
        
        "Shrimp": {
          origin: "Coastal waters worldwide.",
          how: [
            "Boil or grill until pink and firm. Avoid raw shrimp."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Lemon", "Chili", "Garlic", "Pasta"],
          vitality: ["Protein, iodine, selenium."],
          stories: "In East Asian stories, shrimp symbolized humility and endurance ‚Äî moving backward only to leap forward."
        },
        
        "Cod / Pollock": {
          origin: "Cold North Atlantic waters.",
          how: [
            "Bake, pan-fry, or stew until flaky. Pollock is a close relative, often used in fish sticks and imitation crab."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Potatoes", "Parsley", "Butter", "Lemon"],
          vitality: ["Lean protein, phosphorus, B12."],
          stories: "For centuries, cod sustained Nordic peoples through dark winters, seen as a divine gift from stormy seas."
        },
        
        "Trout": {
          origin: "Freshwater streams of North America, Europe, and Asia.",
          how: [
            "Grill, bake, or pan-fry until opaque."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Lemon", "Almonds", "Garlic", "Parsley"],
          vitality: ["Omega-3s, protein, B vitamins."],
          stories: "In Indigenous North American stories, trout symbolized clarity and the flow of wisdom through living waters."
        },
        
        "Crab": {
          origin: "Global coastal regions and estuaries.",
          how: [
            "Steam or boil until the shell turns red and the meat is firm."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Garlic", "Lemon", "Chili", "Butter"],
          vitality: ["Protein, zinc, copper."],
          stories: "In Pacific Island folklore, crab assisted the moon in pulling the tides ‚Äî a symbol of rhythm and patience."
        },
        
        "Clams": {
          origin: "Shallow coastal waters worldwide.",
          how: [
            "Steam until shells open; discard unopened ones."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Garlic", "Parsley", "White wine", "Pasta"],
          vitality: ["Iron, protein, B12, selenium."],
          stories: "Many coastal Native nations viewed clams as emblems of modest abundance ‚Äî quiet yet essential to the ecosystem."
        },
        
        "Oysters": {
          origin: "Estuaries and reefs in the Atlantic and Pacific.",
          how: [
            "Steam, bake, or fry. Avoid raw unless trained in safe handling."
          ],
          how_warning: "‚ö†Ô∏è Warning: Raw oysters can harbor Vibrio bacteria; avoid during pregnancy.",
          pairs: ["Lemon", "Vinegar", "Chili", "Greens"],
          vitality: ["Zinc, iron, B12, protein."],
          stories: "MƒÅori legend says oysters are tears of the sea goddess ‚Äî beauty born from grief and salt."
        },
        
        "Scallops": {
          origin: "Cold coastal seas worldwide.",
          how: [
            "Sear briefly in a pan or bake until opaque."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Garlic", "Lemon", "Herbs", "Pasta"],
          vitality: ["Protein, potassium, magnesium."],
          stories: "Medieval pilgrims carried scallop shells as symbols of safe passage and spiritual courage."
        },
        
        "Crawfish (Crayfish)": {
          origin: "Freshwater rivers and swamps, especially in North America.",
          how: [
            "Boil with spices until bright red; peel tail meat before eating."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Corn", "Potatoes", "Garlic", "Herbs"],
          vitality: ["Protein, iron, B vitamins."],
          stories: "In Cajun and Creole folklore, crawfish symbolized community and celebration ‚Äî the spirit of shared feasts."
        },
        
        "Mussels": {
          origin: "Temperate coastal waters around the world.",
          how: [
            "Steam until shells open; discard any that remain closed."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Tomato", "Garlic", "Parsley", "Wine"],
          vitality: ["Protein, iron, omega-3s, B12."],
          stories: "In Celtic stories, mussels represented endurance ‚Äî holding fast through the tides of change."
        },
        
        "Sardines / Anchovies": {
          origin: "Mediterranean and Atlantic coasts.",
          how: [
            "Eat canned or grilled; bones are soft and edible."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Tomatoes", "Lemon", "Olives", "Bread"],
          vitality: ["Omega-3s, calcium, vitamin D."],
          stories: "In Mediterranean villages, small fish like these were seen as humble blessings ‚Äî proof that enough for all still existed."
        },
        
        "Mackerel": {
          origin: "Atlantic and Pacific oceans.",
          how: [
            "Bake or grill until flaky. Avoid raw."
          ],
          how_warning: "‚ö†Ô∏è Warning: Moderate mercury levels; best limited to a few servings per month.",
          pairs: ["Mustard", "Herbs", "Lemon", "Rice"],
          vitality: ["Omega-3s, vitamin D, protein."],
          stories: "Japanese Shinto festivals honor mackerel as a sign of plenty and prosperity ‚Äî nourishment for both land and sea."
        },
        
        "Lobster": {
          origin: "North Atlantic and Pacific coasts.",
          how: [
            "Boil or steam until shell turns bright red."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Lemon", "Garlic", "Corn", "Butter"],
          vitality: ["Protein, zinc, selenium."],
          stories: "In Wabanaki teachings, lobster reminded humans to stay humble ‚Äî its armor protects, but its spirit stays soft."
        },
        
        "Catfish": {
          origin: "Rivers and ponds across Africa, Asia, and the Americas.",
          how: [
            "Bake, fry, or grill until golden and flaky."
          ],
          how_warning: "‚ö†Ô∏è Note: Check advisories before eating wild-caught catfish from local rivers due to pollution risks.",
          pairs: ["Cornmeal", "Lemon", "Greens", "Herbs"],
          vitality: ["Protein, potassium, vitamin D."],
          stories: "In African folklore, catfish represented transformation and adaptability ‚Äî thriving even in muddy waters."
        },
        
        
        //Calories
        //Grains
        "Wheat": {
          origin: "Fertile Crescent (Iraq‚ÄìTurkey‚ÄìSyria region).",
          how: [
            "Flour: Used for bread, pasta, pancakes, etc. Must be baked or cooked ‚Äî never eaten raw.",
            "Whole berries: Boil 2 cups water + 1 cup wheat berries ‚âà 45‚Äì50 min until chewy."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Olive oil", "Herbs", "Beans", "Vegetables"],
          vitality: ["Complex carbs", "Fiber", "B vitamins", "Protein"],
          stories: "Ancient Sumerians praised wheat as the ‚Äútears of the goddess,‚Äù a symbol of rebirth after the floods."
        },
        
        "Pasta": {
          origin: "Ancient Mediterranean, from wheat doughs.",
          how: [
            "Boil in salted water ‚âà 8‚Äì12 min (varies by shape). Drain; toss with oil or sauce."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Tomato", "Garlic", "Basil", "Olive oil"],
          vitality: ["Carbohydrates for steady energy."],
          stories: "In Italian folk tales, pasta was ‚Äúsunlight made solid‚Äù ‚Äî golden strands bringing warmth to the table."
        },
        
        "White Rice": {
          origin: "East Asia (domesticated ~10,000 years ago).",
          how: [
            "Rinse until water runs clear. Boil 2 parts water : 1 part rice, cover ‚âà 15‚Äì20 min until fluffy."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Beans", "Vegetables", "Soy sauce", "Herbs"],
          vitality: ["Carbohydrates", "Small amounts of B vitamins."],
          stories: "In many Asian traditions, rice was a divine gift that linked heaven and earth."
        },
        
        "Brown Rice": {
          origin: "Same species as white rice, with bran intact.",
          how: [
            "Rinse; boil 2¬Ω parts water : 1 part rice ‚âà 40‚Äì45 min."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Ginger", "Tofu", "Greens"],
          vitality: ["Fiber", "Magnesium", "B vitamins"],
          stories: "Considered ‚Äúrice of the poor‚Äù in old Japan but revered today as rice of wholeness."
        },
        
        "Cornmeal": {
          origin: "Indigenous Americas.",
          how: [
            "Bring 4 cups water to boil; whisk in 1 cup cornmeal; simmer ‚âà 20 min for polenta or mush."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Beans", "Greens", "Maple syrup"],
          vitality: ["Carbs", "Small protein", "Folate"],
          stories: "In many Native American nations, corn was the first mother ‚Äî ‚ÄúShe Who Sustains the People.‚Äù"
        },
        
        "Oats": {
          origin: "Northern Europe and western Asia.",
          how: [
            "Boil 2 cups water : 1 cup rolled oats ‚âà 5 min (steel-cut 30 min)."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Fruit", "Nuts", "Cinnamon", "Milk"],
          vitality: ["Soluble fiber", "Manganese", "Iron"],
          stories: "Celtic farmers saw oats as ‚Äúgrain of endurance,‚Äù keeping warriors strong through winter."
        },
        
        "Couscous": {
          origin: "North Africa (semolina wheat granules).",
          how: [
            "Pour 1 cup boiling water over 1 cup couscous; cover 5 min; fluff."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Chickpeas", "Vegetables", "Lemon"],
          vitality: ["Carbohydrates", "Protein", "Selenium"],
          stories: "Shared in Moroccan feasts to honor unity and hospitality."
        },
        
        "Quinoa": {
          origin: "Andes Mountains of Peru & Bolivia.",
          how: [
            "Rinse well (to remove bitter coating). Boil 2 cups water : 1 cup quinoa ‚âà 15 min until tails unfurl."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Beans", "Corn", "Vegetables"],
          vitality: ["Complete protein", "Iron", "Magnesium"],
          stories: "The Inca called it ‚Äúmother grain,‚Äù used in ceremonies of gratitude to Pachamama (Earth Mother)."
        },
        
        "Millet": {
          origin: "East Asia & Africa.",
          how: [
            "Toast 1 cup millet; add 2 cups water; simmer ‚âà 20 min until tender."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Lentils", "Carrots", "Onions"],
          vitality: ["B vitamins", "Magnesium", "Antioxidants"],
          stories: "In African legend, millet was born from starlight ‚Äî the ‚Äúgrain of dawn.‚Äù"
        },
        
        "Amaranth": {
          origin: "Central & South America.",
          how: [
            "Boil 2¬Ω cups water : 1 cup amaranth ‚âà 25 min (stir; becomes porridge-like)."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Sweet potatoes", "Greens", "Nuts"],
          vitality: ["Protein", "Calcium", "Iron"],
          stories: "Once sacred to the Aztecs, amaranth was offered to the sun to sustain life‚Äôs fire."
        },
        
        "Buckwheat / Soba": {
          origin: "Central Asia and eastern Europe.",
          how: [
            "Groats (kasha): Toast, then boil 2 cups water : 1 cup groats ‚âà 15 min.",
            "Noodles (soba): Boil ‚âà 5 min; rinse cold."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mushrooms", "Greens", "Soy sauce"],
          vitality: ["Protein", "Rutin (antioxidant)", "Magnesium"],
          stories: "In Japanese folklore, soba was eaten on New Year‚Äôs Eve for longevity and renewal."
        },
        
        "Wild Rice / Manoomin": {
          origin: "Great Lakes region of North America.",
          how: [
            "Rinse; simmer 3 cups water : 1 cup rice ‚âà 40‚Äì45 min until some grains split."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Cranberries", "Mushrooms", "Maple"],
          vitality: ["Protein", "Fiber", "Zinc"],
          stories: "Manoomin is sacred to the Anishinaabe ‚Äî the grain that grows on water, a gift of prophecy and peace."
        },
        
        "Rye": {
          origin: "Central & Eastern Europe.",
          how: [
            "Flour: Bake into hearty bread.",
            "Berries: Boil 3 cups water : 1 cup rye ‚âà 1 hr until tender."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Caraway", "Onions", "Cheese"],
          vitality: ["Fiber", "Manganese", "Phosphorus"],
          stories: "Norse farmers believed rye guarded against winter spirits when baked into dark loaves."
        },
        
        "Kamut": {
          origin: "Ancient Egypt (rediscovered grain).",
          how: [
            "Soak overnight; boil 3 cups water : 1 cup kamut ‚âà 45‚Äì60 min."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Dates", "Nuts", "Citrus"],
          vitality: ["Protein", "Selenium", "Zinc"],
          stories: "Legend says kamut grains were found sealed in a pharaoh‚Äôs tomb ‚Äî a seed of rebirth."
        },
        
        "Barley": {
          origin: "Fertile Crescent and Horn of Africa.",
          how: [
            "Simmer 3 cups water : 1 cup pearl barley ‚âà 40 min (hulled ‚âà 1 hr)."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Mushrooms", "Herbs", "Broth"],
          vitality: ["Fiber", "Selenium", "B vitamins"],
          stories: "In ancient Greece, barley was Demeter‚Äôs sacred grain ‚Äî symbol of nourishment and patience."
        },
        
        "Sorghum": {
          origin: "Sub-Saharan Africa.",
          how: [
            "Simmer 3 cups water : 1 cup sorghum ‚âà 50 min; stir occasionally. Can also be popped like popcorn."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Peppers", "Beans", "Sweet corn"],
          vitality: ["Antioxidants", "Fiber", "Protein"],
          stories: "In African oral tradition, sorghum represents resilience ‚Äî thriving even where rains are scarce."
        },
        
        //Nuts and seeds
        "Almonds": {
          origin: "Western Asia & the Mediterranean.",
          how: [
            "Eat raw, roasted, or sliced. Remove shells; never eat the hull."
          ],
          how_warning: "‚ö†Ô∏è Note: Bitter (wild) almonds contain toxins ‚Äî eat only sweet edible varieties.",
          pairs: ["Fruit", "Chocolate", "Grains"],
          vitality: ["Vitamin E", "Calcium", "Good fats"],
          stories: "Ancient Persians saw almonds as symbols of hidden potential ‚Äî sweetness protected by strength."
        },
        
        "Walnuts": {
          origin: "Persia and Central Asia.",
          how: [
            "Crack shells; eat kernels raw or toasted."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Apples", "Dates", "Cheese", "Greens"],
          vitality: ["Omega-3s", "Copper", "Manganese"],
          stories: "Greeks linked walnuts to wisdom; its brain-shaped shell was thought to inspire thought itself."
        },
        
        "Pecans": {
          origin: "North America.",
          how: [
            "Shell and eat raw or roasted; store refrigerated."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Maple", "Cinnamon", "Sweet potatoes"],
          vitality: ["Monounsaturated fats", "Zinc", "Fiber"],
          stories: "In Cherokee tradition, pecans symbolized preparation and foresight‚Äîfood stored for winter."
        },
        
        "Cashews": {
          origin: "Northeastern Brazil.",
          how: [
            "Always roasted; raw shells contain caustic oil."
          ],
          how_warning: "‚ö†Ô∏è Warning: Never attempt to shell raw cashews at home; outer coating can irritate skin.",
          pairs: ["Curry", "Coconut", "Vegetables"],
          vitality: ["Copper", "Magnesium", "Healthy fats"],
          stories: "In Tupi-Guarani lore, the cashew tree was the ‚Äúlaughing fruit,‚Äù born from joy and sunlight."
        },
        
        "Pistachios": {
          origin: "Middle East & Central Asia.",
          how: [
            "Eat kernels only; discard shells. Roast lightly for flavor."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Citrus", "Yogurt", "Honey"],
          vitality: ["Protein", "B6", "Potassium"],
          stories: "In Persian legend, pistachios grew from the heart of lovers separated by desert winds."
        },
        
        "Sunflower Seeds": {
          origin: "North America.",
          how: [
            "Eat kernels raw or roasted; do not eat tough black shells."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Salads", "Bread", "Trail mixes"],
          vitality: ["Vitamin E", "Selenium", "Magnesium"],
          stories: "For Plains tribes, sunflowers represented devotion ‚Äî turning always toward the Creator‚Äôs light."
        },
        
        "Sesame Seeds / Tahini": {
          origin: "India & Mesopotamia.",
          how: [
            "Use seeds whole or ground into tahini paste."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Garlic", "Lemon", "Chickpeas", "Greens"],
          vitality: ["Calcium", "Iron", "Zinc"],
          stories: "‚ÄúOpen Sesame!‚Äù in ancient tales symbolized access to hidden abundance."
        },
        
        "Pumpkin Seeds (Pepitas)": {
          origin: "Central America.",
          how: [
            "Roast shelled seeds until crisp."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Chili", "Chocolate", "Salads"],
          vitality: ["Magnesium", "Zinc", "Protein"],
          stories: "In Maya stories, the pumpkin vine was a guardian spirit, bridging soil and sun."
        },
        
        "Flax Seeds": {
          origin: "Fertile Crescent.",
          how: [
            "Grind before eating (whole seeds pass undigested)."
          ],
          how_warning: "‚ö†Ô∏è Note: Store ground flax refrigerated; oils spoil quickly.",
          pairs: ["Oats", "Yogurt", "Smoothies"],
          vitality: ["Omega-3 ALA", "Fiber", "Lignans"],
          stories: "Ancient Egyptians wove linen from flax, linking nourishment and shelter in one sacred plant."
        },
        
        "Chia Seeds": {
          origin: "Central America.",
          how: [
            "Soak in water or milk until gelled; may also sprinkle dry on foods."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Fruit", "Oats", "Smoothies"],
          vitality: ["Omega-3s", "Calcium", "Fiber"],
          stories: "Aztec messengers carried chia for stamina ‚Äî a handful for a day‚Äôs journey."
        },
        
        "Hemp Hearts / Seeds": {
          origin: "Central Asia.",
          how: [
            "Sprinkle raw on foods; do not cook at high heat."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Salads", "Grains", "Yogurt"],
          vitality: ["Complete protein", "Omega-3 + 6 balance", "Iron"],
          stories: "In many cultures, hemp symbolized harmony ‚Äî a bridge between strength and healing."
        },
        
        "Hazelnuts": {
          origin: "Europe & western Asia.",
          how: [
            "Remove shells; eat raw or roasted."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Chocolate", "Coffee", "Apples"],
          vitality: ["Vitamin E", "Manganese", "Healthy fats"],
          stories: "In Celtic myth, hazelnuts carried divine wisdom ‚Äî every nut a spark of inspiration."
        },
        
        "Macadamia Nuts": {
          origin: "Northeastern Australia.",
          how: [
            "Shell and eat raw or roasted; creamy texture."
          ],
          how_warning: "‚ö†Ô∏è Note: Toxic to dogs ‚Äî keep away from pets.",
          pairs: ["White chocolate", "Citrus", "Coconut alternatives"],
          vitality: ["Monounsaturated fats", "Manganese", "Thiamine"],
          stories: "Aboriginal stories honor the macadamia as a ‚ÄúKindal Kindal,‚Äù gift of earth and rain."
        },
        
        "Brazil Nuts": {
          origin: "Amazon rainforest.",
          how: [
            "Eat raw or roasted, shelled; limit to 1‚Äì2 per day."
          ],
          how_warning: "‚ö†Ô∏è Warning: Extremely high in selenium ‚Äî excessive intake can cause imbalance.",
          pairs: ["Cocoa", "Dates", "Coffee"],
          vitality: ["Selenium", "Magnesium", "Healthy fats"],
          stories: "The tree was called the ‚ÄúQueen of the Forest,‚Äù home to spirits of protection."
        },
        
        "Pine Nuts": {
          origin: "Mediterranean & Asian pine forests.",
          how: [
            "Eat raw or toasted; remove all shell fragments."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Basil", "Lemon", "Greens"],
          vitality: ["Iron", "Zinc", "Healthy fats"],
          stories: "In Eurasian lore, pine nuts symbolized longevity ‚Äî the evergreen‚Äôs promise of renewal."
        },
        
        "Poppy Seeds": {
          origin: "Eastern Mediterranean.",
          how: [
            "Sprinkle raw or baked into breads; do not consume in large quantities."
          ],
          how_warning: "‚ö†Ô∏è Note: May cause mild sleepiness if eaten in excess.",
          pairs: ["Lemon", "Honey", "Pastry"],
          vitality: ["Calcium", "Manganese", "Small natural oils"],
          stories: "The poppy was sacred to Demeter, goddess of rest and harvest."
        },
        
        //Tubers
        "Russet Potatoes": {
          origin: "Andes Mountains, South America.",
          how: [
            "Scrub, poke with a fork, rub with oil + salt, and bake whole at 400 ¬∞F (200 ¬∞C) for ‚âà 1 hour until soft inside."
          ],
          how_warning: "‚ö†Ô∏è Warning: Do not eat green or sprouting potatoes ‚Äî they contain solanine, which can cause nausea.",
          pairs: ["Butter alternatives", "Garlic", "Herbs"],
          vitality: ["Potassium", "Vitamin C", "Resistant starch"],
          stories: "The Quechua say potatoes were born from stars that fell to earth, anchoring light in the soil."
        },
        
        "Red Potatoes": {
          origin: "Andes and North America.",
          how: [
            "Boil or roast with skin until tender (‚âà 20 min)."
          ],
          how_warning: "‚ö†Ô∏è Tip: Discard if green or sprouted.",
          pairs: ["Dill", "Lemon", "Olive oil"],
          vitality: ["Vitamin C", "Fiber", "Potassium"],
          stories: "In Peruvian tradition, red potatoes symbolized vitality and the strength of family ties."
        },
        
        "Yukon Gold Potatoes": {
          origin: "Hybrid of North American and South American varieties.",
          how: [
            "Roast or mash after boiling 20‚Äì25 min."
          ],
          how_warning: "‚ö†Ô∏è Note: Store in a cool, dark place ‚Äî light triggers toxin formation.",
          pairs: ["Onions", "Rosemary", "Olive oil"],
          vitality: ["Vitamin B6", "Potassium", "Fiber"],
          stories: "Farmers call it ‚Äúthe sun‚Äôs potato,‚Äù golden like dawn breaking over fertile land."
        },
        
        "Fingerling Potatoes": {
          origin: "Andes.",
          how: [
            "Boil or roast whole ‚âà 25 min until tender."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Parsley", "Lemon", "Mustard"],
          vitality: ["Potassium", "Vitamin C"],
          stories: "Their shape symbolized continuity ‚Äî food passed hand-to-hand through generations."
        },
        
        "Purple Potatoes": {
          origin: "Peru & Bolivia.",
          how: [
            "Bake or steam ‚âà 30 min; skin edible."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Citrus", "Herbs", "Salt"],
          vitality: ["Anthocyanins (antioxidants)", "Fiber", "Potassium"],
          stories: "In Andean belief, purple potatoes were ‚Äúmidnight suns,‚Äù protecting harvests from evil spirits."
        },
        
        "Sweet Potatoes": {
          origin: "Central & South America.",
          how: [
            "Pierce and bake whole at 400 ¬∞F (200 ¬∞C) ‚âà 45 min‚Äì1 hr until tender."
          ],
          how_warning: "‚ö†Ô∏è Note: Peel optional but safest for infants; store un-refrigerated.",
          pairs: ["Cinnamon", "Nuts", "Citrus"],
          vitality: ["Beta-carotene", "Vitamin C", "Potassium"],
          stories: "In many Caribbean islands, sweet potatoes were planted for protection and prosperity."
        },
        
        "Yams (true yams, Dioscorea)": {
          origin: "West Africa & Asia.",
          how: [
            "Peel thick skin; boil ‚âà 25 min or bake whole ‚âà 1 hr."
          ],
          how_warning: "‚ö†Ô∏è Warning: Some wild yams are toxic raw; always cook thoroughly.",
          pairs: ["Coconut milk", "Spices", "Beans"],
          vitality: ["Fiber", "Vitamin C", "Manganese"],
          stories: "In Yoruba culture, the first yam harvest is celebrated to honor the Earth‚Äôs generosity."
        },
        
        "Plantains": {
          origin: "Southeast Asia ‚Üí Africa ‚Üí Caribbean.",
          how: [
            "Peel; slice; fry, bake, or boil ‚âà 15‚Äì25 min."
          ],
          how_warning: "‚ö†Ô∏è Note: Not eaten raw ‚Äî too starchy.",
          pairs: ["Beans", "Lime", "Chili"],
          vitality: ["Potassium", "Fiber", "Vitamin A"],
          stories: "In Afro-Caribbean folklore, plantains symbolized adaptability ‚Äî the power to thrive anywhere."
        },
        
        "Cassava (Yuca / Tapioca / Fufu)": {
          origin: "South America.",
          how: [
            "Peel thick skin; cut; boil ‚âà 30 min until soft."
          ],
          how_warning: "‚ö†Ô∏è Strong Warning: Raw cassava contains cyanogenic compounds; must be thoroughly boiled, soaked, or fermented before eating.",
          pairs: ["Coconut", "Chili", "Stews"],
          vitality: ["Carbohydrates", "Calcium", "Vitamin C"],
          stories: "In Amazonian legend, cassava was born from the body of a generous girl who fed her people after death."
        },
        
        "Taro": {
          origin: "Southeast Asia & Polynesia.",
          how: [
            "Peel; boil or steam ‚âà 30 min until fully soft."
          ],
          how_warning: "‚ö†Ô∏è Warning: Raw taro contains calcium oxalate crystals that irritate the throat ‚Äî never eat raw.",
          pairs: ["Coconut milk", "Greens", "Ginger"],
          vitality: ["Fiber", "Potassium", "Manganese"],
          stories: "In Hawaiian tradition, taro (kalo) is the elder brother of humankind ‚Äî a plant of deep reverence."
        },
        
        "Rutabaga": {
          origin: "Scandinavia & Russia.",
          how: [
            "Peel thick skin; boil ‚âà 35 min or roast ‚âà 45 min."
          ],
          how_warning: "‚ö†Ô∏è Tip: Hard to cut raw; pre-microwave or parboil to soften before slicing.",
          pairs: ["Carrots", "Thyme", "Butter alternatives"],
          vitality: ["Vitamin C", "Fiber", "Potassium"],
          stories: "In Nordic tales, rutabaga fed both gods and farmers during endless winter nights."
        },
        
        "Turnips": {
          origin: "Europe & Western Asia.",
          how: [
            "Peel if large; boil ‚âà 25 min or roast ‚âà 40 min."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Parsley", "Garlic", "Lemon"],
          vitality: ["Vitamin C", "Folate", "Fiber"],
          stories: "In Celtic Samhain, carved turnips held lantern flames before pumpkins crossed the sea."
        },
        
        "Parsnips": {
          origin: "Eurasia.",
          how: [
            "Peel; roast or boil ‚âà 30 min until tender."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Honey", "Thyme", "Carrots"],
          vitality: ["Vitamin C", "Fiber", "Potassium"],
          stories: "Europeans believed parsnips sweetened the earth ‚Äî food for travelers and healers."
        },
        
        "White / Golden Sweet Potatoes (Boniato)": {
          origin: "Caribbean & Central America.",
          how: [
            "Bake whole ‚âà 1 hr at 400 ¬∞F (200 ¬∞C)."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Lime", "Herbs", "Chili"],
          vitality: ["Vitamin A", "Potassium", "Complex carbs"],
          stories: "Boniato symbolized migration ‚Äî carried by islanders across seas as a promise of return."
        },
        
        "Purple Sweet Potatoes / Ube": {
          origin: "Southeast Asia & Philippines.",
          how: [
            "Boil or bake ‚âà 45 min until soft; skin edible."
          ],
          how_warning: "", // leave blank for no warning
          pairs: ["Coconut", "Vanilla", "Rice"],
          vitality: ["Anthocyanins", "Fiber", "Vitamin C"],
          stories: "In Filipino folklore, ube was the heart of a mountain spirit ‚Äî its color born from longing and love."
        },
        
        "Arrowroot": {
          origin: "Caribbean & South America.",
          how: [
            "Peel roots; boil ‚âà 20 min or grind into starch for thickening."
          ],
          how_warning: "‚ö†Ô∏è Note: Safe when cooked; raw roots may irritate digestion.",
          pairs: ["Fruit sauces", "Soups", "Puddings"],
          vitality: ["Easily digestible starch for sensitive stomachs."],
          stories: "Indigenous Caribs used arrowroot to draw out poison ‚Äî both food and medicine from the same root."
        },
        
        //Oils and fats
        "Olive Oil": {
          origin: "Mediterranean basin.",
          how: [
            "Use extra-virgin for dressings or low‚Äìmedium heat cooking.",
            "Store sealed and away from light."
          ],
          how_warning: "",
          pairs: ["Garlic", "Tomatoes", "Grains"],
          vitality: ["Monounsaturated fats", "Polyphenols", "Vitamin E"],
          stories: "Ancient Greeks said Athena gifted the olive tree to humankind as a symbol of wisdom and peace."
        },
        
        "Soy Oil": {
          origin: "East Asia.",
          how: [
            "Neutral flavor; suitable for saut√©ing or baking.",
            "Avoid high-heat frying."
          ],
          how_warning: "",
          pairs: ["Vegetables", "Tofu", "Stir-fries"],
          vitality: ["Omega-6 fatty acids", "Vitamin K"],
          stories: "In Chinese lore, soybeans were one of the ‚ÄúFive Sacred Grains,‚Äù symbols of prosperity and balance."
        },
        
        "Canola Oil": {
          origin: "Canada (from rapeseed breeding).",
          how: [
            "Use for frying or baking; mild flavor.",
            "High smoke point."
          ],
          how_warning: "",
          pairs: ["Any savory dish"],
          vitality: ["Monounsaturated fats", "Omega-3 ALA"],
          stories: "Farmers saw canola as ‚Äúgold of the prairies,‚Äù born from resilience and cold sunlight."
        },
        
        "Coconut Oil": {
          origin: "South and Southeast Asia.",
          how: [
            "Solid below 76 ¬∞F; melts easily.",
            "Great for baking and low‚Äìmedium saut√©ing."
          ],
          how_warning: "‚ö†Ô∏è Allergy note: Omit or substitute in app for coconut allergy.",
          pairs: ["Rice", "Lentils", "Curries"],
          vitality: ["Saturated medium-chain triglycerides"],
          stories: "In Pacific islands, the coconut tree is called the ‚ÄúTree of Life,‚Äù giving food, fiber, and water."
        },
        
        "Peanut Oil": {
          origin: "South America; popularized in Asia.",
          how: [
            "Excellent for stir-frying; high smoke point."
          ],
          how_warning: "‚ö†Ô∏è Avoid if allergic; even refined forms can trigger reactions.",
          pairs: ["Noodles", "Tofu", "Chili", "Greens"],
          vitality: ["Monounsaturated fats", "Vitamin E"],
          stories: "In African-American Southern cooking, peanut oil symbolized ingenuity and resourcefulness."
        },
        
        "Avocado Oil": {
          origin: "Central America.",
          how: [
            "Rich flavor; withstands high heat (up to ~500 ¬∞F)."
          ],
          how_warning: "",
          pairs: ["Vegetables", "Potatoes", "Citrus"],
          vitality: ["Monounsaturated fats", "Lutein", "Vitamin E"],
          stories: "The Aztecs called avocados ‚Äúahuacatl,‚Äù the fruit of fertility and renewal."
        },
        
        "Sesame Oil": {
          origin: "India & Mesopotamia.",
          how: [
            "Use toasted sesame oil as a finishing flavor, not for frying."
          ],
          how_warning: "",
          pairs: ["Ginger", "Soy", "Garlic", "Noodles"],
          vitality: ["Sesamol antioxidants", "Vitamin E"],
          stories: "In Sanskrit hymns, sesame seeds and oil symbolized immortality and remembrance."
        },
        
        "Flaxseed Oil": {
          origin: "Fertile Crescent.",
          how: [
            "Use raw in dressings or smoothies ‚Äî never heat.",
            "Keep refrigerated."
          ],
          how_warning: "Do not cook; oxidizes easily.",
          pairs: ["Oats", "Salads", "Yogurt"],
          vitality: ["Omega-3 ALA", "Lignans", "Vitamin E"],
          stories: "In ancient Egypt, flax was both food and linen ‚Äî nourishment and shelter from one humble seed."
        },
        
        "Walnut Oil": {
          origin: "Persia and Central Asia.",
          how: [
            "Drizzle on salads or desserts; not for cooking."
          ],
          how_warning: "",
          pairs: ["Apples", "Grains", "Figs"],
          vitality: ["Omega-3s", "Manganese", "Antioxidants"],
          stories: "In Greek myth, Dionysus transformed a grieving girl into the first walnut tree, so her gifts would feed others."
        },
        
        "Sunflower Oil": {
          origin: "North America.",
          how: [
            "Mild taste, medium‚Äìhigh smoke point; use for roasting or baking."
          ],
          how_warning: "",
          pairs: ["Vegetables", "Corn", "Beans"],
          vitality: ["Vitamin E", "Linoleic acid"],
          stories: "Plains tribes revered the sunflower as a symbol of devotion ‚Äî turning always toward light."
        },
        
        "Safflower Oil": {
          origin: "Middle East.",
          how: [
            "Light flavor, high-heat tolerant; ideal for roasting or baking."
          ],
          how_warning: "",
          pairs: ["Grains", "Legumes", "Greens"],
          vitality: ["Linoleic acid", "Omega-6s"],
          stories: "Egyptians used safflower petals as dyes and offerings ‚Äî color and nourishment entwined."
        },
        
        "Grapeseed Oil": {
          origin: "Mediterranean.",
          how: [
            "Neutral oil; high smoke point; great for saut√©ing."
          ],
          how_warning: "",
          pairs: ["Citrus", "Herbs", "Tofu"],
          vitality: ["Polyunsaturated fats", "Vitamin E"],
          stories: "Romans saw the vine as sacred ‚Äî even its seeds held hidden power."
        },
        
        "Palm Oil": {
          origin: "West Africa.",
          how: [
            "Use red, unrefined palm oil for stews or traditional dishes.",
            "Avoid overheating."
          ],
          how_warning: "Choose sustainably sourced brands to protect rainforests.",
          pairs: ["Yams", "Beans", "Spices"],
          vitality: ["Beta-carotene", "Vitamin E", "Healthy fats"],
          stories: "In Yoruba and Igbo traditions, palm oil was a symbol of wealth and divine favor."
        },
        
        "Butter / Plant Butter": {
          origin: "Multiple ‚Äî first made in ancient Mesopotamia.",
          how: [
            "Melt over grains or bake; burns easily, so use medium heat."
          ],
          how_warning: "",
          pairs: ["Bread", "Herbs", "Vegetables"],
          vitality: ["Fat-soluble vitamins A, D, E, K (fortified in plant-based versions)"],
          stories: "Norse myths describe butter as the food of dawn ‚Äî golden and awakening."
        },
        
        "Lard / Tallow (Traditional Use)": {
          origin: "Global, used by ancient agrarian cultures.",
          how: [
            "Use sparingly for frying or pastry; replace with plant oils when possible."
          ],
          how_warning: "High in saturated fat ‚Äî reserve for traditional recipes or cultural continuity.",
          pairs: ["Tortillas", "Pastries", "Roots"],
          vitality: ["Saturated fat", "Vitamin D (trace)"],
          stories: "For many Indigenous communities, rendered fat was survival itself ‚Äî light, warmth, and sustenance."
        },
        
        "Ghee / Plant Ghee": {
          origin: "South Asia.",
          how: [
            "Clarified butter; ideal for saut√©ing with high smoke point."
          ],
          how_warning: "",
          pairs: ["Lentils", "Rice", "Spices"],
          vitality: ["Butyrate", "Vitamin A", "Stable fats"],
          stories: "In Hindu tradition, ghee is sacred ‚Äî the essence of fire offerings, symbol of transformation."
        },
        


        //Enhancers
        //Flavor vegetables
        "Garlic": {
          origin: "Central Asia (likely modern Uzbekistan/Iran); revered in Egypt, India, China.",
          how: [
            "Remove papery skin; use raw, roasted, or saut√©ed.",
            "Start garlic in cold oil to mellow sharpness or roast whole heads for sweet, spreadable paste."
          ],
          how_warning: "",
          pairs: ["Tomatoes", "Lemon", "Herbs", "Beans", "Greens", "Mushrooms", "Almost every savory dish"],
          vitality: ["Allicin (antimicrobial)", "Manganese", "Vitamin B6", "Vitamin C"],
          stories: "Garlic was hung over doors to guard against envy and sickness‚Äîa fragrant shield of the hearth goddess."
        },
        
        "Yellow Onions": {
          origin: "Likely Central Asia; traded across Mesopotamia and Egypt.",
          how: [
            "Peel outer skin and slice.",
            "Best caramelized or roasted for sweetness."
          ],
          how_warning: "",
          pairs: ["Beef or Lentils", "Mushrooms", "Soups", "Stews", "Gravies"],
          vitality: ["Sulfur compounds (detox support)", "Vitamin C"],
          stories: "Egyptians buried onions with the dead; their rings symbolized eternity and the soul‚Äôs layers."
        },
        
        "Red Onions": {
          origin: "Developed later in the Mediterranean basin.",
          how: [
            "Use raw in salads/sandwiches or lightly grill for sweetness."
          ],
          how_warning: "",
          pairs: ["Citrus", "Cucumbers", "Tomatoes", "Basil", "Balsamic Vinegar"],
          vitality: ["Anthocyanins", "Sulfur compounds for heart health"],
          stories: "At rural Greek festivals, red onions are offered to bring laughter and warm the family spirit."
        },
        
        "White Onions": {
          origin: "Western Asia and northern India.",
          how: [
            "Peel, slice, and use raw or cooked.",
            "Great for salsa, tacos, and stir-fries."
          ],
          how_warning: "",
          pairs: ["Cilantro", "Lime", "Grilled Vegetables", "Rice", "Beans"],
          vitality: ["Vitamin C", "Fiber", "Trace minerals"],
          stories: "Vedic texts describe onions as both medicine and temptation‚Äîgrounding food to use mindfully."
        },
        
        "Pearl Onions": {
          origin: "European miniature cultivated variety.",
          how: [
            "Blanch 1‚Äì2 minutes to remove skins; often used whole in roasts and soups."
          ],
          how_warning: "",
          pairs: ["Carrots", "Peas", "Potatoes", "Gravies", "Cream Sauces"],
          vitality: ["Antioxidants", "Sulfur compounds"],
          stories: "In France, a single pearl onion in stew signaled hospitality‚Äî‚Äúfor friendship.‚Äù"
        },
        
        "Shallots": {
          origin: "Ancient Palestine and India; name from Ashkelon.",
          how: [
            "Peel, mince, and saut√©; sweeter and more delicate than onions."
          ],
          how_warning: "",
          pairs: ["Vinaigrettes", "Eggs", "Fish", "Roasted Vegetables"],
          vitality: ["Flavonoids", "Prebiotics"],
          stories: "Persian poets called the shallot‚Äôs layers ‚Äúveils of truth,‚Äù revealed by patient hands."
        },
        
        "Green Onions / Scallions": {
          origin: "Cultivated across Asia for over 2000 years.",
          how: [
            "Trim roots/wilted ends; use white and green parts raw or cooked."
          ],
          how_warning: "",
          pairs: ["Soy Sauce", "Sesame", "Tofu", "Noodles", "Soups"],
          vitality: ["Vitamin K", "Vitamin A", "Fiber"],
          stories: "In Japan, green onions symbolize warmth and care‚Äîoffered in soup to loved ones recovering."
        },
        
        "Chives": {
          origin: "Native to Europe, Asia, and North America.",
          how: [
            "Snip fresh; avoid long cooking or flavor fades."
          ],
          how_warning: "",
          pairs: ["Potatoes", "Eggs", "Sour Cream", "Butter"],
          vitality: ["Vitamins A, C, K (small amounts)", "Gentle sulfur compounds"],
          stories: "Celtic lore held that chives planted near the doorway protected homes from evil spirits."
        },
        
        "Jalape√±os / Chipotle Peppers": {
          origin: "Veracruz, Mexico; ‚Äúchipotle‚Äù = smoked, dried jalape√±os (Nahuatl).",
          how: [
            "Wear gloves when cutting fresh.",
            "Eat raw, roasted, or pickled; chipotles add smoky depth to sauces."
          ],
          how_warning: "Wash hands after handling; avoid eyes/skin; capsaicin is irritating.",
          pairs: ["Beans", "Tomatoes", "Chocolate", "Corn", "Lime", "Cumin"],
          vitality: ["Capsaicin", "Vitamin C", "Antioxidants"],
          stories: "Aztec cooks smoked jalape√±os to preserve their spirit‚Äîfire turning freshness into endurance."
        },
        
        "Serrano / Seco Chiles": {
          origin: "Sierra of Puebla and Hidalgo, Mexico.",
          how: [
            "Hotter than jalape√±os; use fresh in salsas or dried (seco) for stews/adobos."
          ],
          how_warning: "Handle with care; wash hands thoroughly.",
          pairs: ["Tomatillos", "Garlic", "Onions", "Avocado"],
          vitality: ["Capsaicin", "Vitamin C", "Beta-carotene"],
          stories: "Serrano fields were sacred; farmers offered maize and song before harvest to invite rain."
        },
        
        "Habaneros": {
          origin: "Amazon basin ‚Üí Caribbean & Yucat√°n.",
          how: [
            "Extremely spicy; mince tiny amounts into sauces."
          ],
          how_warning: "Gloves recommended; wash hands; keep away from eyes.",
          pairs: ["Mango", "Pineapple", "Vinegar", "Garlic", "Citrus"],
          vitality: ["High Vitamin C", "Capsaicin", "Carotenoids"],
          stories: "Maya lore says the habanero‚Äôs fire came from the Sun‚Äôs tears‚Äîgranting courage and humility."
        },
        
        "Poblano / Ancho Chiles": {
          origin: "Puebla, Mexico (dried = ancho).",
          how: [
            "Mild heat; excellent stuffed/roasted/pur√©ed.",
            "Roast, then remove skin and seeds."
          ],
          how_warning: "",
          pairs: ["Corn", "Beans", "Cheese", "Tomato", "Cumin"],
          vitality: ["Vitamins A & C", "Potassium", "Fiber"],
          stories: "Puebla legend: ancho‚Äôs smoky sweetness was discovered when monks left chiles near the monastery fire."
        },
        
        "Mirasol / Guajillo Chiles": {
          origin: "Central Mexico; mirasol = ‚Äúlooking at the sun‚Äù; dried = guajillo.",
          how: [
            "Rehydrate dried pods in hot water; blend for sauces."
          ],
          how_warning: "",
          pairs: ["Tomatoes", "Garlic", "Sesame Seeds", "Chocolate (mole)"],
          vitality: ["Capsaicin", "Vitamin C", "Polyphenols"],
          stories: "Said to ‚Äúlook back at the sun‚Äù to capture its heat‚Äîmarriage of sky and earth."
        },
        
        "Chile de √Årbol": {
          origin: "Jalisco and Nayarit, Mexico.",
          how: [
            "Very spicy; use whole dried pods in oils or stir-fries."
          ],
          how_warning: "Use sparingly; ventilate when toasting.",
          pairs: ["Vinegar", "Peanuts", "Sesame", "Garlic"],
          vitality: ["Capsaicin", "Vitamin C"],
          stories: "Bundles tied to rafters as fiery house charms‚Äîluck and protection."
        },
        
        "Cayenne Chiles": {
          origin: "South America; named after Cayenne, French Guiana.",
          how: [
            "Typically dried and ground; use sparingly for heat."
          ],
          how_warning: "Potent; a little goes a long way.",
          pairs: ["Chocolate", "Lemon", "Beans", "Soups"],
          vitality: ["Vitamins A, C, E", "Capsaicin"],
          stories: "Used in ceremonial fires by Indigenous Amazonians to honor endurance."
        },
        
        "Anaheim / Colorado Chiles": {
          origin: "Native to New Mexico; brought to California ~1900s (Anaheim). Dried = chile Colorado.",
          how: [
            "Mild; great for roasting or stuffing.",
            "Roast and peel skin for best texture."
          ],
          how_warning: "",
          pairs: ["Corn", "Tomatoes", "Onions", "Cumin", "Beans"],
          vitality: ["Vitamin C", "Beta-carotene", "Potassium"],
          stories: "In Pueblo and Navajo traditions, red chiles symbolize life force‚Äîristras bless the home with abundance."
        },
        
        //Fresh herbs
        "Curly Parsley": {
          origin: "Mediterranean basin",
          how: [
            "Chop fresh and scatter over soups, grains, or potatoes for color and brightness.",
            "Eat the leaves; discard tough stems."
          ],
          how_warning: "",
          pairs: ["Lemon", "Olive oil", "Potatoes", "Garlic", "Lentils", "Fish"],
          vitality: ["Vitamin K", "Vitamin C", "Folate", "Plant iron"],
          stories: "In ancient Greece, parsley crowned victors of funeral games‚Äîrenewal from death to life."
        },
        
        "Flat-leaf / Italian Parsley": {
          origin: "Southern Europe",
          how: [
            "Use raw or lightly wilted in sauces like chimichurri or tabbouleh."
          ],
          how_warning: "",
          pairs: ["Tomato", "Chickpeas", "Quinoa", "Capers", "Olive oil", "Red pepper"],
          vitality: ["Vitamins A & K", "Apigenin", "Luteolin"],
          stories: "Romans planted parsley at graves to honor rebirth and cleansing of the soul."
        },
        
        "Cilantro / Coriander Leaf": {
          origin: "Western Asia & Eastern Mediterranean",
          how: [
            "Use fresh leaves near the end of cooking; stems are edible but stronger."
          ],
          how_warning: "",
          pairs: ["Lime", "Avocado", "Black beans", "Rice", "Chiles"],
          vitality: ["Vitamin A", "Vitamin K", "Trace minerals"],
          stories: "In Persian lore, coriander symbolized eternal love and was woven into wedding garlands."
        },
        
        "Peppermint": {
          origin: "Hybrid of watermint and spearmint; first cultivated in England",
          how: [
            "Use fresh leaves for tea or desserts; strong flavor means a few sprigs go far."
          ],
          how_warning: "",
          pairs: ["Chocolate", "Cucumber", "Peas", "Citrus"],
          vitality: ["Menthol (cooling)", "Trace manganese", "Vitamin A"],
          stories: "Greek myth says nymph Minthe was transformed by Persephone‚Äîimmortality through scent."
        },
        
        "Spearmint": {
          origin: "Mediterranean and Western Asia",
          how: [
            "Milder than peppermint; use liberally in salads or savory sauces."
          ],
          how_warning: "",
          pairs: ["Yogurt", "Lamb or Chickpeas", "Watermelon", "Green tea"],
          vitality: ["Rosmarinic acid", "Gentle digestive oils"],
          stories: "In Middle Eastern hospitality, mint tea symbolizes peace and welcome."
        },
        
        "Lemon Balm": {
          origin: "Eastern Mediterranean",
          how: [
            "Chop into salads or steep for calming tea.",
            "Avoid woody stems."
          ],
          how_warning: "",
          pairs: ["Berries", "Cucumbers", "Fish", "Honey"],
          vitality: ["Vitamin C", "Calming terpenes (e.g., citral)"],
          stories: "Dedicated to Artemis, protector of women and wild things."
        },
        
        "Sweet Basil": {
          origin: "India and tropical Asia",
          how: [
            "Add fresh near the end of cooking; heat dulls flavor."
          ],
          how_warning: "",
          pairs: ["Tomatoes", "Pine nuts", "Olive oil", "Garlic", "Mozzarella"],
          vitality: ["Vitamin K", "Eugenol (anti-inflammatory)"],
          stories: "In Hindu temples, basil (tulasi) is sacred to Vishnu and used for purification."
        },
        
        "Thai Basil": {
          origin: "Southeast Asia",
          how: [
            "With its anise note, use in stir-fries, curries, and noodle dishes."
          ],
          how_warning: "",
          pairs: ["Coconut milk", "Lime", "Tofu", "Chili", "Rice noodles"],
          vitality: ["Vitamin K", "Essential oils (e.g., linalool)"],
          stories: "Thai folklore links basil to household harmony‚Äîits scent repels chaos spirits."
        },
        
        "Holy Basil / Tulsi": {
          origin: "India",
          how: [
            "Traditionally steeped as tea; also saut√©ed lightly in curries."
          ],
          how_warning: "",
          pairs: ["Ginger", "Lemon", "Lentils", "Black tea"],
          vitality: ["Eugenol", "Ursolic acid", "Antioxidants supporting calm and clarity"],
          stories: "Revered in Hinduism; the goddess Tulsi embodies devotion and protection."
        },
        
        "Sage (Herb)": {
          origin: "Mediterranean hillsides",
          how: [
            "Use fresh or crisped in oil; potent flavor‚Äîuse sparingly."
          ],
          how_warning: "",
          pairs: ["Brown butter", "Beans", "Squash", "Grains"],
          vitality: ["Vitamin K", "Volatile oils with antiseptic qualities"],
          stories: "European healers burned sage for cleansing; Indigenous nations use local sages for purification."
        },
        
        "Oregano": {
          origin: "Greece and Turkey",
          how: [
            "Sprinkle fresh leaves in sauces, breads, or soups."
          ],
          how_warning: "",
          pairs: ["Tomatoes", "Olives", "Lentils", "Feta"],
          vitality: ["Carvacrol", "Thymol (natural antimicrobials)"],
          stories: "Aphrodite planted oregano to bring joy to the world."
        },
        
        "Thyme": {
          origin: "Mediterranean",
          how: [
            "Use whole sprigs in soups or roasted veggies; remove woody stems after cooking."
          ],
          how_warning: "",
          pairs: ["Lemon", "Mushrooms", "Lentils", "Potatoes"],
          vitality: ["Vitamin C", "Thymol", "Iron"],
          stories: "Romans burned thyme for courage before battle."
        },
        
        "Dill": {
          origin: "Middle East and Eastern Europe",
          how: [
            "Use feathery fronds raw or lightly cooked; seeds for pickling."
          ],
          how_warning: "",
          pairs: ["Cucumber", "Yogurt", "Salmon", "Potatoes"],
          vitality: ["Vitamins A, C, K", "Digestive oils"],
          stories: "Mentioned in Egyptian tombs and the Talmud as a symbol of abundance."
        },
        
        "Epazote": {
          origin: "Mesoamerica",
          how: [
            "Cook into beans or stews‚Äînever raw (flavor is resinous)."
          ],
          how_warning: "Use in small amounts; contains ascaridole‚Äîavoid large quantities in pregnancy.",
          pairs: ["Black beans", "Corn", "Squash"],
          vitality: ["Ascaridole (aromatic)", "Digestive support (traditional use)"],
          stories: "Used in Nahua and Maya ceremonies for cleansing and to repel evil spirits."
        },
        
        "Lemongrass": {
          origin: "Southeast Asia",
          how: [
            "Trim woody ends; bruise stalks and simmer in soups or teas."
          ],
          how_warning: "Remove tough stalks before serving; sharp fibers can be unpleasant.",
          pairs: ["Coconut milk", "Ginger", "Tofu", "Lime"],
          vitality: ["Citral", "Limonene (natural antimicrobials)"],
          stories: "In Thai and Lao homes, lemongrass symbolizes clarity and renewal of life force."
        },
        
        "Chervil": {
          origin: "Caucasus to southern Russia",
          how: [
            "Use fresh; heat destroys flavor. Classic in French spring salads."
          ],
          how_warning: "",
          pairs: ["Eggs", "Potatoes", "Tarragon", "Butter sauces"],
          vitality: ["Vitamin C", "Manganese", "Chlorophyll"],
          stories: "Associated with resurrection in early Christian Europe; eaten at Easter as a sign of new life."
        },
        
        //Dried spices
        "Rosemary": {
          origin: "Mediterranean coastlines",
          how: [
            "Use dried leaves sparingly‚Äîstrong and aromatic.",
            "Remove woody stems before serving."
          ],
          how_warning: "",
          pairs: ["Potatoes", "Lemon", "Beans", "Bread", "Olive oil"],
          vitality: ["Carnosic acid", "Rosmarinic acid (antioxidants)"],
          stories: "Ancient Greeks burned rosemary in temples for memory; legend says it bloomed blue when Mary laid her cloak upon it."
        },
        
        "Bay Leaf": {
          origin: "Asia Minor (modern Turkey)",
          how: [
            "Simmer whole in soups or sauces, then remove before eating‚Äîleaf edges are sharp and inedible."
          ],
          how_warning: "Always remove before serving.",
          pairs: ["Lentils", "Tomatoes", "Mushrooms", "Grains"],
          vitality: ["Cineole (mild antimicrobial)"],
          stories: "Laurel crowns in Greece symbolized Apollo‚Äôs wisdom and the victory of insight."
        },
        
        "Marjoram": {
          origin: "Mediterranean basin",
          how: [
            "Sprinkle dried leaves over roasted vegetables or grains."
          ],
          how_warning: "",
          pairs: ["Lemon", "Beans", "Chickpeas", "Bread"],
          vitality: ["Carvacrol", "Flavonoids (calm digestion)"],
          stories: "In Greek myth, Aphrodite grew marjoram as the plant of happiness and healing."
        },
        
        "Paprika": {
          origin: "Central America; perfected in Hungary and Spain",
          how: [
            "Use mild or smoked paprika for flavor and color.",
            "Do not burn‚Äîit turns bitter."
          ],
          how_warning: "",
          pairs: ["Potatoes", "Tofu", "Beans", "Soups"],
          vitality: ["Capsanthin", "Carotenoids (eye health)"],
          stories: "In Hungarian folklore, paprika symbolized strength and was sprinkled on wedding breads for vitality."
        },
        
        "Fennel Seeds": {
          origin: "Southern Europe and North Africa",
          how: [
            "Toast lightly to awaken aroma; chew after meals for digestion."
          ],
          how_warning: "",
          pairs: ["Cabbage", "Carrots", "Citrus", "Lentils"],
          vitality: ["Anethole", "Fiber (gut balance)"],
          stories: "Prometheus carried the fire of knowledge hidden in a fennel stalk."
        },
        
        "Tarragon": {
          origin: "Central Asia and Siberia",
          how: [
            "Use dried leaves in sauces or salad dressings; sharp, anise-like flavor."
          ],
          how_warning: "",
          pairs: ["Mustard", "Mushrooms", "Vinegar", "Rice"],
          vitality: ["Manganese", "Potassium", "Polyphenols"],
          stories: "Medieval herbalists called it ‚Äòdragon wort,‚Äô credited with calming serpent bites and fiery tempers."
        },
        
        "Allspice": {
          origin: "Caribbean (Jamaica and Central America)",
          how: [
            "Use whole berries in stews or ground in desserts; warm, sweet aroma."
          ],
          how_warning: "",
          pairs: ["Pumpkin", "Beans", "Plantains", "Cocoa"],
          vitality: ["Eugenol", "Quercetin (inflammation support)"],
          stories: "Ta√≠no peoples used pimenta smoke in ritual meat preservation and as sacred incense."
        },
        
        "Pepper (Black / White)": {
          origin: "Malabar Coast, India",
          how: [
            "Grind freshly for sharp flavor.",
            "Use sparingly in sweets or savory dishes."
          ],
          how_warning: "",
          pairs: ["Olive oil", "Citrus", "Tofu", "Lentils"],
          vitality: ["Piperine (enhances nutrient absorption)"],
          stories: "Ancient traders called pepper ‚Äòblack gold,‚Äô once worth its weight in silver."
        },
        
        "Cumin": {
          origin: "Middle East and North Africa",
          how: [
            "Toast seeds before grinding for depth; use in beans, rice, or stews."
          ],
          how_warning: "",
          pairs: ["Tomato", "Lentils", "Corn", "Chiles"],
          vitality: ["Iron", "Cuminaldehyde (digestion)"],
          stories: "In Egypt, cumin was placed in tombs to ensure flavor in the afterlife."
        },
        
        "Coriander Seed": {
          origin: "Mediterranean and Southwest Asia",
          how: [
            "Toast before grinding; adds citrusy warmth."
          ],
          how_warning: "",
          pairs: ["Carrots", "Beans", "Curry dishes", "Breads"],
          vitality: ["Linalool", "Antioxidants"],
          stories: "Found in Tutankhamun‚Äôs tomb‚Äîan herb for eternal freshness."
        },
        
        "Turmeric": {
          origin: "South Asia (India and Indonesia)",
          how: [
            "Add to warm dishes or golden milk; stains easily."
          ],
          how_warning: "Can stain surfaces and fabrics; handle carefully.",
          pairs: ["Rice", "Lentils", "Black pepper", "Coconut milk (or allergy-safe substitutes)"],
          vitality: ["Curcumin (bright yellow antioxidant)"],
          stories: "Used in Hindu rituals for purification and in wedding blessings for prosperity."
        },
        
        "Ginger (Dried/Ground)": {
          origin: "Southeast Asia",
          how: [
            "Use dried or ground; rehydrate with hot water for tea."
          ],
          how_warning: "",
          pairs: ["Carrots", "Citrus", "Tofu", "Rice"],
          vitality: ["Gingerol", "Shogaol (warmth & circulation)"],
          stories: "In Chinese medicine, ginger balances yin and yang within the body."
        },
        
        "Cinnamon": {
          origin: "Sri Lanka and southern India",
          how: [
            "Add sticks to simmering liquids or ground powder to baked goods."
          ],
          how_warning: "",
          pairs: ["Apples", "Oats", "Nuts", "Chocolate"],
          vitality: ["Cinnamaldehyde (antioxidant & antimicrobial)"],
          stories: "Ancient Egyptians offered cinnamon to their gods and used it in sacred embalming oils."
        },
        
        "Nutmeg": {
          origin: "Banda Islands, Indonesia",
          how: [
            "Grate sparingly; intense flavor."
          ],
          how_warning: "Do not exceed ~1 tsp at once‚Äîexcess can be toxic due to myristicin.",
          pairs: ["Spinach", "Potatoes", "Squash", "Desserts"],
          vitality: ["Manganese", "Trace antioxidants"],
          stories: "Once traded for gold; medieval lore said nutmeg guarded travelers from plague and nightmares."
        },
        
        "Cloves": {
          origin: "Moluccas (Indonesia)",
          how: [
            "Use whole cloves in stews or ground in spice blends; remove whole cloves before eating."
          ],
          how_warning: "Remove whole cloves before serving.",
          pairs: ["Lentils", "Oranges", "Apples", "Allspice"],
          vitality: ["Eugenol (numbing, antiseptic)"],
          stories: "Early islanders planted a clove tree for every newborn to ensure long life."
        },
        
        "Cardamom": {
          origin: "India and Sri Lanka",
          how: [
            "Crack pods to release seeds; use in teas, rice, or desserts."
          ],
          how_warning: "",
          pairs: ["Coffee", "Milk", "Citrus", "Lentils"],
          vitality: ["Cineole", "Limonene (digestion & clarity)"],
          stories: "In Sanskrit poetry, cardamom symbolized hospitality and the breath of divine sweetness."
        },
        
        //Health boosters
        "Honey": {
          origin: "Ancient Egypt & Mediterranean domestication; global wild gathering",
          how: [
            "Use raw or pasteurized honey to sweeten tea, drizzle on fruit, or mix into marinades."
          ],
          how_warning: "Do not give raw honey to infants under 1 year old.",
          pairs: ["Citrus", "Yogurt", "Nuts", "Warm cereals", "Herbal teas"],
          vitality: ["Natural sugars", "Trace minerals", "Antioxidants", "Mild antimicrobial compounds"],
          stories: "Many Indigenous and ancient traditions viewed honey as a divine food‚Äî'tears of the sun.' The Maya god Ah-Muzen-Cab was patron of bees and honey."
        },
        
        "Maple Syrup": {
          origin: "First Nations of Northeastern North America",
          how: [
            "Use pure maple syrup (not flavored corn syrup) to sweeten oatmeal, glazes, or roasted vegetables."
          ],
          how_warning: "",
          pairs: ["Sweet potatoes", "Pecans", "Oatmeal", "Soy yogurt"],
          vitality: ["Manganese", "Zinc", "Antioxidants", "Lower glycemic index than white sugar"],
          stories: "Haudenosaunee legend: a hunter discovered maple sap when an axe cut released 'sweet water' from a tree."
        },
        
        "Agave Nectar": {
          origin: "Central Mexico (Aztec and earlier cultures)",
          how: [
            "Use raw or lightly processed agave syrup in moderation for coffee, yogurt, smoothies, or vegan baking."
          ],
          how_warning: "High fructose; excess can stress the liver‚Äîuse sparingly.",
          pairs: ["Coffee", "Yogurt", "Smoothies", "Vegan baking"],
          vitality: ["Natural sweetener", "Trace minerals (iron, calcium, potassium)"],
          stories: "Goddess Mayahuel emerged from the agave, blessing humanity with sweetness."
        },
        
        "Molasses (Blackstrap)": {
          origin: "Caribbean sugarcane refining; embraced across the African diaspora",
          how: [
            "Use in baking, marinades, or stir into warm drinks."
          ],
          how_warning: "",
          pairs: ["Ginger", "Cinnamon", "Beans", "Dark breads"],
          vitality: ["Iron", "Calcium", "Magnesium", "Vitamin B6"],
          stories: "A symbol of endurance through hardship‚Äîresourcefulness and survival in diaspora cooking."
        },
        
        "Kimchi / Sauerkraut": {
          origin: "Korea (kimchi); Northern Europe (sauerkraut)",
          how: [
            "Eat as a side or condiment; add to rice bowls, sandwiches, or soups.",
            "Add near serving to keep probiotics alive."
          ],
          how_warning: "High sodium‚Äîrinse lightly if needed.",
          pairs: ["Rice", "Tofu", "Potatoes", "Beans"],
          vitality: ["Probiotics", "Vitamin C", "Vitamin K"],
          stories: "Ancestral wisdom of fermentation‚Äîkeeping life thriving through cold months."
        },
        
        "Vinegars": {
          origin: "Global spontaneous fermentation (grape, rice, apple, etc.)",
          how: [
            "Use apple cider, balsamic, or rice vinegar for dressings or pickling."
          ],
          how_warning: "Acidic‚Äîdilute for sipping; rinse mouth with water after to protect enamel.",
          pairs: ["Leafy greens", "Lentils", "Roasted roots"],
          vitality: ["Acetic acid (supports digestion and blood sugar balance)"],
          stories: "Called 'the sour gift'‚Äîan alchemical symbol that even spoilage can heal."
        },
        
        "Olives": {
          origin: "Levant (~6000 BCE), spread across the Mediterranean",
          how: [
            "Eat cured olives whole or press into olive oil."
          ],
          how_warning: "Beware pits; some varieties are very salty.",
          pairs: ["Tomatoes", "Herbs", "Bread", "Cheese alternatives"],
          vitality: ["Monounsaturated fats", "Polyphenols", "Vitamin E"],
          stories: "Athena‚Äôs olive was a gift of peace and wisdom."
        },
        
        "Miso": {
          origin: "Ancient China (jiang), refined in Japan",
          how: [
            "Whisk into broths or sauces after cooking to preserve probiotics."
          ],
          how_warning: "Contains sodium; check labels for gluten if sensitive.",
          pairs: ["Tofu", "Mushrooms", "Greens"],
          vitality: ["Protein", "Probiotics", "B vitamins", "Umami compounds"],
          stories: "Monastic staple: a sacred food balancing yin and yang."
        },
        
        "Green Tea": {
          origin: "China; ceremonial traditions in Japan",
          how: [
            "Brew at ~175¬∞F (80¬∞C) for 2‚Äì3 minutes."
          ],
          how_warning: "Avoid boiling water (can make it bitter). Contains caffeine.",
          pairs: ["Citrus", "Ginger", "Light snacks"],
          vitality: ["Catechins (EGCG)", "L-theanine", "Mild caffeine"],
          stories: "Legend: Bodhidharma‚Äôs eyelids became the first tea plants‚Äîwakeful awareness."
        },
        
        "Black Tea": {
          origin: "China; global spread via colonial trade",
          how: [
            "Brew ~200¬∞F (93¬∞C) for 3‚Äì5 minutes; add oat milk if desired."
          ],
          how_warning: "Contains caffeine; can inhibit iron absorption if taken with iron-rich meals.",
          pairs: ["Lemon", "Cardamom", "Pastries"],
          vitality: ["Theaflavins", "Antioxidants", "Moderate caffeine"],
          stories: "A ritual of comfort and resistance‚Äîshared strength in times of empire."
        },
        
        "Yerba Mate": {
          origin: "Guaran√≠ homelands of South America",
          how: [
            "Traditionally sipped from a gourd through a bombilla; can brew like tea."
          ],
          how_warning: "Contains caffeine; avoid scalding-hot infusions to protect the mouth.",
          pairs: ["Citrus", "Mint", "Ginger"],
          vitality: ["Caffeine", "Theobromine", "Polyphenols"],
          stories: "Guaran√≠ tale: the moon goddess gave mate so people would 'never drink alone.'"
        },
        
        "Dark Chocolate (70%+)": {
          origin: "Mesoamerica (sacred cacao beverage)",
          how: [
            "Enjoy 10‚Äì30 g/d or mix cocoa powder into smoothies or oatmeal."
          ],
          how_warning: "Contains caffeine/theobromine; keep from pets.",
          pairs: ["Strawberries", "Nuts", "Chili", "Mint"],
          vitality: ["Flavonoids", "Magnesium", "Theobromine", "Serotonin precursors"],
          stories: "The Maya called cacao 'food of the gods'‚Äîused in rituals of joy and renewal."
        },
        
        "Cacao Nibs / Cocoa Powder": {
          origin: "Amazon & Mesoamerica (cacao tree)",
          how: [
            "Sprinkle nibs on yogurt or use ~2 Tbsp cocoa powder in drinks."
          ],
          how_warning: "Unsweetened‚Äîbalance with fruit or a touch of sweetener if desired.",
          pairs: ["Banana", "Peanut butter", "Chili"],
          vitality: ["Antioxidants", "Theobromine", "Minimal sugar"],
          stories: "Nibs echo the ancestral cacao beverage used by Aztec and Olmec healers."
        },
        
        "Dried Fruits": {
          origin: "Ancient sun-drying in Egypt & Mesopotamia; worldwide",
          how: [
            "Eat as snacks or mix into oatmeal, salads, or tagines."
          ],
          how_warning: "Concentrated sugars; choose unsulfured/unsweetened when possible.",
          pairs: ["Nuts", "Grains", "Yogurt", "Cheeses"],
          vitality: ["Fiber", "Potassium", "Antioxidants", "Natural sugars"],
          stories: "Considered 'light captured'‚Äîsummer preserved for winter darkness."
        },
        
        "Herbal Teas (Chamomile, Hibiscus) / Kombucha": {
          origin: "Chamomile: Europe/Near East; Hibiscus: Africa; Kombucha: Northeast Asia",
          how: [
            "Chamomile: steep 5‚Äì7 minutes for calm.",
            "Hibiscus: brew hot or cold for tart vitamin-C refreshment.",
            "Kombucha: enjoy chilled; check labels for live cultures and low sugar."
          ],
          how_warning: "Hibiscus can lower blood pressure; kombucha contains small amounts of caffeine/acids.",
          pairs: ["Citrus", "Mint", "Ginger-based snacks"],
          vitality: ["Herbal antioxidants", "Digestive support", "Probiotics (kombucha)"],
          stories: "Herbal teas are gentle medicine; kombucha reflects the belief that 'life creates life'‚Äîferment as renewal."
        }
                
    };

    /* OLD food-profile modal wiring (disabled to avoid double binding)
    <script>
    (function(){
      const MODAL = document.getElementById('foodModal');
      const TITLE = document.getElementById('foodTitle');
      const ORIGIN = document.getElementById('field-origin');
      const HOW = document.getElementById('field-how');
      const HOW_WARN_WRAP = document.getElementById('field-how-warning');
      const HOW_WARN_TEXT = document.getElementById('field-how-warning-text');
      const PAIRS = document.getElementById('field-pairs');
      const VITAL = document.getElementById('field-vitality');
      const STORIES = document.getElementById('field-stories');
      const CLOSE_BTN = document.getElementById('foodCloseBtn');
    
      // Helper: canonicalize label then look up in FOOD_INFO using NAME_ALIASES fallback
      const ALIASES = (window.NAME_ALIASES || {});
      function resolveKey(label){
        const raw = String(label || '');
        const canon = (window.canonName ? window.canonName(raw) : raw.toLowerCase().trim());
        // Try direct match first
        if (FOOD_INFO[raw]) return raw;
        // Try alias by canonical text
        for (const [alias, target] of Object.entries(ALIASES)) {
          const aCanon = (window.canonName ? window.canonName(alias) : alias.toLowerCase().trim());
          if (aCanon === canon) return target;
        }
        // Try case-insensitive direct key
        const hit = Object.keys(FOOD_INFO).find(k => k.toLowerCase() === raw.toLowerCase());
        return hit || null;
      }
    
      function clearChildren(node){ while(node.firstChild) node.removeChild(node.firstChild); }
    
      function openFoodModal(label){
        const key = resolveKey(label);
        const d = key ? FOOD_INFO[key] : null;
        if (!d) return;
    
        TITLE.textContent = key;
        setFoodHero(key);

        // Origin (string)
        ORIGIN.textContent = d.origin || '';
    
        // How (array of strings -> <ul> items)
        clearChildren(HOW);
        if (Array.isArray(d.how) && d.how.length){
          const ul = document.createElement('ul');
          d.how.forEach(step => { const li = document.createElement('li'); li.textContent = step; ul.appendChild(li); });
          HOW.appendChild(ul);
        } else if (typeof d.how === 'string') {
          HOW.textContent = d.how;
        } else {
          HOW.textContent = '';
        }
    
        // How warning (string -> show/hide row with ‚ö†Ô∏è)
        const warn = (d.how_warning || '').trim();
        if (warn){
          HOW_WARN_TEXT.textContent = warn;
          HOW_WARN_WRAP.style.display = '';
        } else {
          HOW_WARN_TEXT.textContent = '';
          HOW_WARN_WRAP.style.display = 'none';
        }
    
        // Pairs (array -> bullets)
        clearChildren(PAIRS);
        if (Array.isArray(d.pairs) && d.pairs.length){
          const frag = document.createDocumentFragment();
          d.pairs.forEach(p => {
            const li = document.createElement('li');
            li.textContent = p;
            frag.appendChild(li);
          });
          PAIRS.appendChild(frag);
        }
    
        // Vitality (array -> bullets)
        clearChildren(VITAL);
        if (Array.isArray(d.vitality) && d.vitality.length){
          const frag = document.createDocumentFragment();
          d.vitality.forEach(v => {
            const li = document.createElement('li');
            li.textContent = v;
            frag.appendChild(li);
          });
          VITAL.appendChild(frag);
        }
    
        // Sacred story (string)
        STORIES.textContent = d.stories || '';
    
        // Show modal + lock page scroll
        MODAL.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
      }
    
      function closeFoodModal(){
        MODAL.classList.add('hidden');
        document.body.style.overflow = '';
      }
    
      // Close events
      CLOSE_BTN?.addEventListener('click', closeFoodModal);
      // Click backdrop to close (clicking outside the card ‚Äî since we use full-screen .modal)
      MODAL.addEventListener('click', (e)=>{
        if (e.target === MODAL) closeFoodModal();
      });
      // ESC key to close
      document.addEventListener('keydown', (e)=>{
        if (!MODAL.classList.contains('hidden') && e.key === 'Escape') closeFoodModal();
      });
    
      // Delegated click for any info buttons: <button class="info-btn" data-key="Spinach">
      document.addEventListener('click', (e)=>{
        const b = e.target.closest('.info-btn');
        if (b && document.body.contains(b)){
          const key = b.dataset.key || b.getAttribute('data-key') || b.textContent?.trim();
          openFoodModal(key);
        }
      });
    
      // Expose for quick console testing:
      window.openFoodModal = openFoodModal;
    })();
*/

    // helpers for safe rendering
    function asArray(x){ return Array.isArray(x) ? x : (x ? [x] : []); }
    
    function getList(catKey, subKey){
      const cat = DATA[catKey];
      const list = cat && cat[subKey];
      return Array.isArray(list) ? list : [];
    }
    
    function currentSubKey(){
      try { return WALK?.[route?.catIndex]?.subs?.[route?.subIndex]; }
      catch { return null; }
    }

// --- Food Profile modal open/close (single, clean wiring) ---
(function(){
  const MODAL   = document.getElementById('foodModal');
  const TITLE   = document.getElementById('foodTitle');
  const ORIGIN  = document.getElementById('field-origin');
  const HOW     = document.getElementById('field-how');
  const HOW_WARN_WRAP = document.getElementById('field-how-warning');
  const HOW_WARN_TEXT = document.getElementById('field-how-warning-text');
  const PAIRS   = document.getElementById('field-pairs');
  const VITAL   = document.getElementById('field-vitality');
  const STORIES = document.getElementById('field-stories');
  const CLOSE   = document.getElementById('foodCloseBtn');
  const GRID    = document.getElementById('grid');

  // tolerant lookup: exact ‚Üí case-insensitive ‚Üí alias
  function lookupFoodRecord(label){
    const low = String(label || '').toLowerCase().trim();
    const map = (typeof FOOD_INFO !== 'undefined' ? FOOD_INFO : (window.FOOD_INFO || {}));

    if (Object.prototype.hasOwnProperty.call(map, label)) return { key: label, rec: map[label] };

    const exactKey = Object.keys(map).find(k => k.toLowerCase().trim() === low);
    if (exactKey) return { key: exactKey, rec: map[exactKey] };

    if (window.NAME_ALIASES){
      const hit = Object.entries(window.NAME_ALIASES).find(([alias]) =>
        String(alias).toLowerCase().trim() === low
      );
      if (hit){
        const target = hit[1];
        if (Object.prototype.hasOwnProperty.call(map, target)) return { key: target, rec: map[target] };
      }
    }
    return { key: null, rec: null };
  }

  function clearChildren(node){ while(node && node.firstChild) node.removeChild(node.firstChild); }

  function fillFoodProfile(name){
    // Title + hero
    const { key: resolvedKey, rec } = lookupFoodRecord(name);
    if (TITLE) TITLE.textContent = (resolvedKey || name || '‚Äî');
    if (window.setFoodHero) window.setFoodHero(resolvedKey || name);

    // If missing record, graceful fallback
    if (!rec){
      if (ORIGIN) ORIGIN.textContent = 'Coming soon.';
      if (HOW) HOW.innerHTML = '<p class="dim">Tips coming soon.</p>';
      if (HOW_WARN_WRAP) HOW_WARN_WRAP.style.display = 'none';
      if (PAIRS) clearChildren(PAIRS);
      if (VITAL) clearChildren(VITAL);
      if (STORIES) STORIES.textContent = '';
      return;
    }

    // Origin
    if (ORIGIN) ORIGIN.textContent = rec.origin || '‚Äî';

    // How (list or paragraphs)
    if (HOW){
      clearChildren(HOW);
      const steps = Array.isArray(rec.how) ? rec.how : (rec.how ? [rec.how] : []);
      if (steps.length){
        const ul = document.createElement('ul');
        steps.forEach(s => { const li = document.createElement('li'); li.textContent = s; ul.appendChild(li); });
        HOW.appendChild(ul);
      } else {
        HOW.innerHTML = '<p class="dim">Tips coming soon.</p>';
      }
    }

    // Warning
    const warn = (rec.how_warning || '').trim();
    if (HOW_WARN_WRAP){
      if (warn){
        HOW_WARN_WRAP.style.display = '';
        if (HOW_WARN_TEXT) HOW_WARN_TEXT.textContent = warn;
      } else {
        HOW_WARN_WRAP.style.display = 'none';
      }
    }

    // Pairs
    if (PAIRS){
      clearChildren(PAIRS);
      (Array.isArray(rec.pairs) ? rec.pairs : []).forEach(p => {
        const li = document.createElement('li'); li.textContent = p; PAIRS.appendChild(li);
      });
    }

    // Vitality
    if (VITAL){
      clearChildren(VITAL);
      (Array.isArray(rec.vitality) ? rec.vitality : []).forEach(v => {
        const li = document.createElement('li'); li.textContent = v; VITAL.appendChild(li);
      });
    }

    // Stories
    if (STORIES) STORIES.textContent = rec.stories || '';
  }

  // Public open function
  window.openFoodModal = function(name){
    if (!MODAL) return;
    fillFoodProfile(name);
    MODAL.classList.remove('hidden');
    document.body.style.overflow = 'hidden';
  };

  // Close handlers
  function closeFoodModal(){
    if (!MODAL) return;
    MODAL.classList.add('hidden');
    document.body.style.overflow = '';
  }
  CLOSE?.addEventListener('click', closeFoodModal);
  MODAL?.addEventListener('click', (e)=>{ if (e.target === MODAL) closeFoodModal(); });
  document.addEventListener('keydown', (e)=>{ if (e.key === 'Escape' && !MODAL.classList.contains('hidden')) closeFoodModal(); });

  // Click wiring: support both .info-btn[data-key] and .cardlet[data-food]
  document.addEventListener('click', (e)=>{
    const btn = e.target.closest('.info-btn[data-key]');
    if (btn) { window.openFoodModal(btn.dataset.key); return; }

    if (!GRID) return;
    const card = e.target.closest('.cardlet[data-food]');
    if (card && GRID.contains(card)){
      window.openFoodModal(card.dataset.food);
    }
  });
})();


    // --- Grid renderer: builds clickable cards with data attributes ---
    function renderGrid(catKey, subKey){
      const grid = document.getElementById('grid');
      if (!grid) return;
    
      const items = getList(catKey, subKey);
      const html = items.map(name => {
        const imgSrc =
          getImgFor('vegetables', subKey, name) ||
          getImgFor('fruits', subKey, name)     ||
          getImgFor('proteins', subKey, name)   ||
          getImgFor('protein', subKey, name)    ||
          getImgFor('grains', subKey, name)     ||
          getImgFor('calories', subKey, name)   ||
          getImgFor('flavor', subKey, name)     ||
          getImgFor('center', subKey, name)     ||
          '';
    
        return `
          <div class="cardlet" data-food="${name}" data-cat="${catKey}" data-sub="${subKey}" tabindex="0" role="button" aria-label="Open details for ${name}">
            ${imgSrc ? `<img class="pic" src="${imgSrc}" alt="${name}">` : `<div class="pic" aria-hidden="true"></div>`}
            <div class="food-name">${name}</div>
          </div>`;
      }).join('');
    
      grid.innerHTML = html;
    }  // ‚Üê renderGrid ENDS here. Do not paste helpers above this line!
    
    // --- Protein scorecard modal controls ---
    (function(){
      const modal = document.getElementById('proteinScorecardModal');
      if (!modal) return;
    
      const btnX  = document.getElementById('proteinScorecardX');
      const btnOk = document.getElementById('proteinScorecardOk');
    
      function hideScorecard(){
        modal.classList.add('hidden');
        // remember dismissal (session + saved state if available)
        sessionStorage.setItem('protein_scorecard_seen', '1');
        if (!window.state) window.state = {};
        if (!state.flags) state.flags = {};
        state.flags.proteinScorecardSeen = true;
        if (window.saveState) saveState();
      }
    
      function showScorecardOnce(){
        const seenSession = sessionStorage.getItem('protein_scorecard_seen') === '1';
        const seenState   = !!(window.state && state.flags && state.flags.proteinScorecardSeen);
        if (seenSession || seenState) return;
        modal.classList.remove('hidden');
      }
    
      // Wire close actions
      if (btnX)  btnX.addEventListener('click', hideScorecard);
      if (btnOk) btnOk.addEventListener('click', hideScorecard);
      modal.addEventListener('click', (e) => { if (e.target === modal) hideScorecard(); });
    
      // Expose a trigger to call when we land on Proteins ‚Üí Complete
      window.maybeShowProteinScorecard = function(catKey, subKey){
        if (catKey === 'proteins' && subKey === 'complete') {
          showScorecardOnce();
        }
      };
    })();
    
    /* ===== Protein scorecard modal controls (top-level, not inside any function) ===== */
    (function(){
      const modal = document.getElementById('proteinScorecardModal');
      if (!modal) return;
    
      const btnX  = document.getElementById('proteinScorecardX');
      const btnOk = document.getElementById('proteinScorecardOk');
    
      function hideScorecard(){
        modal.classList.add('hidden');
        sessionStorage.setItem('protein_scorecard_seen', '1');
        if (!window.state) window.state = {};
        if (!state.flags) state.flags = {};
        state.flags.proteinScorecardSeen = true;
        if (window.saveState) saveState();
      }
    
      function showScorecardOnce(){
        const seenSession = sessionStorage.getItem('protein_scorecard_seen') === '1';
        const seenState   = !!(window.state && state.flags && state.flags.proteinScorecardSeen);
        if (seenSession || seenState) return;
        modal.classList.remove('hidden');
      }
    
      if (btnX)  btnX.addEventListener('click', hideScorecard);
      if (btnOk) btnOk.addEventListener('click', hideScorecard);
      modal.addEventListener('click', (e) => { if (e.target === modal) hideScorecard(); });
    
      // Call this after renderGrid() when navigating to a subcat
      window.maybeShowProteinScorecard = function(catKey, subKey){
        if (catKey === 'proteins' && subKey === 'complete') showScorecardOnce();
      };
    })();
     
    // --- Cross-listed split rules: route portions to multiple subcategories ---
    const SPLIT_RULES = {
      // Vegetables ‚Üî Roots/Tubers
      "Parsnips": [
        { target: "other_vegetables", weight: 0.5 },          // Vegetables ‚Üí Other
        { target: "roots_tubers", weight: 0.5 }    // Grains/Roots ‚Üí Roots & Tubers
      ],
      "Rutabaga": [
        { target: "cruciferous", weight: 0.5 },
        { target: "roots_tubers", weight: 0.5 }
      ],
      "Turnips": [
        { target: "cruciferous", weight: 0.5 },
        { target: "roots_tubers", weight: 0.5 }
      ],
    
      // Fruits ‚Üî Roots/Tubers
      "Plantains": [
        { target: "fruits.other_fruits", weight: 0.5 },   // Fruits ‚Üí Other (see helper below)
        { target: "roots_tubers", weight: 0.5 }
      ],
    
      // Protein ‚Üî Grains (complete carbs)
      "Quinoa": [
        { target: "complete", weight: 0.5 },
        { target: "grasses", weight: 0.5 }
      ],
      "Amaranth": [
        { target: "complete", weight: 0.5 },
        { target: "grasses", weight: 0.5 }
      ],
      "Buckwheat/Soba": [
        { target: "complete", weight: 0.5 },
        { target: "grasses", weight: 0.5 }
      ],
      "Chia seeds": [
        { target: "complete", weight: 0.5 },
        { target: "nuts_seeds", weight: 0.5 }
      ],
    };
   
    
    // --- Grocery dropdown defaults (fallbacks; swap in your specific store choices later) ---
    const CHOICES_DEFAULT = {
      leafy: [
        { label: "Fresh bunch (10 oz)", servings: 7 },         // ~9 c ‚Üí ~7 serv
        { label: "Pre-washed bag (8 oz)", servings: 6 },       // ~7 c ‚Üí ~6 serv
        { label: "Frozen chopped (12 oz)", servings: 8 }       // typical leafy 12 oz
      ],
      cruciferous: [
        { label: "Fresh head (~24‚Äì32 oz)", servings: 8 },      // e.g., cauliflower head
        { label: "Frozen florets (12 oz)", servings: 5 },      // 12 oz florets
        { label: "Steam-bag (12 oz)", servings: 5 }
      ],
      orange: [
        { label: "Fresh whole (medium)", servings: 1 },        // carrot, sweet potato, etc.
        { label: "Frozen cubes (12 oz)", servings: 3 },
        { label: "Canned (low-salt) (15 oz)", servings: 3 }
      ],
      other_vegetables: [
        { label: "Fresh (medium)", servings: 2 },              // tomato/cucumber avg
        { label: "Frozen (12 oz)", servings: 3 },
        { label: "Canned/Box (14.5‚Äì15 oz)", servings: 3 }
      ],
      berries: [
        { label: "Fresh clamshell (8 oz)", servings: 3 },
        { label: "Frozen bag (12 oz)", servings: 5 },
        { label: "Dried (no sugar) (4‚Äì6 oz)", servings: 8 }    // ~¬Ω‚Äì1 Tbsp eq /serv
      ],
      citrus: [
        { label: "Fresh (medium)", servings: 2 },              // oranges/lemons/limes ‚âà2 serv each
        { label: "Juice (no sugar) (52‚Äì59 oz)", servings: 26 },// 8 oz = 4 serv (¬Ωc) ‚Üí ~26 serv
        { label: "Cups/bites (4 oz)", servings: 2 }
      ],
      carotenoid_lycopene: [
        { label: "Fresh (medium)", servings: 2 },              // peach/nectarine/mango (lg=2)
        { label: "Frozen (12‚Äì16 oz)", servings: 4 },           // 12‚Äì16 oz ‚Üí 3‚Äì6; use 4 as default
        { label: "Cups/bites (4 oz)", servings: 2 }
      ],
      other_fruits: [
        { label: "Fresh whole / bag (3 lb)", servings: 12 },
        { label: "Bunch / cluster", servings: 6 },
        { label: "Cut / prepared (16 oz tub)", servings: 4 }
      ],
      legumes_pulses: [
        { label: "Dry bag (16 oz)", servings: 24 },
        { label: "Canned (15 oz)", servings: 6 }
      ],
      complete: [
        { label: "Eggs/dozen (24 oz total)", servings: 12 },   // 1 egg = 1 serv
        { label: "Tofu block (16 oz)", servings: 4 },
        { label: "Tempeh pack (8‚Äì12 oz)", servings: 5 }
      ],
      dairy: [
        { label: "Milk ¬Ω-gal (64 oz)", servings: 8 },          // 1 c = 1 serv
        { label: "Yogurt 4-pack (24 oz)", servings: 4 },       // 4√ó6 oz = 4 serv
        { label: "Cheese block (8 oz)", servings: 8 }          // 1 oz = 1 serv
      ],
      seafood: [
        { label: "Canned (5 oz)", servings: 2 },
        { label: "Frozen fillet (12 oz)", servings: 6 },
        { label: "Fresh (8 oz)", servings: 4 }
      ],
      grasses: [
        { label: "Brown rice bag (32 oz dry)", servings: 24 }, // ~12 c cooked ‚Üí 24 serv
        { label: "Oats canister (18 oz)", servings: 18 },      // per earlier mapping
        { label: "Whole-grain pasta box (16 oz)", servings: 16 }
      ],
      nuts_seeds: [
        { label: "Bulk nuts (16 oz)", servings: 44 },          // matches nut defaults above
        { label: "Snack pack (1.5 oz)", servings: 4 },         // per-pack handy default
        { label: "Seed bag (8‚Äì16 oz)", servings: 24 }          // 8 oz ‚âà 24; 16 oz ‚âà 48
      ],
      roots_tubers: [
        { label: "Loose (medium)", servings: 1 },              // potato/sweet potato
        { label: "Bagged (5 lb / 80 oz)", servings: 30 },      // 3 lb ‚âà18; 5 lb ‚âà30
        { label: "Frozen (12 oz)", servings: 3 }
      ],
      oils_fats: [
        { label: "Olive oil bottle (16 oz)", servings: 94 },   // ¬Ω Tbsp per serv
        { label: "Avocado oil bottle (16 oz)", servings: 94 },
        { label: "Butter/Ghee tub (12 oz)", servings: 48 }
      ],
      flavor_vegetables: [
        { label: "Garlic bulb (3 oz)", servings: 20 },         // ~10 cloves, ¬Ω clove/serv
        { label: "Onion bag (48 oz / 3 lb)", servings: 30 },   // ~30 √ó ¬º c
        { label: "Pepper mix (12 oz frozen)", servings: 5 }
      ],
      fresh_herbs: [
        { label: "Bunch (2 oz)", servings: 16 },               // 2 Tbsp per serv
        { label: "Clamshell (1 oz)", servings: 8 },
        { label: "Potted (live plant)", servings: 20 }         // nominal default
      ],
      dried_spices: [
        { label: "Jar (1 oz)", servings: 55 },
        { label: "Refill (3 oz)", servings: 165 },
        { label: "Blend (1‚Äì2 oz)", servings: 80 }              // mid-range default
      ],
      boosters: [
        { label: "Honey/Maple jar (8‚Äì12 oz)", servings: 57 },  // 12 oz ‚âà 85; use 57 for 8‚Äì12 avg
        { label: "Kimchi/Sauerkraut tub (16 oz)", servings: 16 }, // ¬º c = 1 serv
        { label: "Tea/Coffee (20 ct / 12 oz)", servings: 20 }  // tea bags count; coffee 12 oz ‚âà 68 (handled in specific)
      ]
    };


    // Optionally override specific items like this:
    // Exact grocery-size ‚Üí servings labels. Each entry is {label, servings}.
    
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Leafy & Salad Greens (ordered to match MASTER) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    const CHOICES_SPECIFIC = {
      "Spinach": [
        { label:"Bag/clamshell 5 oz ‚âà 5 cups ‚Üí 3 servings",  servings:3 },
        { label:"Clamshell 10 oz ‚âà 10 cups ‚Üí 7 servings",     servings:7 },
        { label:"Frozen chopped 10 oz ‚âà 10 cups ‚Üí 7 servings", servings:7 },
        { label:"Frozen chopped 16 oz ‚âà 16 cups ‚Üí 11 servings",servings:11 }
      ],
    
      "Romaine lettuce": [
        { label:"Heart ‚âà 5 cups ‚Üí 4 servings",                servings:4 },
        { label:"3-pack hearts ‚âà 15 cups ‚Üí 12 servings",      servings:12 },
        { label:"Chopped bag 10 oz ‚âà 9 cups ‚Üí 7 servings",    servings:7 }
      ],
    
      "Kale": [
        { label:"Bunch 8 oz ‚âà 7 cups ‚Üí 6 servings",           servings:6 },
        { label:"Bag pre-chopped 10 oz ‚âà 9 cups ‚Üí 7 servings",servings:7 },
        { label:"Frozen chopped 12 oz ‚âà 10 cups ‚Üí 8 servings",servings:8 }
      ],
    
      "Green leaf lettuce": [
        { label:"Head ‚âà 8 cups ‚Üí 6 servings",                 servings:6 },
        { label:"Clamshell 10 oz ‚âà 10 cups ‚Üí 8 servings",     servings:8 },
        { label:"Salad mix bag 5 oz ‚âà 5 cups ‚Üí 4 servings",   servings:4 }
      ],
    
      "Red leaf lettuce": [
        { label:"Head ‚âà 8 cups ‚Üí 6 servings",                 servings:6 },
        { label:"Clamshell 10 oz ‚âà 10 cups ‚Üí 8 servings",     servings:8 },
        { label:"Salad mix bag 5 oz ‚âà 5 cups ‚Üí 4 servings",   servings:4 }
      ],
    
      "Butter/Bibb lettuce": [
        { label:"Head ‚âà 6 cups ‚Üí 4 servings",                 servings:4 },
        { label:"Living root lettuce ‚âà 6 cups ‚Üí 4 servings",  servings:4 },
        { label:"Clamshell 8 oz ‚âà 8 cups ‚Üí 5 servings",       servings:5 }
      ],
    
      "Collard greens": [
        { label:"Bunch 8 oz ‚âà 7 cups ‚Üí 6 servings",           servings:6 },
        { label:"Bag pre-chopped 12 oz ‚âà 11 cups ‚Üí 9 servings",servings:9 }
      ],
    
      "Swiss chard": [
        { label:"Bunch 8 oz ‚âà 7 cups ‚Üí 6 servings",           servings:6 },
        { label:"Bag rainbow mix 10 oz ‚âà 9 cups ‚Üí 7 servings",servings:7 }
      ],
    
      "Bean sprouts": [
        { label:"Bag 12 oz ‚âà 6 cups ‚Üí 12 servings",           servings:12 },
        { label:"Clamshell 8 oz ‚âà 4 cups ‚Üí 8 servings",       servings:8 }
      ],
    
      "Other greens": [
        { label:"Bunch 8 oz ‚âà 7 cups ‚Üí 6 servings",           servings:6 },
        { label:"Bag chopped 10 oz ‚âà 9 cups ‚Üí 7 servings",    servings:7 }
      ],
    
      "Endive": [
        { label:"3-count pack ‚âà 4 cups ‚Üí 3 servings",         servings:3 },
        { label:"6-count bag ‚âà 8 cups ‚Üí 6 servings",          servings:6 }
      ],
    
      "Escarole/Frisee": [
        { label:"Head ‚âà 8 cups ‚Üí 6 servings",                 servings:6 },
        { label:"Bag chopped 10 oz ‚âà 9 cups ‚Üí 7 servings",    servings:7 }
      ],
    
      "Other sprouts": [
        { label:"Clamshell 5 oz ‚âà 5 cups ‚Üí 10 servings",      servings:10 },
        { label:"Clamshell 3 oz ‚âà 3 cups ‚Üí 6 servings",       servings:6 }
      ],
    
      "Watercress": [
        { label:"Bunch ‚âà 5 cups ‚Üí 4 servings",                servings:4 },
        { label:"Clamshell 4 oz ‚âà 4 cups ‚Üí 3 servings",       servings:3 }
      ],
    
      "Seaweed/Nori": [
        { label:"Pack 10 sheets ‚Üí 10 servings",               servings:10 },
        { label:"Pack 50 sheets ‚Üí 50 servings",               servings:50 }
      ],
    
      "Kelp": [
        { label:"Dried pieces 2 oz ‚âà 4 cups rehydrated ‚Üí 8 servings", servings:8 },
        { label:"Vacuum-pack 8 oz ‚âà 2 cups rehydrated ‚Üí 4 servings",   servings:4 },
        { label:"Sushi-section clamshell 4 oz ‚âà 1.5 cups ‚Üí 3 servings",servings:3 }
      ],
    
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Cruciferous & Brassicas (ordered to match MASTER) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
      "Broccoli": [
        { label:"Crown ‚âà 3 cups ‚Üí 4 servings",                servings:4 },
        { label:"Bundle (3 crowns) ‚âà 7 cups ‚Üí 9 servings",    servings:9 },
        { label:"Fresh chopped 12 oz ‚âà 4 cups ‚Üí 5 servings",  servings:5 },
        { label:"Frozen florets 12 oz ‚âà 4 cups ‚Üí 5 servings", servings:5 }
      ],
    
      "Cauliflower": [
        { label:"Head ‚âà 6 cups ‚Üí 8 servings",                 servings:8 },
        { label:"Fresh chopped 12 oz ‚âà 4 cups ‚Üí 5 servings",  servings:5 },
        { label:"Frozen florets 12 oz ‚âà 4 cups ‚Üí 5 servings", servings:5 },
        { label:"Riced 12 oz ‚âà 4 cups ‚Üí 5 servings",          servings:5 }
      ],
    
      "Green cabbage": [
        { label:"Small head 2 lb ‚âà 11 cups ‚Üí 22 servings",    servings:22 },
        { label:"Medium head 2.6 lb ‚âà 15 cups ‚Üí 30 servings", servings:30 },
        { label:"Shredded bag 8 oz ‚âà 3 cups ‚Üí 6 servings",    servings:6 }
      ],
    
      "Red cabbage": [
        { label:"Head 3 lb ‚âà 16 cups ‚Üí 32 servings",          servings:32 },
        { label:"Shredded bag 8 oz ‚âà 3 cups ‚Üí 6 servings",    servings:6 }
      ],
    
      "Brussel sprouts": [
        { label:"Carton 1 lb ‚âà 6 cups ‚Üí 12 servings",         servings:12 },
        { label:"Fresh bag 12 oz ‚âà 4 cups ‚Üí 8 servings",      servings:8 },
        { label:"Frozen bag 12 oz ‚âà 4 cups ‚Üí 8 servings",     servings:8 }
      ],
    
      "Bok choy": [
        { label:"Baby bunch 1 lb ‚âà 6 cups ‚Üí 12 servings",     servings:12 },
        { label:"Regular head 1.75 lb ‚âà 10 cups ‚Üí 20 servings", servings:20 },
        { label:"Chopped bag 12 oz ‚âà 4 cups ‚Üí 8 servings",    servings:8 }
      ],
    
      "Arugula": [
        { label:"Clamshell/bag 5 oz ‚âà 5 cups ‚Üí 5 servings",   servings:5 },
        { label:"Large clamshell 10 oz ‚âà 10 cups ‚Üí 10 servings", servings:10 }
      ],
    
      "Radishes": [
        { label:"Bunch (10‚Äì12) ‚âà 2 cups ‚Üí 4 servings",        servings:4 },
        { label:"Bag trimmed 12 oz ‚âà 3 cups ‚Üí 6 servings",    servings:6 },
        { label:"Pre-sliced bag 8 oz ‚âà 2 cups ‚Üí 4 servings",  servings:4 }
      ],
    
      "Turnips": [
        { label:"3-lb bag ‚âà 8 cups ‚Üí 10 servings",            servings:10 },
        { label:"Loose medium ‚âà 1 cup each ‚Üí 1‚Äì2 servings",   servings:2 },
        { label:"Pre-cubed tray 12 oz ‚âà 3 cups ‚Üí 4 servings", servings:4 }
      ],
    
      "Rutabaga": [
        { label:"Medium 2 lb ‚âà 6 cups ‚Üí 8 servings",          servings:8 },
        { label:"Pre-cubed tray 12 oz ‚âà 3 cups ‚Üí 4 servings", servings:4 }
      ],
    
      "Savoy cabbage": [
        { label:"Head 2 lb ‚âà 12 cups ‚Üí 24 servings",          servings:24 },
        { label:"Shredded bag 8 oz ‚âà 3 cups ‚Üí 6 servings",    servings:6 }
      ],
    
      "Napa cabbage": [
        { label:"Head 2 lb ‚âà 10 cups ‚Üí 20 servings",          servings:20 },
        { label:"Shaved bag 12 oz ‚âà 4 cups ‚Üí 8 servings",     servings:8 }
      ],
    
      "Broccolini": [
        { label:"Bunch 8 oz ‚âà 3 cups ‚Üí 4 servings",           servings:4 },
        { label:"Twin-pack 1 lb ‚âà 6 cups ‚Üí 8 servings",       servings:8 }
      ],
    
      "Daikon": [
        { label:"Root 2 lb ‚âà 7 cups ‚Üí 9 servings",            servings:9 },
        { label:"Pre-cut sticks 12 oz ‚âà 4 cups ‚Üí 5 servings", servings:5 }
      ],
    
      "Kohlrabi": [
        { label:"3 bulbs 2 lb ‚âà 7 cups ‚Üí 9 servings",         servings:9 },
        { label:"Slaw tray 12 oz ‚âà 4 cups ‚Üí 5 servings",      servings:5 }
      ],
    
      "Broccoli raab/Rapini": [
        { label:"Bunch 1 lb ‚âà 6 cups ‚Üí 12 servings",          servings:12 },
        { label:"Twin bunch 2 lb ‚âà 12 cups ‚Üí 24 servings",    servings:24 }
      ],
      
      // ü•ï Orange / Carotenoid / Red Vegetables
      "Carrots": [
        { label:"1 medium carrot ‚âà 1 serving", servings:1 },
        { label:"Bag whole 1 lb ‚âà 10 servings", servings:10 },
        { label:"Baby carrots bag 12 oz ‚âà 4 cups ‚Üí 5 servings", servings:5 },
        { label:"Pre-sliced coins 10 oz ‚âà 3 cups ‚Üí 4 servings", servings:4 },
        { label:"Frozen bag 12 oz ‚âà 4 cups ‚Üí 5 servings", servings:5 }
      ],
      "Sweet potatoes": [
        { label:"Loose medium ‚âà 1 serving each", servings:1 },
        { label:"3-lb bag ‚âà 8‚Äì10 servings", servings:10 },
        { label:"Pre-cubed tray 12 oz ‚âà 3 servings", servings:3 },
        { label:"Frozen chunks 12 oz ‚âà 3 servings", servings:3 }
      ],
      "Yams": [
        { label:"Loose medium ‚âà 1 serving each", servings:1 },
        { label:"3-lb bag ‚âà 8‚Äì10 servings", servings:10 },
        { label:"Frozen chunks 12 oz ‚âà 3 servings", servings:3 }
      ],
      "Tomatoes": [
        { label:"Loose Roma ‚âà 1 per serving", servings:1 },
        { label:"Large slicing tomato ‚âà 2 servings each", servings:2 },
        { label:"Grape tomatoes clamshell 10 oz ‚âà 2.5 cups ‚Üí 5 servings", servings:5 },
        { label:"Cherry tomatoes clamshell 16 oz ‚âà 4 cups ‚Üí 8 servings", servings:8 }
      ],
      "Red bell peppers": [
        { label:"Loose medium pepper ‚âà 2 servings", servings:2 },
        { label:"Bag 3-count ‚âà 6 servings", servings:6 },
        { label:"Pre-sliced strips 8 oz ‚âà 2 servings", servings:2 },
        { label:"Frozen strips 12 oz ‚âà 5 servings", servings:5 }
      ],
      "Orange bell peppers": [
        { label:"Loose medium ‚âà 2 servings", servings:2 },
        { label:"Bag 3-count ‚âà 6 servings", servings:6 },
        { label:"Pre-sliced strips 8 oz ‚âà 2 servings", servings:2 },
        { label:"Frozen strips 12 oz ‚âà 5 servings", servings:5 }
      ],
      // renamed from "Beets (red/purple)" to match master:
      "Red beets": [
        { label:"Loose medium beet ‚âà 1 serving each", servings:1 },
        { label:"Bunch (3) ‚âà 3 servings", servings:3 },
        { label:"Pre-steamed vacuum pack 8 oz ‚âà 2 servings", servings:2 },
        { label:"Pre-shredded 10 oz ‚âà 4 servings", servings:4 }
      ],
      "Butternut squash": [
        { label:"Whole medium ‚âà 6 servings", servings:6 },
        { label:"Pre-cubed tray 12 oz ‚âà 3 servings", servings:3 },
        { label:"Frozen chunks 12 oz ‚âà 3 servings", servings:3 }
      ],
      "Acorn squash": [
        { label:"Whole ‚âà 4 servings", servings:4 },
        { label:"Pre-cut half ‚âà 2 servings", servings:2 },
        { label:"Frozen chunks 12 oz ‚âà 3 servings", servings:3 }
      ],
      "Pumpkin": [
        { label:"Small sugar pumpkin ‚âà 6 servings", servings:6 },
        { label:"Pre-cubed tray 12 oz ‚âà 3 servings", servings:3 },
        { label:"Frozen chunks 12 oz ‚âà 3 servings", servings:3 }
      ],
      "Spaghetti squash": [
        { label:"Whole medium ‚âà 8 servings", servings:8 },
        { label:"Pre-cut half ‚âà 4 servings", servings:4 },
        { label:"Frozen strands 12 oz ‚âà 3 servings", servings:3 }
      ],
      "Golden beets": [
        { label:"Loose medium ‚âà 1 serving each", servings:1 },
        { label:"Bunch (3) ‚âà 3 servings", servings:3 },
        { label:"Pre-shredded tray 10 oz ‚âà 4 servings", servings:4 }
      ],
      // new separate card to match master:
      "Purple sweet potatoes/Ube": [
        { label:"Loose medium ‚âà 1 serving each", servings:1 },
        { label:"3-lb bag ‚âà 8‚Äì10 servings", servings:10 },
        { label:"5-lb bag ‚âà 30 servings", servings:30 },
        { label:"Frozen purple fries 20 oz ‚âà 10 servings", servings:10 }
      ],
      "Delicata squash": [
        { label:"Whole ‚âà 2 servings", servings:2 },
        { label:"Pre-sliced half-moons 12 oz ‚âà 3 servings", servings:3 }
      ],
      "Kabocha squash": [
        { label:"Whole ‚âà 6 servings", servings:6 },
        { label:"Pre-cubed tray 12 oz ‚âà 3 servings", servings:3 },
        { label:"Frozen chunks 12 oz ‚âà 3 servings", servings:3 }
      ],
      "Hubbard squash": [
        { label:"Large wedge 2 lb ‚âà 6 servings", servings:6 },
        { label:"Pre-cubed tray 12 oz ‚âà 3 servings", servings:3 }
      ],


    // ‚îÄ‚îÄ FRUITS: grocery-size ‚Üí servings (keys match MASTER order) ‚îÄ‚îÄ
    
    // üçì BERRIES
    "Strawberries": [
      { label:"1-lb clamshell (‚âà3¬æ c) ‚Üí 5 serv", servings:5 },
      { label:"2-lb clamshell ‚Üí 10 serv",        servings:10 },
      { label:"Frozen 16 oz ‚Üí 6 serv",           servings:6 }
    ],
    "Blueberries": [
      { label:"6-oz clamshell (‚âà1 c) ‚Üí 2 serv",  servings:2 },
      { label:"18-oz clamshell (‚âà3 c) ‚Üí 6 serv", servings:6 },
      { label:"Frozen 12 oz (‚âà2¬Ω c) ‚Üí 5 serv",   servings:5 }
    ],
    "Raspberries": [
      { label:"6-oz clamshell (‚âà1 c) ‚Üí 2 serv",  servings:2 },
      { label:"12-oz clamshell (‚âà2 c) ‚Üí 4 serv", servings:4 },
      { label:"Frozen 12 oz (‚âà2¬Ω c) ‚Üí 5 serv",   servings:5 }
    ],
    "Blackberries": [
      { label:"6-oz clamshell (‚âà1 c) ‚Üí 2 serv",  servings:2 },
      { label:"12-oz clamshell (‚âà2 c) ‚Üí 4 serv", servings:4 },
      { label:"Frozen 12 oz (‚âà2¬Ω c) ‚Üí 5 serv",   servings:5 }
    ],
    "Red/Black grapes": [
      { label:"2-lb bag (‚âà6 c) ‚Üí 8 serv",        servings:8 },
      { label:"3-lb bag (‚âà9 c) ‚Üí 12 serv",       servings:12 }
    ],
    "Green grapes": [
      { label:"2-lb bag (‚âà6 c) ‚Üí 8 serv",        servings:8 },
      { label:"3-lb bag (‚âà9 c) ‚Üí 12 serv",       servings:12 }
    ],
    "Cherries": [
      { label:"2-lb bag sweet (‚âà6 c pitted) ‚Üí 8 serv", servings:8 },
      { label:"Frozen dark sweet 12 oz (‚âà2 c) ‚Üí 3 serv",         servings:3 },
      { label:"Frozen tart 12 oz (‚âà2 c) ‚Üí 3 serv",               servings:3 }
    ],
    "Cranberries": [
      { label:"12-oz bag fresh (‚âà3 c) ‚Üí 6 serv", servings:6 }
    ],
    "Guava": [
      { label:"1-lb bag small (‚âà6‚Äì8) ‚Üí 4 serv",  servings:4 },
      { label:"Loose medium ‚Üí 1 serv each",      servings:1 }
    ],
    "Pomegranate": [
      { label:"Whole large (‚âà2 c arils) ‚Üí 4 serv",      servings:4 },
      { label:"Fresh arils cup 8 oz (‚âà1¬Ω c) ‚Üí 3 serv",  servings:3 }
    ],
    "Figs": [
      { label:"1-lb tray (‚âà8‚Äì10 med) ‚Üí 5 serv",  servings:5 }
    ],
    "Plums": [
      { label:"2-lb bag (‚âà10‚Äì12 small) ‚Üí 10 serv", servings:10 }
    ],
    "Passionfruit": [
      { label:"1-lb tray (‚âà8‚Äì10) ‚Üí 4 serv",      servings:4 }
    ],
    "Mulberries": [
      { label:"6-oz clamshell (‚âà1 c) ‚Üí 2 serv",  servings:2 },
      { label:"12-oz clamshell (‚âà2 c) ‚Üí 4 serv", servings:4 },
      { label:"Frozen 12 oz (‚âà2¬Ω c) ‚Üí 5 serv",   servings:5 }
    ],
    "Prickly pear": [
      { label:"2-lb tray (‚âà8‚Äì10 fruits) ‚Üí 8 serv", servings:8 },
      { label:"Loose medium ‚Üí 1 serv each",        servings:1 }
    ],
    "Lychee": [
      { label:"1-lb bag (‚âà20‚Äì24) ‚Üí 3 serv",      servings:3 }
    ],
    
    // üçä CITRUS
    "Oranges": [
      { label:"3-lb bag (‚âà8‚Äì10) ‚Üí 16 serv",      servings:16 },
      { label:"Loose medium ‚Üí 2 serv each",      servings:2 }
    ],
    "Mandarins": [
      { label:"3-lb bag (‚âà18‚Äì20) ‚Üí 18 serv",     servings:18 }
    ],
    "Tangerines": [
      { label:"3-lb bag (‚âà12‚Äì16) ‚Üí 12 serv",     servings:12 }
    ],
    "Clementines": [
      { label:"3-lb bag (‚âà18‚Äì20) ‚Üí 18 serv",     servings:18 }
    ],
    "Lemons": [
      { label:"2-lb bag (‚âà8‚Äì10) ‚Üí 16 serv",      servings:16 },
      { label:"Loose medium ‚Üí 2 serv each",      servings:2 }
    ],
    "Limes": [
      { label:"2-lb bag (‚âà12‚Äì14) ‚Üí 24 serv",     servings:24 },
      { label:"Loose medium ‚Üí 2 serv each",      servings:2 }
    ],
    "Pink grapefruit": [
      { label:"5-lb bag (‚âà6‚Äì8) ‚Üí 12 serv",       servings:12 },
      { label:"Loose medium ‚Üí 2 serv each",      servings:2 }
    ],
    "White grapefruit": [
      { label:"5-lb bag (‚âà6‚Äì8) ‚Üí 12 serv",       servings:12 },
      { label:"Loose medium ‚Üí 2 serv each",      servings:2 }
    ],
    "Minneola tangelos": [
      { label:"3-lb bag (‚âà8‚Äì10) ‚Üí 16 serv",      servings:16 },
      { label:"Loose medium ‚Üí 2 serv each",      servings:2 }
    ],
    "Kumquats": [
      { label:"12-oz clamshell (‚âà3 c/‚âà36‚Äì40) ‚Üí 6 serv", servings:6 }
    ],
    "Blood oranges": [
      { label:"3-lb bag (‚âà8‚Äì10) ‚Üí 16 serv",      servings:16 }
    ],
    "Pineapple": [
      { label:"Whole (‚âà4‚Äì5 c trimmed) ‚Üí 8 serv",       servings:8 },
      { label:"Fresh chunks 16 oz (‚âà2¬Ω c) ‚Üí 5 serv",   servings:5 },
      { label:"Frozen chunks 16 oz (‚âà3 c) ‚Üí 6 serv",   servings:6 }
    ],
    "Pomelos": [
      { label:"Loose large ‚Üí 2 serv each",       servings:2 }
    ],
    "Starfruit": [
      { label:"Clamshell 1 lb (‚âà4‚Äì5) ‚Üí 4 serv",  servings:4 }
    ],
    "Ugli fruit": [
      { label:"3-lb bag (‚âà6‚Äì8) ‚Üí 6 serv",        servings:6 },
      { label:"Loose ‚Üí 1 serv each",             servings:1 }
    ],
    "Buddha's hand": [
      { label:"Loose fruit (zest/segments) ‚Üí 2 serv each", servings:2 }
    ],
    
    // üçâ CAROTENOID & LYCOPENE
    "Watermelon": [
      { label:"Personal 5‚Äì7 lb (‚âà10‚Äì14 c) ‚Üí 12 serv", servings:12 },
      { label:"Pre-cut cubes 16 oz (‚âà3 c) ‚Üí 3 serv",  servings:3 }
    ],
    "Cantaloupe": [
      { label:"Whole (‚âà4‚Äì5 c) ‚Üí 4 serv",         servings:4 },
      { label:"Pre-cut cubes 16 oz (‚âà3 c) ‚Üí 3 serv", servings:3 }
    ],
    "Peaches": [
      { label:"2-lb bag (‚âà6‚Äì8 small) ‚Üí 6 serv",  servings:6 },
      { label:"Loose large ‚Üí 2 serv each",       servings:2 }
    ],
    "Nectarines": [
      { label:"2-lb bag (‚âà6‚Äì8 small) ‚Üí 6 serv",  servings:6 },
      { label:"Loose large ‚Üí 2 serv each",       servings:2 }
    ],
    "Mangoes (large)": [
      { label:"Loose large (Tommy/Haden) ‚Üí 2 serv each", servings:2 },
      { label:"Frozen chunks 16 oz (‚âà3 c) ‚Üí 6 serv",     servings:6 }
    ],
    "Mangoes (small)": [
      { label:"6-count small (Ataulfo/Honey) ‚Üí 6 serv",  servings:6 },
      { label:"Frozen chunks 12 oz (‚âà2¬º c) ‚Üí 4 serv",    servings:4 }
    ],
    "Papaya": [
      { label:"Medium 2‚Äì3 lb (‚âà3‚Äì4 c) ‚Üí 3 serv", servings:3 },
      { label:"Large 4‚Äì5 lb (‚âà6‚Äì7 c) ‚Üí 6 serv",  servings:6 }
    ],
    "Apricots": [
      { label:"1-lb tray (‚âà8‚Äì10 small) ‚Üí 4 serv", servings:4 }
    ],
    "Cherry/Grape tomatoes": [
      { label:"Grape 10-oz clamshell (‚âà2¬Ω c) ‚Üí 5 serv", servings:5 },
      { label:"Cherry 16-oz clamshell (‚âà4 c) ‚Üí 8 serv", servings:8 }
    ],
    "Persimmons": [
      { label:"Fuyu 2-lb tray (‚âà6‚Äì8) ‚Üí 6 serv",  servings:6 }
    ],
    "Galia melon": [
      { label:"Whole (‚âà4‚Äì5 c) ‚Üí 4 serv",         servings:4 },
      { label:"Pre-cut 16 oz (‚âà3 c) ‚Üí 3 serv",   servings:3 }
    ],
    "Canary melon": [
      { label:"Whole (‚âà4‚Äì5 c) ‚Üí 4 serv",         servings:4 },
      { label:"Pre-cut 16 oz (‚âà3 c) ‚Üí 3 serv",   servings:3 }
    ],
    "Jackfruit": [
      { label:"Fresh pods 12 oz (‚âà2¬Ω c) ‚Üí 3 serv",      servings:3 },
      { label:"Fresh cut slab 1 lb (‚âà3 c pods) ‚Üí 4 serv", servings:4 }
    ],
    "Mamey sapote": [
      { label:"Loose (‚âà2‚Äì3 c flesh) ‚Üí 4 serv",   servings:4 }
    ],
    "Nance": [
      { label:"Fresh 12 oz (‚âà2 c) ‚Üí 4 serv",     servings:4 }
    ],
    "Horned melon": [
      { label:"Loose medium (kiwano) ‚Üí 2 serv each", servings:2 }
    ],
    
    // üçå OTHER FRUITS
    "Bananas": [
      { label:"Bunch 6-count ‚Üí 7 serv",                          servings:7 },
      { label:"Mini (Ni√±o) 1-lb bunch (‚âà8‚Äì10) ‚Üí 8 serv",         servings:8 }
    ],
    "Red apples": [
      { label:"3-lb bag (‚âà8‚Äì10 large) ‚Üí 16 serv", servings:16 },
      { label:"Loose large ‚Üí 2 serv each",        servings:2 }
    ],
    "Green apples": [
      { label:"3-lb bag (‚âà8‚Äì10 large) ‚Üí 16 serv", servings:16 },
      { label:"Loose large ‚Üí 2 serv each",        servings:2 }
    ],
    "Yellow apples": [
      { label:"3-lb bag (‚âà8‚Äì10 large) ‚Üí 16 serv", servings:16 },
      { label:"Loose large ‚Üí 2 serv each",        servings:2 }
    ],
    "Avocados": [
      { label:"4-count bag (med) ‚Üí 8 serv",       servings:8 },
      { label:"Loose large ‚Üí 2 serv each",        servings:2 }
    ],
    "Pears": [
      { label:"3-lb bag (‚âà8‚Äì10) ‚Üí 12 serv",       servings:12 },
      { label:"Loose large ‚Üí 2 serv each",        servings:2 }
    ],
    "Kiwi": [
      { label:"2-lb bag (‚âà12‚Äì14) ‚Üí 12 serv",      servings:12 },
      { label:"Clamshell 1 lb (‚âà7‚Äì8) ‚Üí 7 serv",   servings:7 }
    ],
    "Coconut": [
      { label:"Whole brown (‚âà2‚Äì3 c flesh + 1‚Äì1¬Ω c water) ‚Üí 10 serv", servings:10 },
      { label:"Fresh chunks cup 8 oz (‚âà1¬Ω c) ‚Üí 6 serv",              servings:6 }
    ],
    "Honeydew melon": [
      { label:"Whole (‚âà4‚Äì5 c) ‚Üí 4 serv",         servings:4 },
      { label:"Pre-cut 16 oz (‚âà3 c) ‚Üí 3 serv",   servings:3 }
    ],
    "Dates": [
      { label:"Medjool 12-oz box (‚âà16‚Äì18) ‚Üí 8 serv", servings:8 }
    ],
    "Plantains": [
      { label:"Loose medium ‚Üí 2 serv each",      servings:2 },
      { label:"3-count bag ‚Üí 6 serv",            servings:6 }
    ],
    "Dragonfruit (pitaya)": [
      { label:"Loose medium ‚Üí 2 serv each",      servings:2 },
      { label:"2-count pack ‚Üí 4 serv",           servings:4 }
    ],
    "Tamarind": [
      { label:"Fresh pods 1-lb tray (‚âà1¬Ω c pulp) ‚Üí 6 serv", servings:6 }
    ],
    "Pawpaws": [
      { label:"Fresh 2-lb box (‚âà6‚Äì8) ‚Üí 6 serv",  servings:6 },
      { label:"Pulp tub 16 oz (‚âà2 c) ‚Üí 4 serv",  servings:4 }
    ],
    "Soursop/Guanabana": [
      { label:"Fresh cut piece 2 lb (‚âà3‚Äì4 c pulp) ‚Üí 6 serv", servings:6 },
      { label:"Pulp tub 16 oz (‚âà2 c) ‚Üí 4 serv",              servings:4 }
    ],
    "Asian pears": [
      { label:"3-lb bag (‚âà8‚Äì10) ‚Üí 12 serv",      servings:12 },
      { label:"Loose large ‚Üí 2 serv each",       servings:2 }
    ],


    // ‚îÄ‚îÄ PROTEINS: grocery formats ‚Üí app servings (match PROTEINS order) ‚îÄ‚îÄ
    
    // ü´ò LEGUMES & PULSES  (serving = 1/4 cup cooked unless noted)
    "Black beans": [
      { label:"Canned 15.5 oz (drained ‚âà 1¬Ω c) ‚Üí 6 serv", servings:6 },
      { label:"Dried 1 lb (‚âà 6 c cooked) ‚Üí 24 serv", servings:24 },
      { label:"Dried 8 oz (‚âà 3 c cooked) ‚Üí 12 serv", servings:12 }
    ],
    "Pinto beans": [
      { label:"Canned 15.5 oz (drained ‚âà 1¬Ω c) ‚Üí 6 serv", servings:6 },
      { label:"Dried 1 lb (‚âà 6 c cooked) ‚Üí 24 serv", servings:24 },
      { label:"Dried 8 oz (‚âà 3 c cooked) ‚Üí 12 serv", servings:12 }
    ],
    "Kidney beans": [
      { label:"Canned 15.5 oz (drained ‚âà 1¬Ω c) ‚Üí 6 serv", servings:6 },
      { label:"Dried 1 lb (‚âà 6 c cooked) ‚Üí 24 serv", servings:24 },
      { label:"Dried 8 oz (‚âà 3 c cooked) ‚Üí 12 serv", servings:12 }
    ],
    "Chickpeas/Garbanzo beans": [
      { label:"Canned 15.5 oz (drained ‚âà 1¬Ω c) ‚Üí 6 serv", servings:6 },
      { label:"Dried 1 lb (‚âà 6 c cooked) ‚Üí 24 serv", servings:24 },
      { label:"Dried 8 oz (‚âà 3 c cooked) ‚Üí 12 serv", servings:12 }
    ],
    "Navy beans": [
      { label:"Canned 15.5 oz ‚Üí 6 serv", servings:6 },
      { label:"Dried 1 lb ‚Üí 24 serv", servings:24 },
      { label:"Dried 8 oz ‚Üí 12 serv", servings:12 }
    ],
    "Brown lentils": [
      { label:"Dried 1 lb (‚âà 6 c cooked) ‚Üí 24 serv", servings:24 },
      { label:"Dried 8 oz (‚âà 3 c cooked) ‚Üí 12 serv", servings:12 },
      { label:"Canned 15 oz (‚âà 1¬Ω c) ‚Üí 6 serv", servings:6 }
    ],
    "Red lentils": [
      { label:"Dried 1 lb (‚âà 6 c cooked) ‚Üí 24 serv", servings:24 },
      { label:"Dried 8 oz (‚âà 3 c cooked) ‚Üí 12 serv", servings:12 },
      { label:"Canned 15 oz (‚âà 1¬Ω c) ‚Üí 6 serv", servings:6 }
    ],
    "Green lentils": [
      { label:"Dried 1 lb (‚âà 6 c cooked) ‚Üí 24 serv", servings:24 },
      { label:"Dried 8 oz (‚âà 3 c cooked) ‚Üí 12 serv", servings:12 },
      { label:"Canned 15 oz (‚âà 1¬Ω c) ‚Üí 6 serv", servings:6 }
    ],
    "Yellow split peas": [
      { label:"Dried 1 lb (‚âà 6 c cooked) ‚Üí 24 serv", servings:24 },
      { label:"Dried 8 oz (‚âà 3 c cooked) ‚Üí 12 serv", servings:12 }
    ],
    "Green split peas": [
      { label:"Dried 1 lb (‚âà 6 c cooked) ‚Üí 24 serv", servings:24 },
      { label:"Dried 8 oz (‚âà 3 c cooked) ‚Üí 12 serv", servings:12 }
    ],
    "Peanuts": [
      { label:"Roasted/shelled 16 oz (‚âà 3 c) ‚Üí 12 serv", servings:12 },
      { label:"Roasted/shelled 8 oz (‚âà 1¬Ω c) ‚Üí 6 serv", servings:6 },
      { label:"Peanut butter 16 oz jar (‚âà 32 Tbsp) ‚Üí 16 serv", servings:16 },
      { label:"Peanut butter 12 oz jar (‚âà 24 Tbsp) ‚Üí 12 serv", servings:12 }
    ],
    "Lima/Butter beans": [
      { label:"Canned 15.5 oz ‚Üí 6 serv", servings:6 },
      { label:"Dried 1 lb ‚Üí 24 serv", servings:24 },
      { label:"Dried 8 oz ‚Üí 12 serv", servings:12 }
    ],
    "Black-eyed peas": [
      { label:"Canned 15.5 oz ‚Üí 6 serv", servings:6 },
      { label:"Dried 1 lb ‚Üí 24 serv", servings:24 },
      { label:"Dried 8 oz ‚Üí 12 serv", servings:12 }
    ],
    "Fava beans": [
      { label:"Dried 1 lb ‚Üí 24 serv", servings:24 },
      { label:"Dried 8 oz ‚Üí 12 serv", servings:12 },
      { label:"Canned 15 oz ‚Üí 6 serv", servings:6 }
    ],
    "Mung beans": [
      { label:"Dried 1 lb ‚Üí 24 serv", servings:24 },
      { label:"Dried 8 oz ‚Üí 12 serv", servings:12 }
    ],
    "Adzuki beans": [
      { label:"Dried 1 lb ‚Üí 24 serv", servings:24 },
      { label:"Dried 8 oz ‚Üí 12 serv", servings:12 },
      { label:"Canned 15 oz ‚Üí 6 serv", servings:6 }
    ],
    
    // üß± COMPLETE PROTEINS
    "Soft/Firm tofu": [
      // soft
      { label:"Shelf-stable soft 12.3 oz (‚âà 1¬Ω c) ‚Üí 3 serv", servings:3 },
      { label:"Refrigerated soft 14 oz (‚âà 1¬æ c) ‚Üí 3 serv", servings:3 },
      // firm
      { label:"Firm block 14 oz (‚âà 1¬æ c) ‚Üí 3 serv", servings:3 },
      { label:"Firm block 16 oz (‚âà 2 c) ‚Üí 4 serv", servings:4 },
      { label:"Pre-cubed firm 12 oz (‚âà 1¬Ω c) ‚Üí 3 serv", servings:3 }
    ],
    "Tempeh": [
      { label:"8 oz slab (‚âà 1 c) ‚Üí 4 serv", servings:4 },
      { label:"12 oz slab (‚âà 1¬Ω c) ‚Üí 6 serv", servings:6 }
    ],
    "Edamame": [
      { label:"Frozen 12 oz (‚âà 2¬Ω c shelled) ‚Üí 5 serv", servings:5 },
      { label:"Frozen 16 oz (‚âà 3¬º c) ‚Üí 6 serv", servings:6 },
      { label:"Fresh shelled 8 oz (‚âà 1¬æ c) ‚Üí 3 serv", servings:3 }
    ],
    "Hemp hearts": [
      { label:"8 oz bag ‚Üí ~11 serv", servings:11 },
      { label:"16 oz bag ‚Üí ~22 serv", servings:22 }
    ],
    "Quinoa": [
      { label:"Dry 1 lb (‚âà 2¬Ω c dry ‚Üí ~7¬Ω c cooked) ‚Üí 15 serv", servings:15 },
      { label:"Dry 12 oz (‚âà 1¬æ c dry ‚Üí ~5¬º c cooked) ‚Üí 10 serv", servings:10 },
      { label:"Cooked pouch 8.5 oz (‚âà 1¬Ω‚Äì1¬æ c) ‚Üí 3 serv", servings:3 }
    ],
    "Amaranth": [
      { label:"Dry 1 lb (‚âà 2¬º c dry ‚Üí ~5¬Ω‚Äì6 c cooked) ‚Üí 11‚Äì12 serv", servings:12 },
      { label:"Dry 12 oz (‚âà 1‚Öî c dry ‚Üí ~4‚Äì4¬Ω c cooked) ‚Üí 8‚Äì9 serv", servings:9 }
    ],
    "Buckwheat/Soba": [
      { label:"Buckwheat groats 1 lb (‚âà 2¬Ω c dry ‚Üí ~6‚Äì7 c cooked) ‚Üí 12‚Äì14 serv", servings:14 },
      { label:"Groats 12 oz (‚âà 1¬æ c dry ‚Üí ~4¬Ω‚Äì5 c cooked) ‚Üí 9‚Äì10 serv", servings:10 },
      { label:"100% buckwheat soba 9‚Äì10 oz pack (‚âà 6‚Äì7 c cooked) ‚Üí 12‚Äì14 serv", servings:14 }
    ],
    "Chia seeds": [
      { label:"12 oz bag ‚Üí ~12‚Äì13 serv", servings:13 },
      { label:"24 oz bag ‚Üí ~24‚Äì26 serv", servings:26 }
    ],
    "Wild rice": [
      { label:"Dry 1 lb (‚âà 2¬Ω c dry ‚Üí ~7‚Äì8 c cooked) ‚Üí 15‚Äì16 serv", servings:16 },
      { label:"Dry 12 oz (‚âà 1¬æ c dry ‚Üí ~5‚Äì5¬Ω c cooked) ‚Üí 10‚Äì11 serv", servings:11 },
      { label:"Cooked pouch 8.5 oz (‚âà 1¬Ω‚Äì1¬æ c) ‚Üí 3 serv", servings:3 }
    ],
    "Textured Vegetable Protein (TVP)": [
      { label:"8 oz bag (‚âà 2¬æ‚Äì3 c dry) ‚Üí ~14‚Äì16 serv", servings:16 },
      { label:"12 oz bag (‚âà 4‚Äì4¬º c dry) ‚Üí ~21‚Äì22 serv", servings:22 },
      { label:"1 lb bag (‚âà 5‚Öì‚Äì5¬Ω c dry) ‚Üí ~28‚Äì29 serv", servings:29 }
    ],
    "Seitan/Wheat-based meat": [
      { label:"8 oz log/tub ‚Üí 4 serv", servings:4 },
      { label:"16 oz tub ‚Üí 8 serv", servings:8 }
    ],
    "Eggs/Egg substitute": [
      { label:"Dozen eggs (12 ct) ‚Üí 12 serv", servings:12 },
      { label:"Half-dozen (6 ct) ‚Üí 6 serv", servings:6 },
      { label:"Liquid egg substitute 16 oz carton (¬º c ‚âà 1 egg) ‚Üí 8 serv", servings:8 }
    ],
    "Chicken/Turkey/Plant poultry": [
      { label:"Chicken/turkey fresh or frozen 8 oz pack ‚Üí 4 serv", servings:4 },
      { label:"Chicken/turkey 12 oz pack ‚Üí 6 serv", servings:6 },
      { label:"Plant-based poultry (strips/nuggets) 8‚Äì10 oz ‚Üí 4‚Äì5 serv", servings:5 }
    ],
    "Cow meat/Plant beef": [
      { label:"Ground/strips 8 oz ‚Üí 4 serv", servings:4 },
      { label:"Ground/strips 12 oz ‚Üí 6 serv", servings:6 },
      { label:"Plant-based ground 12 oz ‚Üí 6 serv", servings:6 }
    ],
    "Pig meat/Plant pork": [
      { label:"Chops/strips 8 oz ‚Üí 4 serv", servings:4 },
      { label:"Strips/ground 12 oz ‚Üí 6 serv", servings:6 }
    ],
    "Lamb/Goat/Other meats": [
      { label:"Fresh 8 oz ‚Üí 4 serv", servings:4 },
      { label:"Fresh 12 oz ‚Üí 6 serv", servings:6 }
    ],
    
    // ü•õ DAIRY (animal- and plant-based; fortification note shown elsewhere)
    "Soy milk": [
      { label:"Gallon 128 oz (16 c) ‚Üí 16 serv", servings:16 },
      { label:"Half gallon 64 oz (8 c) ‚Üí 8 serv", servings:8 },
      { label:"Quart 32 oz (4 c) ‚Üí 4 serv", servings:4 },
      { label:"Pint 16 oz (2 c) ‚Üí 2 serv", servings:2 }
    ],
    "Oat milk": [
      { label:"Gallon 128 oz (16 c) ‚Üí 16 serv", servings:16 },
      { label:"Half gallon 64 oz (8 c) ‚Üí 8 serv", servings:8 },
      { label:"Quart 32 oz (4 c) ‚Üí 4 serv", servings:4 },
      { label:"Pint 16 oz (2 c) ‚Üí 2 serv", servings:2 }
    ],
    "Hazelnut milk": [
      { label:"Half gallon 64 oz (8 c) ‚Üí 8 serv", servings:8 },
      { label:"Quart 32 oz (4 c) ‚Üí 4 serv", servings:4 }
    ],
    "Almond milk": [
      { label:"Gallon 128 oz (16 c) ‚Üí 16 serv", servings:16 },
      { label:"Half gallon 64 oz (8 c) ‚Üí 8 serv", servings:8 },
      { label:"Quart 32 oz (4 c) ‚Üí 4 serv", servings:4 },
      { label:"Pint 16 oz (2 c) ‚Üí 2 serv", servings:2 }
    ],
    "Cashew milk": [
      { label:"Half gallon 64 oz (8 c) ‚Üí 8 serv", servings:8 },
      { label:"Quart 32 oz (4 c) ‚Üí 4 serv", servings:4 }
    ],
    "Hemp/Flax milk": [
      { label:"Half gallon 64 oz (8 c) ‚Üí 8 serv", servings:8 },
      { label:"Quart 32 oz (4 c) ‚Üí 4 serv", servings:4 }
    ],
    "Rice milk": [
      { label:"Half gallon 64 oz (8 c) ‚Üí 8 serv", servings:8 },
      { label:"Quart 32 oz (4 c) ‚Üí 4 serv", servings:4 }
    ],
    "Coconut milk": [
      { label:"Half gallon 64 oz (8 c) ‚Üí 8 serv", servings:8 },
      { label:"Quart 32 oz (4 c) ‚Üí 4 serv", servings:4 }
    ],
    "Lactated cow/goat/sheep milk": [
      { label:"Gallon 128 oz (16 c) ‚Üí 16 serv", servings:16 },
      { label:"Half gallon 64 oz (8 c) ‚Üí 8 serv", servings:8 },
      { label:"Quart 32 oz (4 c) ‚Üí 4 serv", servings:4 },
      { label:"Pint 16 oz (2 c) ‚Üí 2 serv", servings:2 }
    ],
    "Yogurt/Kefir": [
      { label:"Individual cup 6 oz (~¬æ c) ‚Üí 1 serv", servings:1 },
      { label:"Large tub 24 oz (~3 c) ‚Üí 4 serv", servings:4 },
      { label:"Quart tub 32 oz (~4 c) ‚Üí 5 serv", servings:5 },
      { label:"Kefir quart 32 oz (~4 c) ‚Üí 5 serv", servings:5 }
    ],
    "Cream cheese": [
      { label:"8 oz brick/tub (~1 c) ‚Üí 4 serv", servings:4 },
      { label:"12 oz tub (~1¬Ω c) ‚Üí 6 serv", servings:6 }
    ],
    "Soft aged/crumbly cheese": [
      { label:"Feta 8 oz tub (~1¬Ω c crumbled) ‚Üí 6 serv", servings:6 },
      { label:"Goat cheese log 8 oz (~1 c) ‚Üí 4 serv", servings:4 },
      { label:"Blue cheese 4 oz wedge (~¬æ c crumbled) ‚Üí 3 serv", servings:3 },
      { label:"Blue cheese 8 oz wedge (~1¬Ω c crumbled) ‚Üí 6 serv", servings:6 }
    ],
    "Sour cream": [
      { label:"8 oz tub (~1 c) ‚Üí 4 serv", servings:4 },
      { label:"16 oz tub (~2 c) ‚Üí 8 serv", servings:8 }
    ],
    "Cottage cheese": [
      { label:"16 oz tub (~2 c) ‚Üí 8 serv", servings:8 },
      { label:"24 oz tub (~3 c) ‚Üí 12 serv", servings:12 }
    ],
    "Hard cheeses": [
      { label:"8 oz block (~8 serv)", servings:8 },
      { label:"16 oz block (~16 serv)", servings:16 },
      { label:"Shredded 8 oz bag (~2 c shredded) ‚Üí 8 serv", servings:8 },
      { label:"Shredded 16 oz bag (~4 c shredded) ‚Üí 16 serv", servings:16 }
    ],
    "Soft fresh cheeses": [
      { label:"Ricotta 15 oz (~2 c) ‚Üí 4 serv", servings:4 },
      { label:"Ricotta 32 oz (~4 c) ‚Üí 8 serv", servings:8 },
      { label:"Fresh mozzarella 8 oz (~1 c) ‚Üí 2 serv", servings:2 },
      { label:"Fresh mozzarella 16 oz (~2 c) ‚Üí 4 serv", servings:4 }
    ],
    
    // üêü SEAFOOD  (serving = 1/4 cup cooked ‚âà 2 oz unless noted)
    "Salmon": [
      { label:"Fresh filet 1 lb (16 oz) ‚Üí 8 serv", servings:8 },
      { label:"Frozen 12 oz pack ‚Üí 6 serv", servings:6 },
      { label:"Canned 5 oz ‚Üí ‚âà 2 serv", servings:2 }
    ],
    "Tuna": [
      { label:"Fresh filet 1 lb ‚Üí 8 serv", servings:8 },
      { label:"Frozen 12 oz ‚Üí 6 serv", servings:6 },
      { label:"Canned 5 oz ‚Üí ‚âà 2 serv", servings:2 }
    ],
    "Tilapia": [
      { label:"Fresh filet 1 lb ‚Üí 8 serv", servings:8 },
      { label:"Frozen 2 lb bag ‚Üí 16 serv", servings:16 }
    ],
    "Shrimp": [
      { label:"Frozen 12 oz bag (6‚Äì7 large ‚âà 2 oz) ‚Üí ‚âà 6 serv", servings:6 },
      { label:"Frozen 1 lb bag ‚Üí ‚âà 8 serv", servings:8 }
    ],
    "Cod/Pollock": [
      { label:"Fresh cod or pollock filet 1 lb ‚Üí 8 serv", servings:8 },
      { label:"Frozen 12 oz ‚Üí 6 serv", servings:6 },
      { label:"Frozen 2 lb bag ‚Üí 16 serv", servings:16 }
    ],
    "Trout": [
      { label:"Fresh filet 1 lb ‚Üí 8 serv", servings:8 },
      { label:"Frozen 12 oz ‚Üí 6 serv", servings:6 }
    ],
    "Crab": [
      { label:"Fresh lump 8 oz tub ‚Üí 4 serv", servings:4 },
      { label:"Canned 6 oz ‚Üí 3 serv", servings:3 }
    ],
    "Clams": [
      { label:"Fresh 1 lb in shell (¬º c = 6‚Äì8 clams) ‚Üí ~8 serv", servings:8 },
      { label:"Canned 10 oz ‚Üí ‚âà 5 serv", servings:5 }
    ],
    "Oysters": [
      { label:"Fresh 1 lb in shell (¬º c = 4‚Äì5 oysters) ‚Üí ~8 serv", servings:8 },
      { label:"Canned 8 oz ‚Üí ‚âà 4 serv", servings:4 }
    ],
    "Scallops": [
      { label:"Fresh 1 lb (¬º c = 3 large) ‚Üí ‚âà 16 serv", servings:16 },
      { label:"Frozen 12 oz ‚Üí ‚âà 12 serv", servings:12 }
    ],
    "Crawfish": [
      { label:"Fresh/frozen 1 lb tail meat ‚Üí ‚âà 8 serv", servings:8 }
    ],
    "Mussels": [
      { label:"Fresh 1 lb in shell (¬º c = 5‚Äì6 mussels) ‚Üí ‚âà 8 serv", servings:8 },
      { label:"Frozen bag 2 lb ‚Üí ‚âà 16 serv", servings:16 }
    ],
    "Sardines/Anchovies": [
      { label:"Sardines canned 3.75 oz tin ‚Üí ‚âà 2 serv", servings:2 },
      { label:"Anchovies canned 2 oz tin (drained) ‚Üí ‚âà 2 serv", servings:2 }
    ],
    "Mackerel": [
      { label:"Fresh filet 1 lb ‚Üí 8 serv", servings:8 },
      { label:"Canned 4 oz ‚Üí ‚âà 2 serv", servings:2 }
    ],
    "Lobster": [
      { label:"Fresh 1 lb tail ‚Üí ‚âà 8 serv", servings:8 }
    ],
    "Catfish": [
      { label:"Fresh filet 1 lb ‚Üí 8 serv", servings:8 },
      { label:"Frozen 12 oz ‚Üí 6 serv", servings:6 }
    ],


    // ‚îÄ‚îÄ ROOTS / SHOOTS / SEEDS: grocery formats ‚Üí app servings ‚îÄ‚îÄ
    // Serving rule (grains): 1/2 cup cooked = 1 serving (unless noted)
    // Serving rule (roots/tubers): 1/2 cup cooked ‚âà 1 serving (unless noted)
    // Serving rule (oils/fats): 1/2 Tbsp = 1 serving
    
    // =============== GRASSES (follow MASTER order) ===============
    "Wheat": [
      { label:"Wheat berries 5 lb (~22 c raw ‚Üí ~55 c cooked) ‚Üí 110 serv", servings:110 },
      { label:"Wheat berries 1 lb (~4.4 c cooked) ‚Üí ~9 serv", servings:9 },
      { label:"Wheat bread loaf (20 slices; 2 = 1/2 c eq) ‚Üí 10 serv", servings:10 },
      { label:"Whheat tortillas 10 ct (1 = 1/2 c eq) ‚Üí 10 serv", servings:10 }
    ],
    "Pasta": [
      { label:"Dry 16 oz box (‚âà 32 oz cooked ‚âà ~16 c 1/2-c eq) ‚Üí 16 serv", servings:16 },
      { label:"Dry 12 oz box ‚Üí 12 serv", servings:12 },
      { label:"Dry 8 oz box ‚Üí 8 serv", servings:8 },
      { label:"Ready pasta pouch 8.5 oz (‚âà ~2 c cooked) ‚Üí 4 serv", servings:4 }
    ],
    "White rice": [
      { label:"Long Grain 25 lb ‚Üí ~150 c cooked ‚Üí ~300 serv", servings:300 },
      { label:"Parboiled 12 lb ‚Üí ~72 c cooked ‚Üí ~144 serv", servings:144 },
      { label:"Extra Long 80 oz (‚âà5 lb) ‚Üí ~30 c cooked ‚Üí ~60 serv", servings:60 }
    ],
    "Brown rice": [
      { label:"5 lb bag ‚Üí ~30 c cooked ‚Üí ~60 serv", servings:60 },
      { label:"2 lb bag ‚Üí ~12 c cooked ‚Üí ~24 serv", servings:24 },
      { label:"Microwave pouch ~8.5 oz (‚âà ~2 c cooked) ‚Üí 4 serv", servings:4 }
    ],
    "Cornmeal": [
      { label:"Cornmeal 80 oz (5 lb ‚âà 20 c meal ‚Üí ~50 c cooked) ‚Üí ~100 serv", servings:100 },
      { label:"Cornmeal 24 oz (‚âà6 c meal ‚Üí ~15 c cooked) ‚Üí ~30 serv", servings:30 },
      { label:"Corn tortillas 10 ct (1 = 1/2 c eq) ‚Üí 10 serv", servings:10 },
      { label:"Prepared polenta 1 lb (‚âà ~12.5 c cooked 1/2-c eq) ‚Üí ~25 serv", servings:25 }
    ],
    "Oats": [
      { label:"Rolled 18 oz tub (~4 c dry ‚Üí ~9 c cooked) ‚Üí 18 serv", servings:18 },
      { label:"Steel-cut 24 oz (~6 c dry ‚Üí ~18 c cooked) ‚Üí 36 serv", servings:36 },
      { label:"Quick oats 42 oz (~11 c dry ‚Üí ~22 c cooked) ‚Üí 44 serv", servings:44 }
    ],
    "Couscous": [
      { label:"Dry 16 oz (‚âà ~6 c cooked) ‚Üí ~12 serv", servings:12 },
      { label:"Dry 10 oz (‚âà ~4 c cooked) ‚Üí ~8 serv", servings:8 },
      { label:"Instant cup/pouch (‚âà ~2 c cooked) ‚Üí 4 serv", servings:4 }
    ],
    "Quinoa": [
      { label:"Dry 1 lb (‚âà 2¬Ω c dry ‚Üí ~7¬Ω c cooked) ‚Üí 15 serv", servings:15 },
      { label:"Dry 12 oz (‚âà 1¬æ c dry ‚Üí ~5¬º c cooked) ‚Üí 10 serv", servings:10 },
      { label:"Cooked pouch 8.5 oz (‚âà 1¬Ω‚Äì1¬æ c) ‚Üí 3 serv", servings:3 }
    ],
    "Millet": [
      { label:"1 lb ‚Üí ~6 c cooked ‚Üí 12 serv", servings:12 },
      { label:"2 lb ‚Üí ~12 c cooked ‚Üí 24 serv", servings:24 }
    ],
    "Amaranth": [
      { label:"1 lb (‚âà ~6 c cooked) ‚Üí 12 serv", servings:12 },
      { label:"2 lb (‚âà ~12 c cooked) ‚Üí 24 serv", servings:24 }
    ],
    "Buckwheat/Soba": [
      { label:"Groats 1 lb (‚Üí ~5 c cooked) ‚Üí 10 serv", servings:10 },
      { label:"Groats 2 lb (‚Üí ~10 c cooked) ‚Üí 20 serv", servings:20 },
      { label:"100% buckwheat soba 9‚Äì10 oz pack (‚âà 6‚Äì7 c cooked) ‚Üí 12‚Äì14 serv", servings:14 }
    ],
    "Wild rice/Manoomin": [
      { label:"Wild rice 1 lb (‚Üí ~5 c cooked) ‚Üí 10 serv", servings:10 },
      { label:"Wild rice 2 lb (‚Üí ~10 c cooked) ‚Üí 20 serv", servings:20 },
      { label:"Wild-rice blend 1 lb (‚Üí ~5 c cooked) ‚Üí 10 serv", servings:10 }
    ],
    "Rye": [
      { label:"Rye berries 1 lb (‚Üí ~5 c cooked) ‚Üí 10 serv", servings:10 },
      { label:"Rye/pumpernickel loaf (20 slices; 2 = 1/2 c eq) ‚Üí 10 serv", servings:10 }
    ],
    "Kamut": [
      { label:"Berries 1 lb (‚Üí ~5 c cooked) ‚Üí 10 serv", servings:10 },
      { label:"Berries 2 lb (‚Üí ~10 c cooked) ‚Üí 20 serv", servings:20 }
    ],
    "Barley": [
      { label:"Pearl 1 lb (‚Üí ~5 c cooked) ‚Üí 10 serv", servings:10 },
      { label:"Pearl 2 lb (‚Üí ~10 c cooked) ‚Üí 20 serv", servings:20 },
      { label:"Hulled 1 lb (lower yield) ‚Üí ~8 serv", servings:8 }
    ],
    "Sorghum": [
      { label:"1 lb (‚Üí ~5 c cooked) ‚Üí 10 serv", servings:10 },
      { label:"2 lb (‚Üí ~10 c cooked) ‚Üí 20 serv", servings:20 }
    ],
    
    // =============== ROOTS & TUBERS (follow MASTER order) ===============
    "Russet potatoes": [
      { label:"5 lb bag fresh ‚Üí ~30 serv", servings:30 },
      { label:"10 lb bag fresh ‚Üí ~60 serv", servings:60 },
      { label:"Frozen fries 20 oz ‚Üí ~10 serv", servings:10 },
      { label:"Frozen hash browns 22 oz ‚Üí ~11 serv", servings:11 }
    ],
    "Red potatoes": [
      { label:"3 lb bag fresh ‚Üí ~18 serv", servings:18 },
      { label:"5 lb bag fresh ‚Üí ~30 serv", servings:30 },
      { label:"1.5 lb steam pack ‚Üí ~9 serv", servings:9 }
    ],
    "Yukon Gold potatoes": [
      { label:"3 lb bag fresh ‚Üí ~18 serv", servings:18 },
      { label:"5 lb bag fresh ‚Üí ~30 serv", servings:30 },
      { label:"1.5 lb steam pack ‚Üí ~9 serv", servings:9 }
    ],
    "Fingerling potatoes": [
      { label:"1.5 lb bag fresh ‚Üí ~12 serv", servings:12 },
      { label:"3 lb bag fresh ‚Üí ~24 serv", servings:24 }
    ],
    "Purple potatoes": [
      { label:"3 lb bag fresh ‚Üí ~18 serv", servings:18 },
      { label:"5 lb bag fresh ‚Üí ~30 serv", servings:30 }
    ],
    "Sweet potatoes": [
      { label:"3 lb bag fresh ‚Üí ~18 serv", servings:18 },
      { label:"5 lb bag fresh ‚Üí ~30 serv", servings:30 },
      { label:"Frozen fries 20 oz ‚Üí ~10 serv", servings:10 },
      { label:"Frozen cubes 20 oz ‚Üí ~10 serv", servings:10 }
    ],
    "Yams": [
      { label:"3 lb bag fresh ‚Üí ~18 serv", servings:18 },
      { label:"5 lb bag fresh ‚Üí ~30 serv", servings:30 }
    ],
    "Plantains": [
      { label:"2 lb bag fresh (~5‚Äì6) ‚Üí ~8 serv", servings:8 },
      { label:"Frozen sliced 20 oz ‚Üí ~10 serv", servings:10 }
    ],
    "Cassava (yuca/tapioca/fufu)": [
      { label:"Frozen peeled chunks 5 lb ‚Üí ~30 serv", servings:30 },
      { label:"Fresh root 2 lb ‚Üí ~6 serv", servings:6 }
    ],
    "Taro": [
      { label:"Fresh root 2 lb ‚Üí ~6 serv", servings:6 },
      { label:"Frozen peeled chunks 20 oz ‚Üí ~10 serv", servings:10 }
    ],
    "Rutabaga": [
      { label:"Medium (~1 lb) ‚Üí ~3 serv", servings:3 },
      { label:"3 lb bag ‚Üí ~9 serv", servings:9 }
    ],
    "Turnips": [
      { label:"Medium (~1/2 lb) ‚Üí ~2 serv", servings:2 },
      { label:"3 lb bag ‚Üí ~12 serv", servings:12 }
    ],
    "Parsnips": [
      { label:"1 lb bag fresh ‚Üí ~6 serv", servings:6 },
      { label:"2 lb bag fresh ‚Üí ~12 serv", servings:12 }
    ],
    "White/Golden sweet potatoes (boniato)": [
      { label:"3 lb bag fresh ‚Üí ~18 serv", servings:18 },
      { label:"5 lb bag fresh ‚Üí ~30 serv", servings:30 }
    ],
    "Purple sweet potatoes/Ube": [
      { label:"3 lb bag fresh ‚Üí ~18 serv", servings:18 },
      { label:"5 lb bag fresh ‚Üí ~30 serv", servings:30 },
      { label:"Frozen purple fries 20 oz ‚Üí ~10 serv", servings:10 }
    ],
    "Arrowroot": [
      { label:"Arrowroot powder 16 oz (‚âà 32 Tbsp) ‚Üí 32 serv", servings:32 },
      { label:"Arrowroot powder 8 oz (‚âà 16 Tbsp) ‚Üí 16 serv", servings:16 }
    ],
    
    // =============== NUTS & SEEDS (follow MASTER order) ===============
    "Almonds": [
      { label:"8 oz shelled ‚Üí ~22 serv", servings:22 },
      { label:"16 oz shelled ‚Üí ~44 serv", servings:44 },
      { label:"Almond butter 12 oz jar ‚Üí ~12 serv", servings:12 },
      { label:"Almond butter 16 oz jar ‚Üí ~16 serv", servings:16 }
    ],
    "Walnuts": [
      { label:"8 oz halves ‚Üí ~22 serv", servings:22 },
      { label:"16 oz halves ‚Üí ~44 serv", servings:44 },
      { label:"In-shell 16 oz ‚Üí ~36 serv", servings:36 }
    ],
    "Pecans": [
      { label:"8 oz halves ‚Üí ~22 serv", servings:22 },
      { label:"16 oz halves ‚Üí ~44 serv", servings:44 }
    ],
    "Cashews": [
      { label:"8 oz bag ‚Üí ~22 serv", servings:22 },
      { label:"16 oz bag ‚Üí ~44 serv", servings:44 },
      { label:"Cashew butter 12 oz jar ‚Üí ~12 serv", servings:12 }
    ],
    "Pistachios": [
      { label:"8 oz in-shell ‚Üí ~16 serv", servings:16 },
      { label:"16 oz in-shell ‚Üí ~32 serv", servings:32 },
      { label:"8 oz shelled ‚Üí ~22 serv", servings:22 }
    ],
    "Sunflower seeds": [
      { label:"8 oz shelled ‚Üí ~30 serv", servings:30 },
      { label:"16 oz shelled ‚Üí ~60 serv", servings:60 },
      { label:"Sunflower butter 12 oz ‚Üí ~12 serv", servings:12 }
    ],
    "Sesame seeds/Tahini": [
      { label:"Sesame seeds 8 oz ‚Üí ~23 serv", servings:23 },
      { label:"Sesame seeds 16 oz ‚Üí ~46 serv", servings:46 },
      { label:"Tahini 15 oz jar ‚Üí ~15 serv", servings:15 }
    ],
    "Pumpkin seeds (pepitas)": [
      { label:"8 oz bag ‚Üí ~24 serv", servings:24 },
      { label:"16 oz bag ‚Üí ~48 serv", servings:48 }
    ],
    "Flax seeds": [
      { label:"16 oz bag (whole/ground) ‚Üí ~32 serv", servings:32 },
      { label:"24 oz bag ‚Üí ~48 serv", servings:48 }
    ],
    "Chia seeds": [
      { label:"12 oz bag ‚Üí ~24 serv", servings:24 },
      { label:"16 oz bag ‚Üí ~32 serv", servings:32 }
    ],
    "Hemp hearts/seeds": [
      { label:"8 oz bag ‚Üí ~16 serv", servings:16 },
      { label:"16 oz bag ‚Üí ~32 serv", servings:32 }
    ],
    "Hazelnuts": [
      { label:"8 oz shelled ‚Üí ~22 serv", servings:22 },
      { label:"16 oz shelled ‚Üí ~44 serv", servings:44 },
      { label:"Hazelnut butter 13 oz (unsweetened) ‚Üí ~13 serv", servings:13 }
    ],
    "Macadamia nuts": [
      { label:"8 oz bag ‚Üí ~22 serv", servings:22 },
      { label:"12 oz bag ‚Üí ~33 serv", servings:33 }
    ],
    "Brazil nuts": [
      { label:"8 oz bag (‚âà2 nuts/serv) ‚Üí ~24 serv", servings:24 },
      { label:"16 oz bag ‚Üí ~48 serv", servings:48 }
    ],
    "Pine nuts": [
      { label:"8 oz bag ‚Üí ~22 serv", servings:22 },
      { label:"16 oz bag ‚Üí ~44 serv", servings:44 }
    ],
    "Poppy seeds": [
      { label:"8 oz bag ‚Üí ~16 serv", servings:16 },
      { label:"16 oz bag ‚Üí ~32 serv", servings:32 }
    ],
    
    // =============== OILS & FATS (follow MASTER order; 1/2 Tbsp = 1 serv) ===============
    "Olive oil": [
      { label:"8 oz bottle ‚Üí ~47 serv", servings:47 },
      { label:"16 oz bottle ‚Üí ~94 serv", servings:94 },
      { label:"25 oz bottle ‚Üí ~147 serv", servings:147 },
      { label:"32 oz bottle ‚Üí ~189 serv", servings:189 }
    ],
    "Soy oil": [
      { label:"16 oz bottle ‚Üí ~94 serv", servings:94 },
      { label:"32 oz bottle ‚Üí ~189 serv", servings:189 }
    ],
    "Canola oil": [
      { label:"16 oz bottle ‚Üí ~94 serv", servings:94 },
      { label:"32 oz bottle ‚Üí ~189 serv", servings:189 }
    ],
    "Coconut oil": [
      { label:"14 oz jar ‚Üí ~82 serv", servings:82 },
      { label:"16 oz jar ‚Üí ~94 serv", servings:94 }
    ],
    "Peanut oil": [
      { label:"16 oz bottle ‚Üí ~94 serv", servings:94 },
      { label:"32 oz bottle ‚Üí ~189 serv", servings:189 }
    ],
    "Avocado oil": [
      { label:"8 oz bottle ‚Üí ~47 serv", servings:47 },
      { label:"16 oz bottle ‚Üí ~94 serv", servings:94 }
    ],
    "Sesame oil": [
      { label:"5 oz bottle ‚Üí ~29 serv", servings:29 },
      { label:"8 oz bottle ‚Üí ~47 serv", servings:47 }
    ],
    "Flaxseed oil": [
      { label:"8 oz bottle ‚Üí ~47 serv", servings:47 },
      { label:"16 oz bottle ‚Üí ~94 serv", servings:94 }
    ],
    "Walnut oil": [
      { label:"8 oz bottle ‚Üí ~47 serv", servings:47 }
    ],
    "Sunflower oil": [
      { label:"16 oz bottle ‚Üí ~94 serv", servings:94 },
      { label:"32 oz bottle ‚Üí ~189 serv", servings:189 }
    ],
    "Safflower oil": [
      { label:"16 oz bottle ‚Üí ~94 serv", servings:94 },
      { label:"32 oz bottle ‚Üí ~189 serv", servings:189 }
    ],
    "Grapeseed oil": [
      { label:"16 oz bottle ‚Üí ~94 serv", servings:94 },
      { label:"24 oz bottle ‚Üí ~141 serv", servings:141 }
    ],
    "Palm oil": [
      { label:"16 oz jar ‚Üí ~94 serv", servings:94 }
    ],
    "Butter/Plant butter": [
      { label:"1 stick (4 oz) ‚Üí ~16 serv", servings:16 },
      { label:"1 lb box (4 sticks) ‚Üí ~64 serv", servings:64 },
      { label:"8 oz tub (spreadable) ‚Üí ~32 serv", servings:32 }
    ],
    "Lard/Tallow (traditional use)": [
      { label:"1 lb tub ‚Üí ~64 serv", servings:64 },
      { label:"8 oz tub ‚Üí ~32 serv", servings:32 }
    ],
    "Ghee/Plant ghee": [
      { label:"7 oz jar ‚Üí ~41 serv", servings:41 },
      { label:"13 oz jar ‚Üí ~76 serv", servings:76 }
    ],

    // ‚îÄ‚îÄ FLAVOR & HEALTH ENHANCERS: dropdown choices with servings ‚îÄ‚îÄ
      // =============== üå∂Ô∏è FLAVOR VEGETABLES (serving defaults: ~¬º cup chopped, or noted) ===============
      "Garlic": [
        { label:"Bulb (~10 cloves) ‚Üí ~20 serv (¬Ω clove)", servings:20 },
        { label:"Bag 3 bulbs ‚Üí ~60 serv", servings:60 },
        { label:"Peeled cloves 8 oz ‚Üí ~90 serv", servings:90 }
      ],
      "Yellow onions": [
        { label:"1 medium ‚Üí ~4 serv (¬º c chopped)", servings:4 },
        { label:"Bag 3 lb (7‚Äì8 onions) ‚Üí ~30 serv", servings:30 },
        { label:"Bag 5 lb ‚Üí ~50 serv", servings:50 }
      ],
      "Red onions": [
        { label:"1 medium ‚Üí ~4 serv", servings:4 },
        { label:"Bag 2 lb (~4 onions) ‚Üí ~16 serv", servings:16 }
      ],
      "White onions": [
        { label:"1 medium ‚Üí ~4 serv", servings:4 },
        { label:"Bag 3 lb ‚Üí ~30 serv", servings:30 }
      ],
      "Pearl onions": [
        { label:"Fresh 10 oz bag ‚Üí ~30 serv (3‚Äì4 pearls)", servings:30 },
        { label:"Frozen 14 oz bag ‚Üí ~40 serv", servings:40 }
      ],
      "Shallots": [
        { label:"1 bulb (~40 g) ‚Üí ~2 serv (2 Tbsp)", servings:2 },
        { label:"8 oz bag (~6‚Äì7 bulbs) ‚Üí ~14 serv", servings:14 }
      ],
      "Green onions/Scallions": [
        { label:"Bunch (~6 stalks) ‚Üí ~3 serv (¬º c ‚âà 2 stalks)", servings:3 },
        { label:"3-bunch bundle ‚Üí ~9 serv", servings:9 }
      ],
      "Chives": [
        { label:"Fresh bunch (~1 oz) ‚Üí ~8 serv (2 Tbsp)", servings:8 },
        { label:"Clamshell (~0.75 oz) ‚Üí ~6 serv", servings:6 }
      ],
      "Jalape√±os/Chipotle peppers": [
        { label:"Fresh jalape√±o (1 pepper) ‚Üí 1 serv (¬º c sliced)", servings:1 },
        { label:"1 lb fresh (~8‚Äì10 peppers) ‚Üí ~9 serv", servings:9 },
        { label:"Dried chipotle 2 oz (~20 pieces) ‚Üí ~20 serv (1 pc)", servings:20 }
      ],
      "Serrano/Seco chiles": [
        { label:"Fresh serrano (1 pepper) ‚Üí 1 serv (2 Tbsp sliced)", servings:1 },
        { label:"8 oz fresh (~10‚Äì12) ‚Üí ~11 serv", servings:11 },
        { label:"Dried serrano (seco) 1 oz (~40) ‚Üí ~40 serv (1 pc)", servings:40 }
      ],
      "Habaneros": [
        { label:"Fresh 1 pepper ‚Üí 2 serv (1 Tbsp minced)", servings:2 },
        { label:"6 oz pack (~8‚Äì9) ‚Üí ~17 serv", servings:17 }
      ],
      "Poblano/Ancho chiles": [
        { label:"Fresh poblano 1 pepper ‚Üí ~2 serv (¬º c chopped)", servings:2 },
        { label:"Dried ancho 3 oz (~12 peppers) ‚Üí ~24 serv", servings:24 }
      ],
      "Mirasol/Guajillo chiles": [
        { label:"Dried guajillo 2 oz (~10 peppers) ‚Üí ~20 serv (¬Ω pepper)", servings:20 },
        { label:"Dried guajillo 4 oz (~20 peppers) ‚Üí ~40 serv", servings:40 }
      ],
      "Chile de √Årbol": [
        { label:"Fresh 1 pepper ‚Üí 1 serv", servings:1 },
        { label:"Dried 1 oz (~50 peppers) ‚Üí ~50 serv (1 pc)", servings:50 }
      ],
      "Cayenne chiles": [
        { label:"Fresh 1 pepper ‚Üí ~2‚Äì3 serv", servings:3 },
        { label:"8 oz fresh (~20 peppers) ‚Üí ~50 serv (¬Ω pepper)", servings:50 }
      ],
      "Anaheim/Colorado chilies": [
        { label:"Fresh Anaheim 1 pepper ‚Üí ~2 serv (¬º c chopped)", servings:2 },
        { label:"1 lb fresh (~5‚Äì6 peppers) ‚Üí ~11 serv", servings:11 }
      ],
    
      // =============== üåø FRESH HERBS (serving = 2 Tbsp fresh unless noted) ===============
      "Curly parsley": [
        { label:"Bunch (~2 oz) ‚Üí ~16 serv", servings:16 }
      ],
      "Flat-leaf/Italian parsley": [
        { label:"Bunch (~2 oz) ‚Üí ~16 serv", servings:16 }
      ],
      "Cilantro/Coriander leaf": [
        { label:"Bunch (~2 oz) ‚Üí ~16 serv", servings:16 }
      ],
      "Peppermint": [
        { label:"Clamshell (~1 oz) ‚Üí ~8 serv", servings:8 }
      ],
      "Spearmint": [
        { label:"Clamshell (~1 oz) ‚Üí ~8 serv", servings:8 }
      ],
      "Lemon balm": [
        { label:"Clamshell (~1 oz) ‚Üí ~8 serv", servings:8 }
      ],
      "Sweet basil": [
        { label:"Bunch (~2 oz) ‚Üí ~8 serv", servings:8 }
      ],
      "Thai basil": [
        { label:"Bunch (~2 oz) ‚Üí ~8 serv", servings:8 }
      ],
      "Holy basil/Tulsi": [
        { label:"Bunch (~2 oz) ‚Üí ~8 serv", servings:8 }
      ],
      "Sage": [
        { label:"Clamshell (~1 oz) ‚Üí ~8 serv", servings:8 }
      ],
      "Oregano": [
        { label:"Clamshell (~1 oz) ‚Üí ~8 serv", servings:8 }
      ],
      "Thyme": [
        { label:"Clamshell (~1 oz) ‚Üí ~8 serv", servings:8 }
      ],
      "Dill": [
        { label:"Bunch (~1 oz) ‚Üí ~8 serv", servings:8 }
      ],
      "Epazote": [
        { label:"Bunch (~1 oz) ‚Üí ~8 serv", servings:8 }
      ],
      "Lemongrass": [
        { label:"1 stalk (~40 g) ‚Üí ~2 serv (chopped)", servings:2 },
        { label:"Bundle (3 stalks) ‚Üí ~6 serv", servings:6 }
      ],
      "Chervil": [
        { label:"Clamshell (~1 oz) ‚Üí ~8 serv", servings:8 }
      ],
    
      // =============== üßÇ DRIED SPICES (typical ¬Ω‚Äì1 tsp per use unless noted) ===============
      "Rosemary": [
        { label:"Jar 1 oz ‚Üí ~55 serv", servings:55 }
      ],
      "Bay leaf": [
        { label:"Jar 0.2 oz (~15 leaves) ‚Üí 15 serv", servings:15 }
      ],
      "Marjoram": [
        { label:"Jar 0.5 oz ‚Üí ~25 serv", servings:25 }
      ],
      "Paprika": [
        { label:"Jar 1.8 oz ‚Üí ~100 serv (¬Ω tsp)", servings:100 }
      ],
      "Fennel seeds": [
        { label:"Jar 1.5 oz ‚Üí ~85 serv (¬Ω tsp)", servings:85 }
      ],
      "Tarragon": [
        { label:"Jar 0.7 oz ‚Üí ~35 serv", servings:35 }
      ],
      "Allspice": [
        { label:"Jar 1.5 oz ‚Üí ~85 serv (¬Ω tsp)", servings:85 }
      ],
      "Pepper": [
        { label:"Black pepper (ground) 2 oz ‚Üí ~110 serv (¬Ω tsp)", servings:110 },
        { label:"Whole peppercorns 2 oz ‚Üí ~110 serv", servings:110 }
      ],
      "Cumin": [
        { label:"Jar 1.5 oz ‚Üí ~85 serv (¬Ω tsp)", servings:85 }
      ],
      "Coriander seed": [
        { label:"Jar 1.5 oz ‚Üí ~85 serv (¬Ω tsp)", servings:85 }
      ],
      "Turmeric": [
        { label:"Jar 1.5 oz ‚Üí ~85 serv (¬Ω tsp)", servings:85 }
      ],
      "Ginger": [
        { label:"Ground 1.5 oz ‚Üí ~85 serv (¬Ω tsp)", servings:85 }
      ],
      "Cinnamon": [
        { label:"Jar 2 oz ‚Üí ~110 serv (¬Ω tsp)", servings:110 }
      ],
      "Nutmeg": [
        { label:"Ground 1.5 oz ‚Üí ~250 serv (¬º tsp)", servings:250 }
      ],
      "Cloves": [
        { label:"Ground 1.5 oz ‚Üí ~250 serv (‚Öõ tsp)", servings:250 }
      ],
      "Cardamom": [
        { label:"Ground 1.5 oz ‚Üí ~170 serv (¬º tsp)", servings:170 }
      ],
    
      // =============== üçØ BOOSTERS (serving = 1 tsp unless noted) ===============
      "Honey": [
        { label:"Bottle 12 oz ‚Üí ~85 serv", servings:85 }
      ],
      "Maple syrup": [
        { label:"Bottle 8 oz ‚Üí ~48 serv", servings:48 }
      ],
      "Agave nectar": [
        { label:"Bottle 11.75 oz ‚Üí ~70 serv", servings:70 }
      ],
      "Molasses": [
        { label:"Jar 12 oz ‚Üí ~85 serv", servings:85 }
      ],
      "Kimchi/Sauerkraut": [
        { label:"Jar 16 oz ‚Üí ~16 serv (¬º c)", servings:16 }
      ],
      "Vinegars": [
        { label:"Bottle 16 oz ‚Üí ~32 serv (¬Ω Tbsp)", servings:32 }
      ],
      "Olives": [
        { label:"Jar 6 oz drained (‚âà12 Tbsp) ‚Üí ~12 serv (1 Tbsp)", servings:12 },
        { label:"Cup 4 oz sliced (‚âà8 Tbsp) ‚Üí ~8 serv", servings:8 }
      ],
      "Miso": [
        { label:"Tub 16 oz ‚Üí ~96 serv (1 tsp)", servings:96 }
      ],
      "Green tea": [
        { label:"Box 20 bags ‚Üí 20 serv", servings:20 }
      ],
      "Black tea": [
        { label:"Box 20 bags ‚Üí 20 serv", servings:20 }
      ],
      "Coffee": [
        { label:"Ground 12 oz (~340 g) ‚Üí ~68 serv (1 Tbsp/brew)", servings:68 }
      ],
      "Yerba mate": [
        { label:"Loose 8 oz ‚Üí ~32 serv (1 Tbsp/brew)", servings:32 }
      ],
      "Dark chocolate (70%+)": [
        { label:"Bar 3 oz (~12 squares) ‚Üí ~12 serv (1 square)", servings:12 }
      ],
      "Cacao nibs/Cocoa powder": [
        { label:"Cacao nibs 8 oz ‚Üí ~45 serv (1 Tbsp)", servings:45 },
        { label:"Cocoa powder 8 oz ‚Üí ~90 serv (¬Ω Tbsp)", servings:90 }
      ],
      "Dried fruits": [
        { label:"Mixed dried fruit 8 oz ‚Üí ~16 serv (¬º c)", servings:16 }
      ],
      "Herbal teas/Kombucha": [
        { label:"Herbal tea box 20 bags ‚Üí 20 serv", servings:20 },
        { label:"Kombucha 16 oz bottle ‚Üí 2 serv (8 oz)", servings:2 }
      ]
    };


    
    // Return array of { label, servings }
    function getChoicesFor(subKey, name){
      const fromSpecific = CHOICES_SPECIFIC[name];
      if (fromSpecific)
        return fromSpecific.map(x => (typeof x === "string" ? { label:x, servings:1 } : x));
    
      const fromDefault = CHOICES_DEFAULT[subKey];
      if (fromDefault)
        // FIX: keep {label, servings} objects as-is
        return fromDefault.map(x => (typeof x === "string" ? { label:x, servings:1 } : x));
    
      return [{ label: "Add 1", servings: 1 }];
    }


    // (optional helpers)
    function getFlavorList(key){ return FLAVOR_CENTER[key] || []; }
    </script>


    <script>
    const STORAGE_KEY = "fdng_state_v1";
    
    // ---------- DATA (assumes your MASTER/PROTEINS/GRAINS_ROOTS constants exist elsewhere) ----------
    const DEFAULT_SPLITS = {
      // ü•¨ Vegetables = 49 (17/12/10/10)
      vegetables: { 
        totalPerPerson: 49, 
        subs: { leafy: 17, cruciferous: 12, orange: 10, other_vegetables: 10 } 
      },
    
      // üçé Fruits = 34 (10/10/7/7)
      fruits:     { 
        totalPerPerson: 34, 
        subs: { berries: 10, citrus: 10, carotenoid_lycopene: 7, other_fruits: 7 } 
      },
    
      // üçó Proteins ‚âà45 (Complete 20 (15 active + 5 optional), Legumes 14, Dairy 10, Seafood 0‚Äì5 optional)
      // Implementation note: we‚Äôll keep a 45 total and let 'seafood' be user-switchable 0‚Äì5 later.
        proteins:   { 
          totalPerPerson: 45, 
          subs: { legumes_pulses: 14, complete: 15, dairy: 10, seafood: 5 } // base case when seafood = ON
        },

    
      // ü•£ Shoots / Roots / Seeds = 73 (21/21/21/10)
      grains:     { 
        totalPerPerson: 73, 
        subs: { grasses: 21, nuts_seeds: 10, roots_tubers: 21, oils_fats: 21 } 
      },
    
      // üåø Center picks (encouraged weekly picks, not ‚Äúservings‚Äù)
      center:     { 
        totalPerPerson: 0,  
        subs: { flavor_vegetables: 0, fresh_herbs: 0, dried_spices: 0, boosters: 0 }, 
        picks: { flavor_vegetables:3, fresh_herbs:2, dried_spices:1, boosters:1 } 
      }
    };

    
    // map for display names
    const LABELS = {
      vegetables: "Vegetables",
      fruits: "Fruits",
      proteins: "Proteins",
      grains: "Shoots / Roots / Seeds",
      center: "Flavor & Health Enhancers",
    
      leafy: "Leafy Greens",
      cruciferous: "Cruciferous & Brassicas",
      orange: "Orange Vegetables",
      other_vegetables: "Other Vegetables",   // ‚¨Ö new key
    
      berries: "Berries & Anthocyanins",
      citrus: "Citrus",
      carotenoid_lycopene: "Orange/Red Fruits",
      other_fruits: "Other Fruits",           // ‚¨Ö new key
    
      legumes_pulses: "Legumes & Pulses",
      complete: "Complete Proteins",
      dairy: "Dairy",
      seafood: "Seafood",
    
      grasses: "Grains",
      nuts_seeds: "Nuts & Seeds",
      roots_tubers: "Roots / Tubers / Starches",
      oils_fats: "Oils & Fats",
    
      flavor_vegetables: "Flavor Vegetables",
      fresh_herbs: "Fresh Herbs & Chiles",
      dried_spices: "Dried Herbs & Spices",
      boosters: "Sweeteners/Ferments/Beverages"
    };
    
    // The walkthrough order (category -> subkeys). We start at Vegetables->leafy (1.1).
    const WALK = [
      { cat:"vegetables", subs:["leafy","cruciferous","orange","other_vegetables"] },
      { cat:"fruits",     subs:["berries","citrus","carotenoid_lycopene","other_fruits"] },
      { cat:"proteins",   subs:["legumes_pulses","complete","dairy","seafood"] },
      { cat:"grains",     subs:["grasses","nuts_seeds","roots_tubers","oils_fats"] },
      { cat:"center",     subs:["flavor_vegetables","fresh_herbs","dried_spices","boosters"] }
    ];

    // ---------- STATE ----------
    const defaultState = {
      version: 2,
      householdSize: null,
      intensity: null, // 0.25 | 0.5 | 1
      protein: { willingSeafood: true }, // if false, we reallocate seafood target to legumes+complete
      progress: {},   // per subcategory servings map, e.g., { "leafy": { "Spinach": 3, ... } }
      shopping: {},   // aggregated shopping list (name -> servings)
      shoppingDetails: {}, // NEW: { subKey: { ItemName: [ "Fresh clamshell", ... ] } }
      lastSaved: null
    };
    let state = loadState();
    
    // ---------- HELPERS ----------
    function loadState(){
      const raw = localStorage.getItem(STORAGE_KEY);
      if(!raw) return structuredClone(defaultState);
      try{
        const parsed = JSON.parse(raw);
        return Object.assign(structuredClone(defaultState), parsed);
      }catch{ return structuredClone(defaultState); }
    }
    function saveState(){
      state.lastSaved = new Date().toISOString();
      localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
      document.getElementById("persistBadge").textContent = "Saved";
      renderDevState();
    }
    
    function renderDevState(){ document.getElementById("devState").textContent = JSON.stringify(state, null, 2); }
    
    // UI router
    function show(id){
      [
        "screen-home",
        "screen-household",
        "screen-next",
        "screen-intensity",
        "screen-subcat",
        "screen-shopping"   // ‚Üê add this
      ].forEach(s=>{
        const el = document.getElementById(s);
        if(el) el.classList.toggle("active", s===id);
      });
    }

    
    // Compute subcategory absolute target (FDNG-servings), scaled by household + intensity
    function subTarget(catKey, subKey){
      // Center uses "mandatory picks per week"
      if(catKey === "center"){
        const picks = DEFAULT_SPLITS.center.picks[subKey] || 0;
        const raw = picks * (state.householdSize || 1) * (state.intensity || 1);
        return Math.ceil(raw);
      }
      const cfg = DEFAULT_SPLITS[catKey];
      const total = cfg.totalPerPerson * (state.householdSize||1) * (state.intensity||1);
      const split = (catKey==="proteins" ? proteinSplitsEffective()[subKey] : cfg.subs[subKey]) || 0;
      const sumSplits = Object.values(catKey==="proteins" ? proteinSplitsEffective() : cfg.subs).reduce((a,b)=>a+b,0) || 1;
      const raw = total * (split / sumSplits);
      return Math.ceil(raw); // round up per your instruction
    }

    
    // Seafood reallocation: move seafood per-person share to legumes+complete (half/half)
    function proteinSplitsEffective(){
      // Base: legumes 14, complete 15, dairy 10, seafood 5  => total 45
      const base = { legumes_pulses: 14, complete: 15, dairy: 10, seafood: 5 };
    
      // If seafood is OFF, move all 5 servings to COMPLETE (not split with legumes)
      if (state.protein && state.protein.willingSeafood === false) {
        base.complete += base.seafood; // +5
        base.seafood = 0;
      }
      return base;
    }

    // Sum servings logged in a subcategory
    function currentServings(subKey){
      const m = state.progress?.[subKey] || {};
      return Object.values(m).reduce((a,b)=>a + Number(b||0), 0);
    }
    
    // Is this subcategory at/over its target?
    function quotaReached(catKey, subKey){
      return currentServings(subKey) >= subTarget(catKey, subKey);
    }
    
    // Have ALL subcategories met their targets?
    function allCategoriesComplete(){
      for(const {cat, subs} of WALK){
        for(const sub of subs){
          // If a sub has a positive target, require it.
          const t = subTarget(cat, sub);
          if(t > 0 && !quotaReached(cat, sub)) return false;
        }
      }
      return true;
    }

    
    // Provide arrays (fallbacks if MASTER not present)
    function getList(catKey, subKey){
      try{
        if(catKey==="vegetables") return (MASTER?.vegetables?.[subKey]) || [];
        if(catKey==="fruits")     return (MASTER?.fruits?.[subKey]) || [];
        if(catKey==="proteins"){
          if(subKey==="legumes_pulses") return PROTEINS?.legumes_pulses || [];
          if(subKey==="complete")       return PROTEINS?.complete || [];
          if(subKey==="dairy")          return PROTEINS?.dairy || [];
          if(subKey==="seafood")        return PROTEINS?.seafood || [];
        }
        if(catKey==="grains"){
          if(subKey==="grasses")      return GRAINS_ROOTS?.grasses || [];
          if(subKey==="nuts_seeds")   return GRAINS_ROOTS?.nuts_seeds || [];
          if(subKey==="roots_tubers") return GRAINS_ROOTS?.roots_tubers || [];
          if(subKey==="oils_fats")    return GRAINS_ROOTS?.oils_fats || [];
        }
        if(catKey==="center") return FLAVOR_CENTER?.[subKey] || [];
      }catch{}
      // Dummy placeholder 16 if lists missing
      return Array.from({length:16}, (_,i)=>`${LABELS[subKey]||"Item"} ${i+1}`);
    }
    
    // Aggregate shopping list from state.progress
    function recomputeShopping(){
      state.shopping = {};
      for(const [subKey, items] of Object.entries(state.progress||{})){
        for(const [name,val] of Object.entries(items||{})){
          if(!val) continue;
          state.shopping[name] = (state.shopping[name]||0) + val;
        }
      }
    }

    function renderChoiceLog(container, subKey, name){
      const list = (state.shoppingDetails[subKey] && state.shoppingDetails[subKey][name]) || [];
      container.innerHTML = list.length ? `<div class="pill" title="${list.join(' ‚Ä¢ ')}">${list.length} added</div>` : "";
    }
 
    function createItemCard({ subKey, name, options, onAdd }) {
      const el = document.createElement("div");
      el.className = "cardlet";
    
      // title
      const title = document.createElement("div");
      title.className = "food-name";
      title.textContent = name;
      el.appendChild(title);
    
      // ----- image block (works for ALL subcategories, not just veg) -----
      // figure out which high-level cat this subKey belongs to
      const catKey = SUBCAT_TO_CAT[subKey] || "";
      const imgSrc = getImgFor(catKey, subKey, name);
    
      const picWrap = document.createElement("div");
      picWrap.className = "pic";
    
      if (imgSrc) {
        // real image
        const img = document.createElement("img");
        img.src = imgSrc;
        img.alt = name;
        img.className = "pic";
        // make sure the wrapper doesn't double-size
        picWrap.replaceWith(img);
        el.appendChild(img);
      } else {
        // fallback placeholder box (dashed)
        picWrap.style.background = "#eef";
        picWrap.style.border = "1px dashed #cfd9e6";
        el.appendChild(picWrap);
      }
    
      // --- pre-queued badge (how much is already counted from splits etc.) ---
      const pre = document.createElement("div");
      const already = getQueuedServingsFor(subKey, name);
      pre.className = "pill";
      pre.style.marginTop = "-2px";
      pre.textContent = already ? `pre-queued: ${already}` : "";
      el.appendChild(pre);
    
      // dropdown
      const select = document.createElement("select");
      select.className = "qty";
      options.forEach((opt, i) => {
        const o = document.createElement("option");
        o.value = String(i);
        o.textContent = opt.label;
        select.appendChild(o);
      });
      el.appendChild(select);
    
      // (optional) hint for split-credit items
      if (SPLIT_RULES[name]) {
        const hint = document.createElement("div");
        hint.className = "dim";
        hint.style.fontSize = "12px";
        hint.textContent = "Counts partly here and partly in another section (pre-queued).";
        el.appendChild(hint);
      }
    
      // chip list (shows each added package with an √ó)
      const chipList = document.createElement("div");
      chipList.className = "added-list";
      chipList.dataset.cat  = SUBCAT_TO_CAT[subKey] || "";
      chipList.dataset.sub  = subKey;
      chipList.dataset.food = name;
      el.appendChild(chipList);
      paintAddedForCard(chipList, chipList.dataset.cat, subKey, name);

    
      // add button
      const btn = document.createElement("button");
      btn.className = "btn";
      btn.textContent = "Add";
      btn.onclick = () => {
        const idx = Number(select.value) || 0;
        const chosen = options[idx];
        // 1) Add to your serving totals (routes + split rules)
        onAdd(chosen);
    
        // 2) Record a precise entry for the chip list (quantity + label)
        const cat = SUBCAT_TO_CAT[subKey] || "";
        const entries = getEntries(cat, subKey, name);
        entries.push({ servings: Number(chosen.servings || 1), label: chosen.label || "" });
        setEntries(cat, subKey, name, entries);
    
        // 3) Repaint this card‚Äôs chips + refresh ‚Äúpre-queued‚Äù pill
        const chipListNow = el.querySelector('.added-list');
        if (chipListNow) paintAddedForCard(chipListNow, cat, subKey, name);
    
        const nowQueued = getQueuedServingsFor(subKey, name);
        pre.textContent = nowQueued ? `pre-queued: ${nowQueued}` : "";
    
        // 4) Keep quota UI in sync
        const catKey = SUBCAT_TO_CAT[subKey] || "";
        renderQuotaAndLocks(catKey, subKey);
      };
      el.appendChild(btn);
    
      return el;
    }

    
    // --- Helpers used by renderSubcategory ---------------------------------------
    
    // record which package size/label was added (per subKey + item)
    function addChoice(subKey, name, label){
      if(!state.shoppingDetails[subKey]) state.shoppingDetails[subKey] = {};
      if(!state.shoppingDetails[subKey][name]) state.shoppingDetails[subKey][name] = [];
      state.shoppingDetails[subKey][name].push(label);
      saveState();
    }
    
    // no-op fallback if your app already defines createItemCard elsewhere
    // (delete this if you already have your real card component)
    if (typeof createItemCard !== "function") {
      window.createItemCard = ({ name, options, onAdd }) => {
        const el = document.createElement("div");
        el.className = "cardlet";
        el.innerHTML = `
          <div class="food-name">${name}</div>
          <select class="qty">
            ${options.map((o,i)=>`<option value="${i}">${o.label}</option>`).join("")}
          </select>
          <button class="btn">Add</button>
        `;
        const sel = el.querySelector("select");
        el.querySelector("button").onclick = () => {
          const o = options[Number(sel.value)] || { label:"Add 1", servings:1 };
          onAdd(o);
        };
        return el;
      };
    }

    
    // Map a subKey to its category
    const SUBCAT_TO_CAT = {
      leafy: "vegetables",
      cruciferous: "vegetables",
      orange: "vegetables",
      other_vegetables: "vegetables",
    
      berries: "fruits",
      citrus: "fruits",
      carotenoid_lycopene: "fruits",
      other_fruits: "fruits",
    
      legumes_pulses: "proteins",
      complete: "proteins",
      dairy: "proteins",
      seafood: "proteins",
    
      grasses: "grains",
      nuts_seeds: "grains",
      roots_tubers: "grains",
      oils_fats: "grains",
    
      flavor_vegetables: "center",
      fresh_herbs: "center",
      dried_spices: "center",
      boosters: "center"
    };

    
    // Add servings to state.progress for a specific subKey/name
    function addServingsTo(subKey, name, servings){
      if(!state.progress[subKey]) state.progress[subKey] = {};
      state.progress[subKey][name] = (Number(state.progress[subKey][name] || 0) + servings);
    }
    
    // Update the quota pill and grey-out cards if quota hit
    function renderQuotaAndLocks(catKey, subKey){
      const target  = subTarget(catKey, subKey);
      const current = currentServings(subKey);
      const pill    = document.getElementById("quotaPill");
    
      // ‚úÖ Show true count and any overage; no clamping
      const over = Math.max(0, current - target);
      pill.textContent = over
        ? `${current} / ${target} chosen (+${over} over)`
        : `${current} / ${target} chosen`;
    
      const grid = document.getElementById("grid");
      const hit  = quotaReached(catKey, subKey); // true at/over the target
    
      // Visual lock only ‚Äî keep everything interactive
      Array.from(grid.children).forEach(card => {
        const btn = card.querySelector("button.btn");
        const sel = card.querySelector("select.qty");
    
        // Gray out the card for guidance, but do NOT disable controls
        card.classList.toggle("locked", !!hit);
    
        if (btn) {
          btn.disabled = false;
          btn.setAttribute("aria-disabled", "false");
          // optional visual cue when over quota
          btn.classList.toggle("ghost", !!hit);
        }
        if (sel) {
          sel.disabled = false;
          sel.setAttribute("aria-disabled", "false");
        }
      });
    }

    // === Added chips UI ===
    
    // OPTIONAL: adapt these to your real data getters/setters.
    // Expected shape for fine-grained entries: state.added[cat][sub][name] = [{servings:2,label:"Head 8 oz"}, ...]
    function ensureAddedState(){ window.state = window.state || {}; state.added = state.added || {}; }
    function getEntries(cat, sub, name){
      ensureAddedState();
      const a = state.added?.[cat]?.[sub]?.[name];
      if (Array.isArray(a) && a.length) return a;
    
      // Fallback: if you only track a total number somewhere, show a single synthetic chip.
      const total = (typeof getTotalForItem === 'function') ? getTotalForItem(cat, sub, name) : 0;
      return total ? [{ servings: total, label: "" }] : [];
    }
    function setEntries(cat, sub, name, entries){
      ensureAddedState();
      state.added[cat] = state.added[cat] || {};
      state.added[cat][sub] = state.added[cat][sub] || {};
      state.added[cat][sub][name] = entries;
      if (window.saveState) saveState();
    }
    
    function truncateLabel(txt, max=16){
      const s = String(txt || "").trim();
      return s.length <= max ? s : s.slice(0, max - 1) + "‚Ä¶";
    }
    
    // Repaint every card in the current subcategory
    function paintAddedChipsForSubcat(cat, sub){
      const grid = document.getElementById('grid');
      if (!grid) return;
      Array.from(grid.querySelectorAll('.added-list')).forEach(el => {
        const name = el.dataset.food;
        paintAddedForCard(el, cat, sub, name);
      });
      // keep the quota pill in sync
      renderQuotaAndLocks(cat, sub);
    }
    
    // Paint one card's chips
    function paintAddedForCard(containerEl, cat, sub, name){
      const entries = getEntries(cat, sub, name);
      if (!entries.length){ containerEl.innerHTML = ""; return; }
    
      // Group by label: count how many identical labels exist
      const groups = new Map(); // label -> { count }
      for (const e of entries){
        const key = String(e.label || "").trim();
        const g = groups.get(key) || { count: 0 };
        g.count += 1;
        groups.set(key, g);
      }
    
      containerEl.innerHTML = Array.from(groups.entries()).map(([label, g]) => {
        const labelPart = label ? ` ${truncateLabel(label, 18)}` : "";
        // We display "N {label‚Ä¶}" where N is how many of that package
        return `<span class="chip"
                  data-action="remove-one-by-label"
                  data-cat="${cat}"
                  data-sub="${sub}"
                  data-food="${name}"
                  data-label="${label.replace(/"/g, '&quot;')}">
                  <strong>${g.count}</strong>${labelPart}
                  <span class="x" title="Remove one">√ó</span>
                </span>`;
      }).join('');
    }

    
    // Delegated handler for clicking the little √ó
    document.addEventListener('click', (e) => {
      const x = e.target.closest('.chip .x');
      if (!x) return;
    
      const chip = x.closest('.chip');
      const cat   = chip.dataset.cat;
      const sub   = chip.dataset.sub;
      const name  = chip.dataset.food;
      const label = (chip.dataset.label ?? "").trim();
    
      // Remove exactly ONE entry that matches this label
      const entries = getEntries(cat, sub, name);
      const i = entries.findIndex(e => String(e.label || "").trim() === label);
      if (i === -1) return; // nothing to remove (race condition)
    
      const removed = entries.splice(i, 1)[0];
      setEntries(cat, sub, name, entries);
    
      // Subtract that one entry‚Äôs servings from your true totals
      const delta = -(Number(removed?.servings || 0));
      if (typeof adjustServings === 'function'){
        adjustServings({ cat, sub, name, delta });
      } else if (typeof addServings === 'function'){
        addServings({ cat, sub, name, delta });
      } else if (typeof decrementItem === 'function'){
        decrementItem(cat, sub, name, -delta);
      }
      if (window.saveState) saveState();
    
      // Repaint this card + quota pill
      const container = document.querySelector(
        `.added-list[data-cat="${cat}"][data-sub="${sub}"][data-food="${CSS.escape(name)}"]`
      );
      if (container) paintAddedForCard(container, cat, sub, name);
    
      // Also refresh the pre-queued badge and quota pill
      const nowQueued = getQueuedServingsFor(sub, name);
      const card = container?.closest('.cardlet');
      const pre = card?.querySelector('.pill');
      if (pre) pre.textContent = nowQueued ? `pre-queued: ${nowQueued}` : "";
    
      renderQuotaAndLocks(cat, sub);
    });

    
    
    // Find previous subcategory in WALK (for Back)
    function findPrevSubcategory(catKey, subKey){
      for(const step of WALK){
        if(step.cat !== catKey) continue;
        const idx = step.subs.indexOf(subKey);
        if(idx === -1) break;
        if(idx - 1 >= 0) return { cat: catKey, sub: step.subs[idx-1] };
        const curIdx = WALK.findIndex(w => w.cat === catKey);
        if(curIdx > 0){
          const prev = WALK[curIdx-1];
          return { cat: prev.cat, sub: prev.subs[prev.subs.length-1] };
        }
      }
      return null;
    }
    
    // Reset just this subcategory‚Äôs picks
    function resetSubcategory(subKey){
      if(state.progress?.[subKey]){
        delete state.progress[subKey];
        saveState();
      }
    }
    
    // ---------------------------------------------------------------------------
    // ---------------- Subcategory renderer (wires onAdd -> routeAndAdd) --------
    function renderSubcategory(catKey, subKey){
        
        // keep context for things like the modal hero
        window.CURRENT_CTX = window.CURRENT_CTX || { cat:null, sub:null };
        CURRENT_CTX.cat = catKey;
        CURRENT_CTX.sub = subKey;

      // grid
      const grid = document.getElementById("grid");
      grid.innerHTML = "";
    
      const items = getList(catKey, subKey);
      items.forEach(name => {
        const options = getChoicesFor(subKey, name);
        const card = createItemCard({
          subKey,
          name,
          options,
          onAdd: (opt) => {
            routeAndAdd(name, opt, subKey);
            recomputeShopping();
            renderQuotaAndLocks(catKey, subKey);
        
            // NEW: also refresh the Next button state after each add
            if (typeof updateNextBtnUI === "function") {
              updateNextBtnUI(catKey, subKey);
            }
          }
        });
        grid.appendChild(card);
      });
    
      // initial quota/locks
      renderQuotaAndLocks(catKey, subKey);

      // paint chip lists for all cards in this subcategory
      paintAddedChipsForSubcat(catKey, subKey);
    
      // ensure we're on the right screen
      show("screen-subcat");
    }




       
    // -------- Split/route helpers (use state.progress + state.shoppingDetails) --------
    
    // Map dotted keys like "fruits.other" ‚Üí actual subKey we store in state.progress.
    // You already store fruits subkeys as just "berries","citrus","carotenoid_lycopene","other".
    function normalizeTargetKey(target){
      // Allow "fruits.other" style but store as plain "other"
      const dot = target.indexOf(".");
      if (dot !== -1) {
        const tail = target.slice(dot + 1);
        return tail || target; // e.g., "other"
      }
      return target;
    }

    function adjustServings({ cat, sub, name, delta }){
      const key = normalizeTargetKey(sub);
      state.progress[key] = state.progress[key] || {};
      const cur = Number(state.progress[key][name] || 0) + Number(delta || 0);
      if (cur > 0) {
        state.progress[key][name] = cur;
      } else {
        delete state.progress[key][name];
      }
      recomputeShopping();
      saveState();
    }
    
    // Add servings into your canonical progress structure and keep choice label trail
    function addToProgress(subKey, itemName, servings, choiceLabel){
      if (!servings) return;
      const key = normalizeTargetKey(subKey);
      state.progress[key] ??= {};
      state.progress[key][itemName] = (state.progress[key][itemName] || 0) + servings;
    
      // reuse your existing purchase-log pattern
      if(!state.shoppingDetails[key]) state.shoppingDetails[key] = {};
      (state.shoppingDetails[key][itemName] ??= []).push(
        `${choiceLabel} (+${Number(servings.toFixed(2))} serv${servings!==1 ? "s":""})`
      );
    }
    
    // Split-aware add: call this from your per-card "Add" button
    function routeAndAdd(itemName, choiceObj, currentSubKey, { forceToCurrent = false } = {}){
      const baseServings = Number(choiceObj.servings) || 0;
      if (!baseServings) return;
    
      const rule = (!forceToCurrent && SPLIT_RULES[itemName]) || null;
    
      if (rule && rule.length){
        const totalWeight = rule.reduce((s, r) => s + (r.weight || 0), 0) || 1;
        rule.forEach(({ target, weight }) => {
          const alloc = baseServings * ((weight || 0) / totalWeight);
          addToProgress(target, itemName, alloc, choiceObj.label);
        });
      } else {
        addToProgress(currentSubKey, itemName, baseServings, choiceObj.label);
      }
    
      recomputeShopping();
      saveState();
    }
    
    // For UI: show ‚Äúpre-queued‚Äù when something was credited from another screen
    function getQueuedServingsFor(subKey, itemName){
      const key = normalizeTargetKey(subKey);
      const v = state.progress?.[key]?.[itemName] || 0;
      return Number(v.toFixed(2));
    }

    // ---- Completion helpers ----
    function isSubComplete(catKey, subKey){
      const have = Math.ceil(Object.values(state.progress[subKey] || {}).reduce((a,b)=>a+b,0));
      return have >= subTarget(catKey, subKey);
    }
    function allCategoriesComplete(){
      return WALK.every(({cat, subs}) => subs.every(sk => isSubComplete(cat, sk)));
    }
    
    // ---- Render shopping list screen ----
    function renderShoppingList(){
      // ensure aggregate is up to date
      recomputeShopping();
    
      const totalItems = Object.keys(state.shopping).length;
      const totalServs = Object.values(state.shopping).reduce((a,b)=>a+b,0);
      document.getElementById("shoppingSummary").textContent =
        `${totalItems} items ‚Ä¢ ${Math.ceil(totalServs)} total servings`;
    
      // build a table with optional choice trails
      const wrap = document.getElementById("shoppingTableWrap");
      const rows = [];
    
      // group by subKey for nicer display
      const bySub = {};
      for(const [subKey, items] of Object.entries(state.shoppingDetails || {})){
        for(const [name, logs] of Object.entries(items || {})){
          const total = (state.progress?.[subKey]?.[name]) || 0;
          (bySub[subKey] ??= []).push({
            name, total,
            notes: logs.join(" ‚Ä¢ ")
          });
        }
      }
    
      // fallback: if shoppingDetails missing for some items, still show them
      for(const [name, total] of Object.entries(state.shopping)){
        let found = false;
        for(const group of Object.values(bySub)){ if(group.some(r=>r.name===name)){ found = true; break; } }
        if(!found){
          (bySub["_Other"] ??= []).push({ name, total, notes:"" });
        }
      }
    
      const subOrder = [
        "leafy","cruciferous","orange","other",
        "berries","citrus","carotenoid_lycopene","other",
        "legumes_pulses","complete","dairy","seafood",
        "grasses","nuts_seeds","roots_tubers","oils_fats",
        "flavor_vegetables","fresh_herbs","dried_spices","boosters",
        "_Other"
      ];
    
      let html = `<table style="width:100%; border-collapse:collapse;">
        <thead>
          <tr>
            <th style="text-align:left; padding:8px; border-bottom:1px solid var(--border);">Item</th>
            <th style="text-align:right; padding:8px; border-bottom:1px solid var(--border);">Servings</th>
            <th style="text-align:left; padding:8px; border-bottom:1px solid var(--border);">Choices Added</th>
          </tr>
        </thead>
        <tbody>`;
    
      subOrder.forEach(sk => {
        if(!bySub[sk] || !bySub[sk].length) return;
        const label = LABELS[sk] || (sk === "_Other" ? "Other" : sk);
        html += `<tr><td colspan="3" style="padding:10px 8px; font-weight:700; background:#f9fbff; border-top:1px solid var(--border);">${label}</td></tr>`;
        bySub[sk]
          .sort((a,b)=> a.name.localeCompare(b.name))
          .forEach(({name,total,notes})=>{
            html += `<tr>
              <td style="padding:8px; border-bottom:1px solid var(--border);">${name}</td>
              <td style="padding:8px; text-align:right; border-bottom:1px solid var(--border);">${Number(total.toFixed(2))}</td>
              <td style="padding:8px; border-bottom:1px solid var(--border); color:var(--muted);">${notes || ""}</td>
            </tr>`;
          });
      });
    
      html += `</tbody></table>`;
      wrap.innerHTML = html;
    
      // wire actions
      document.getElementById("copyListBtn").onclick = () => copyShoppingToClipboard();
      document.getElementById("downloadCsvBtn").onclick = () => downloadShoppingCsv();
      document.getElementById("printBtn").onclick = () => window.print();
      document.getElementById("backToEditBtn").onclick = () => show("screen-subcat");
    
      show("screen-shopping");
    }
    
    // ---- Utilities: copy & CSV ----
    function copyShoppingToClipboard(){
      let lines = ["Item,Servings,Choices Added"];
      // flatten same order as table:
      const order = [];
      for(const [subKey, items] of Object.entries(state.shoppingDetails || {})){
        for(const [name, logs] of Object.entries(items || {})){
          order.push([subKey, name, (state.progress?.[subKey]?.[name]) || 0, logs.join(" ‚Ä¢ ")]);
        }
      }
      // add any items missing in details
      for(const [name, total] of Object.entries(state.shopping)){
        if(!order.some(x=>x[1]===name)) order.push(["_Other", name, total, ""]);
      }
      order.forEach(([_, name, total, notes])=>{
        lines.push(`"${name.replace(/"/g,'""')}",${Number(total.toFixed(2))},"${(notes||"").replace(/"/g,'""')}"`);
      });
      const text = lines.join("\n");
      navigator.clipboard.writeText(text).then(()=>{
        alert("Shopping list copied to clipboard (CSV format).");
      });
    }
    
    function downloadShoppingCsv(){
      let lines = ["Item,Servings,Choices Added"];
      const seen = new Set();
      for(const [subKey, items] of Object.entries(state.shoppingDetails || {})){
        for(const [name, logs] of Object.entries(items || {})){
          const total = (state.progress?.[subKey]?.[name]) || 0;
          const notes = logs.join(" ‚Ä¢ ");
          lines.push(`"${name.replace(/"/g,'""')}",${Number(total.toFixed(2))},"${notes.replace(/"/g,'""')}"`);
          seen.add(name);
        }
      }
      for(const [name, total] of Object.entries(state.shopping)){
        if(seen.has(name)) continue;
        lines.push(`"${name.replace(/"/g,'""')}",${Number(total.toFixed(2))},""`);
      }
      const blob = new Blob([lines.join("\n")], { type:"text/csv" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url; a.download = "FDNG-shopping-list.csv";
      document.body.appendChild(a); a.click(); a.remove();
      URL.revokeObjectURL(url);
    }

    // ---------- DOM refs ----------
    const startBtn=document.getElementById("startPlanBtn");
    const backHomeBtn=document.getElementById("backHomeBtn");
    const continueBtn=document.getElementById("continueBtn");
    const householdInput=document.getElementById("household");
    const hhError=document.getElementById("hh-error");
    const summary=document.getElementById("summaryText");
    const persistBadge=document.getElementById("persistBadge");
    
    // intensity screen
    const intensityScreen = document.getElementById("screen-intensity");
    const pillHousehold = document.getElementById("pillHousehold");
    const toFirstSubcatBtn = document.getElementById("toFirstSubcatBtn");
    
    // subcategory screen
    const screenSubcat = document.getElementById("screen-subcat");
    const breadcrumb = document.getElementById("breadcrumb");
    const quotaPill = document.getElementById("quotaPill");
    const subcatTitle = document.getElementById("subcatTitle");
    const subcatHint = document.getElementById("subcatHint");
    const grid = document.getElementById("grid");
    const backBtn = document.getElementById("backBtn");
    const nextBtn = document.getElementById("nextBtn");
    const resetBtn = document.getElementById("resetBtn");
    
    // reset modal
    const resetModal = document.getElementById("resetModal");
    const cancelResetBtn = document.getElementById("cancelResetBtn");
    const confirmResetBtn = document.getElementById("confirmResetBtn");

    
    // ---------- BASIC HOUSEHOLD STEP ----------
    function validateHH(){
      let v=Number(householdInput.value);
      let ok=Number.isInteger(v)&&v>=1&&v<=20;
      hhError.classList.toggle("hidden",ok);
      continueBtn.disabled=!ok;
    }
    startBtn.onclick=()=>{ show("screen-household"); validateHH(); };
    backHomeBtn.onclick=()=>{ show("screen-home"); };
    document.getElementById("incBtn").onclick=()=>{householdInput.value=Math.min(Number(householdInput.value)+1,20); validateHH();};
    document.getElementById("decBtn").onclick=()=>{householdInput.value=Math.max(Number(householdInput.value)-1,1); validateHH();};
    householdInput.oninput=validateHH;
    continueBtn.onclick=()=>{
      if(continueBtn.disabled) return;
      state.householdSize=Number(householdInput.value);
      saveState();
      summary.textContent=`We‚Äôll plan this week for ${state.householdSize} ${state.householdSize===1?"person":"people"}.`;
      // Go straight to intensity (SAFE DROP-IN will bind the buttons)
      show("screen-intensity");
    };

    
    // ---------- INTENSITY ----------
    function initIntensity(){
      pillHousehold.textContent = String(state.householdSize||1);
      // attach once
      intensityScreen.querySelectorAll("[data-intensity]").forEach(btn=>{
        btn.onclick = ()=>{
          state.intensity = Number(btn.getAttribute("data-intensity"));
          saveState();
          toFirstSubcatBtn.disabled = false;
        };
      });
      toFirstSubcatBtn.onclick=()=>{
        // start at Vegetables -> Leafy (index 0/0)
        route.catIndex = 0; route.subIndex = 0;
        openCurrentSubcategory();
      };
    }
    

    // --------- INITIALIZE ----------
    function boot(){
      document.getElementById("persistBadge").textContent = "Saved";
      renderDevState();
    
      // Only auto-jump into the subcategory screen if:
      // - user already picked household size
      // - user already picked intensity
      // - AND the router has already defined openCurrentSubcategory
      if (
        state.householdSize &&
        typeof state.intensity === 'number' &&
        typeof window.openCurrentSubcategory === 'function'
      ){
        openCurrentSubcategory();
      }
    }
    boot();

    function setBackgroundArt(url){
      document.body.style.backgroundImage = `url(${url}),
        radial-gradient(1200px 800px at 20% -10%, #f8fbff 10%, #f1f8ff 40%, transparent 60%),
        radial-gradient(900px 600px at 120% 10%, #f7fff9 0%, #f3fbf7 45%, transparent 70%),
        radial-gradient(800px 600px at -10% 110%, #fdf6ff 0%, #faf1ff 45%, transparent 70%)`;
      document.body.style.backgroundSize = "cover, auto, auto, auto";
      document.body.style.backgroundAttachment = "fixed, fixed, fixed, fixed";
    }
    // Example (replace with your asset path):
    // setBackgroundArt("art/dreamy-watercolor-pastels.jpg");

    // ======= STABILIZE NAV (paste near the end of the file) =======
    (function initRouter(){
      // 0) Guard: make sure core globals exist
      window.route = window.route || { catIndex: 0, subIndex: 0 };
      if (!Array.isArray(WALK)) { console.error("WALK is missing"); return; }
      if (typeof show !== "function") { console.error("show(...) missing"); return; }
      if (typeof quotaReached !== "function") { console.error("quotaReached(...) missing"); return; }
    
      // 1) Helpers
      function atLastSubcat(){
        const lastCat = WALK.length - 1;
        const lastSub = WALK[lastCat].subs.length - 1;
        return route.catIndex === lastCat && route.subIndex === lastSub;
      }
      function advanceRoute(){
        const w = WALK[route.catIndex];
        if (route.subIndex < w.subs.length - 1){ route.subIndex++; return true; }
        if (route.catIndex < WALK.length - 1){ route.catIndex++; route.subIndex = 0; return true; }
        return false;
      }
      function retreatRoute(){
        if (route.subIndex > 0){ route.subIndex--; return true; }
        if (route.catIndex > 0){ route.catIndex--; route.subIndex = WALK[route.catIndex].subs.length - 1; return true; }
        return false;
      }

    // 2) Safe open
    window.openCurrentSubcategory = function openCurrentSubcategory(){
      const node = WALK[route.catIndex];
        // Safety reset so page scroll never gets stuck
          document.body.style.overflow = '';
          document.querySelectorAll('.modal').forEach(m => m.classList.add('hidden'));
      const catKey = node.cat;
      const subKey = node.subs[route.subIndex];
      console.log("[open]", { route, catKey, subKey });
    
    const catLabel = LABELS[catKey] || catKey;
    const subLabel = LABELS[subKey] || subKey;

    
      // push labels into the UI
      const t = document.getElementById("subcatTitle");
      if (t) t.textContent = subLabel;
    
      const bc = document.getElementById("breadcrumb");
      if (bc) bc.textContent = `${catLabel} ‚Ä¢ ${subLabel}`;
    
      const hint = document.getElementById("subcatHint");
      if (hint) {
        hint.textContent = (catKey === "center")
          ? "Pick your weekly flavor/health enhancers. These are weekly ‚Äòpicks‚Äô, not strict servings."
          : "Allocate servings for this subcategory. Rounds up; when the quota is reached, cards grey out.";
      }
    
      // render cards for this subcategory
        if (typeof renderSubcategory === "function") {
          renderSubcategory(catKey, subKey);
        } else {
          console.warn("renderSubcategory(...) not defined yet ‚Äî showing screen anyway");
        }
        
        show("screen-subcat");
        
        // popups tied to route
        if (typeof maybeShowDairyOverview === 'function') {
          maybeShowDairyOverview(catKey, subKey);
        }
        if (typeof maybeShowProteinScorecard === 'function') {
          maybeShowProteinScorecard(catKey, subKey);
        }
        if (typeof maybeShowSeafood === 'function') {
          maybeShowSeafood(catKey, subKey);
        }
        if (typeof maybeShowOilsFats === 'function') {
          maybeShowOilsFats(catKey, subKey);
        }
        if (typeof maybeShowFlavorVeg === 'function') {
          maybeShowFlavorVeg(catKey, subKey);
        }
        if (typeof maybeShowBoosters === 'function') {
          maybeShowBoosters(catKey, subKey);
        }

        
        updateNextBtnUI(catKey, subKey);

    };


    
      // 3) UI state for Next button
      window.updateNextBtnUI = function updateNextBtnUI(catKey, subKey){
        const nextBtn = document.getElementById("nextBtn");
        if (!nextBtn) return;
        const canLeave = quotaReached(catKey, subKey);
        nextBtn.textContent = atLastSubcat() ? "See Shopping List ‚Üí" : "Next ‚Üí";
        nextBtn.disabled = !canLeave;
        console.log("[next-btn]", { catKey, subKey, canLeave });
      };
    
      // 4) Wire buttons (exactly once)
      const nextBtn = document.getElementById("nextBtn");
      const backBtn = document.getElementById("backBtn");
      const startBtn = document.getElementById("toFirstSubcatBtn");
    
      if (nextBtn && !nextBtn.dataset.bound){
        nextBtn.dataset.bound = "1";
        nextBtn.onclick = () => {
          const node = WALK[route.catIndex];
          const catKey = node.cat;
          const subKey = node.subs[route.subIndex];
          if (!quotaReached(catKey, subKey)) { console.warn("Quota not reached; staying put"); return; }
          if (advanceRoute()) {
            openCurrentSubcategory();
          } else {
            console.log("[end-of-walk] rendering shopping list");
            if (typeof renderShoppingList === "function") renderShoppingList();
            else show("screen-shopping");
          }
        };
      }
    
      if (backBtn && !backBtn.dataset.bound){
        backBtn.dataset.bound = "1";
        backBtn.onclick = () => {
          if (retreatRoute()) openCurrentSubcategory();
          else show("screen-intensity");
        };
      }
    
      if (startBtn && !startBtn.dataset.bound){
        startBtn.dataset.bound = "1";
        startBtn.disabled = false;  // make sure it‚Äôs clickable
        startBtn.onclick = () => { route = { catIndex: 0, subIndex: 0 }; openCurrentSubcategory(); };
      }
    
      console.log("[router-ready]");
    })();

// ==== Intensity screen wiring (¬º, ¬Ω, 1√ó) ====
    (function () {
      const btns = document.querySelectorAll('#screen-intensity [data-intensity]');
      const startBtn = document.getElementById('toFirstSubcatBtn');
      const hhPill = document.getElementById('pillHousehold');
    
      function selectIntensity(val){
        state.intensity = val;
        saveState();
    
        // toggle visual state
        btns.forEach(b => {
          const v = parseFloat(b.dataset.intensity);
          const on = v === val;
          b.classList.toggle('primary', on);
          b.classList.toggle('ghost', !on);
          b.setAttribute('aria-pressed', on ? 'true' : 'false');
        });
    
        // enable and wire ‚ÄúStart with Vegetables (1.1 Leafy)‚Äù
        if (startBtn) {
          startBtn.disabled = false;
          startBtn.onclick = () => {
            show('screen-subcat');
            renderSubcategory('vegetables','leafy');
          };
        }
      }
    
      // wire clicks (handles 0.25, 0.5, 1 exactly)
      btns.forEach(b => {
        b.addEventListener('click', (e) => {
          e.preventDefault();
          const v = parseFloat(b.dataset.intensity);
          if (!Number.isNaN(v)) selectIntensity(v);
        });
      });

      // show household on the pill
      if (hhPill) hhPill.textContent = (state.householdSize ?? '‚Äî');
    
      // restore previously chosen intensity, if any
      if (typeof state.intensity === 'number') selectIntensity(state.intensity);
    })();

    // ===== SAFE DROP-IN: Intensity + Reset wiring (runs after DOM is ready) =====
    (function () {
      // Run after the page has built the DOM
      window.addEventListener('DOMContentLoaded', () => {
        // ---------- INTENSITY BUTTONS (¬º, ¬Ω, 1√ó) ----------
        const btns = document.querySelectorAll('#screen-intensity [data-intensity]');
        const startBtn = document.getElementById('toFirstSubcatBtn');
        const hhPill = document.getElementById('pillHousehold');
    
        function selectIntensity(val){
          // store choice
          state.intensity = val;
          saveState();
    
          // visual toggle
          btns.forEach(b => {
            const v = parseFloat(b.dataset.intensity);
            const on = v === val;
            b.classList.toggle('primary', on);
            b.classList.toggle('ghost', !on);
            b.setAttribute('aria-pressed', on ? 'true' : 'false');
          });
    
          // enable + wire the "Start with Vegetables (1.1 Leafy)" button
          if (startBtn) {
            startBtn.disabled = false;
            startBtn.onclick = () => {
              show('screen-subcat');
              // first stop in your WALK is Vegetables ‚Üí leafy
              renderSubcategory('vegetables','leafy');
            };
          }
        }
    
        // click handlers for all three buttons, including the 0.5 one
        btns.forEach(b => {
          b.addEventListener('click', (e) => {
            e.preventDefault();
            const v = parseFloat(b.dataset.intensity); // "0.25", "0.5", "1"
            if (!Number.isNaN(v)) selectIntensity(v);
          });
        });
    
        // show household on the pill
        if (hhPill) hhPill.textContent = (state.householdSize ?? '‚Äî');
    
        // restore previously chosen intensity if any
        if (typeof state.intensity === 'number') selectIntensity(state.intensity);
    
    
        // ---------- RESET MODAL (keeps your "Are you sure?" dialog) ----------
        const resetBtn = document.getElementById("resetBtn");
        const resetModal = document.getElementById("resetModal");
        const cancelResetBtn = document.getElementById("cancelResetBtn");
        const confirmResetBtn = document.getElementById("confirmResetBtn");
    
        // open the modal
        if (resetBtn) {
          resetBtn.onclick = () => { if (resetModal) resetModal.classList.remove("hidden"); };
        }
        // cancel closes modal
        if (cancelResetBtn) {
          cancelResetBtn.onclick = () => { if (resetModal) resetModal.classList.add("hidden"); };
        }
        // confirm: clear state, keep your confirmation message, return to home
        if (confirmResetBtn) {
          confirmResetBtn.onclick = () => {
            localStorage.removeItem(STORAGE_KEY);
            state = structuredClone(defaultState);
            saveState();
            if (resetModal) resetModal.classList.add("hidden");
            show("screen-home");
          };
        }
      });
    })();

    </script>

    <script>
      // --- Footer dev toggle (keep existing behavior) ---
      const SHOW_DEV = false; // set true to show dev state footer
      if (!SHOW_DEV) {
        const f = document.querySelector('footer');
        if (f) f.style.display = 'none';
      }
    
      // --- First-run disclaimer modal ---
      (function setupDisclaimer(){
        const MODAL_ID = 'disclaimerAccepted_v1';   // bump suffix if you change wording
        const modal   = document.getElementById('disclaimerModal');
        if (!modal) return; // safety
    
        const cb      = document.getElementById('disclaimerAgree');
        const btnGo   = document.getElementById('disclaimerContinueBtn');
        const btnX    = document.getElementById('disclaimerCancelBtn');
        const btnX2   = document.getElementById('disclaimerX');

        // Dev helper: set to true to force it to show again
        const FORCE_SHOW = true;
        if (FORCE_SHOW) localStorage.removeItem(MODAL_ID);
    
        // Show if not yet accepted
        const need = !localStorage.getItem(MODAL_ID);
        if (need) {
          modal.classList.remove('hidden');
          // prevent background scroll/interaction
          document.body.style.overflow = 'hidden';
          // focus the checkbox for accessibility
          setTimeout(() => cb?.focus(), 0);
        }
    
        // enable Continue only when checked
        cb?.addEventListener('change', () => {
          btnGo.disabled = !cb.checked;
        });
    
        // Continue => remember + close
        btnGo?.addEventListener('click', () => {
          if (!cb.checked) return;
          localStorage.setItem(MODAL_ID, 'true');
          modal.classList.add('hidden');
          document.body.style.overflow = '';
        });
    
        // Close => simple hard exit (you can customize)
        btnX?.addEventListener('click', () => {
          // Option A: navigate away
          window.location.href = 'about:blank';
          // Option B (comment the line above): just hide without storing acceptance
          // modal.classList.add('hidden'); document.body.style.overflow = '';
        });
        
        // Top-right X does the same as Close
        btnX2?.addEventListener('click', () => {
          window.location.href = 'about:blank';
          // Or swap to this if you prefer it to just hide:
          // modal.classList.add('hidden'); document.body.style.overflow = '';
        });

        // Optional: simple focus trap inside the modal
        modal.addEventListener('keydown', (e) => {
          if (e.key !== 'Tab') return;
          const focusables = modal.querySelectorAll('button, input, [href], [tabindex]:not([tabindex="-1"])');
          const list = Array.from(focusables).filter(el => !el.disabled);
          if (!list.length) return;
          const first = list[0], last = list[list.length - 1];
          if (e.shiftKey && document.activeElement === first) { last.focus(); e.preventDefault(); }
          else if (!e.shiftKey && document.activeElement === last) { first.focus(); e.preventDefault(); }
        });
      })();
    </script>

    <script>
    /* ===== Dairy Overview popup ‚Äî shows when Proteins ‚Üí Dairy is opened ===== */
    (function setupDairyOverview(){
      const MODAL_ID = 'dairyOverviewSeen_v1';    // bump suffix if you change wording
      const modal   = document.getElementById('dairyOverviewModal');
      if (!modal) return; // safety
    
      const btnX    = document.getElementById('dairyOverviewX');
      const btnOk   = document.getElementById('dairyOverviewOk');
    
      // Dev toggle: set true to force it to show again while testing
      const FORCE_SHOW = true;
      if (FORCE_SHOW) localStorage.removeItem(MODAL_ID);
    
      function openModal(){
        modal.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
        // try to focus OK for keyboard users
        setTimeout(() => btnOk?.focus(), 0);
      }
      function closeModal(){
        modal.classList.add('hidden');
        document.body.style.overflow = '';
      }
    
      btnX?.addEventListener('click', closeModal);
      btnOk?.addEventListener('click', () => {
        localStorage.setItem(MODAL_ID, 'true');
        closeModal();
      });
    
      // Expose a guard-checked entry point we can call whenever route changes
      window.maybeShowDairyOverview = function(catKey, subKey){
        // Only trigger on Proteins ‚Üí Dairy
        if (catKey !== 'proteins' || subKey !== 'dairy') return;
        // Only if not seen this session
        if (localStorage.getItem(MODAL_ID)) return;
        openModal();
      };
    })();
    </script>

    <script>
    /* ===== Protein Scorecard popup ‚Äî shows when Proteins ‚Üí Complete is opened (once) ===== */
    (function setupProteinScorecard(){
      const MODAL_ID = 'proteinScorecardSeen_v1';
      const modal = document.getElementById('proteinScorecardModal');
      if (!modal) return;
    
      const btnX  = document.getElementById('proteinScorecardX');
      const btnOk = document.getElementById('proteinScorecardOk');
    
      // set to true while testing to see it every load
      const FORCE_SHOW = true;
      if (FORCE_SHOW) localStorage.removeItem(MODAL_ID);
    
      function openModal(){
        modal.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
        setTimeout(() => btnOk?.focus(), 0);
      }
      function closeModal(){
        modal.classList.add('hidden');
        document.body.style.overflow = '';
      }
    
      btnX?.addEventListener('click', closeModal);
      btnOk?.addEventListener('click', () => {
        localStorage.setItem(MODAL_ID, 'true');
        closeModal();
      });
    
      // Expose a guard-checked entry point we can call whenever route changes
      window.maybeShowProteinScorecard = function(catKey, subKey){
        if (catKey !== 'proteins' || subKey !== 'complete') return;
        if (localStorage.getItem(MODAL_ID)) return;
        openModal();
      };
    })();
    </script>

    <script>
    /* ===== SEAFOOD popup ‚Äî shows on Proteins ‚Üí Seafood (once) ===== */
    (function setupSeafood(){
      const MODAL_ID = 'seafoodSeen_v1';
      const modal = document.getElementById('seafoodModal');
      if (!modal) return;
      const btnX = document.getElementById('seafoodX');
      const btnOk = document.getElementById('seafoodOk');
      const FORCE_SHOW = true; if (FORCE_SHOW) localStorage.removeItem(MODAL_ID);
      function open(){ modal.classList.remove('hidden'); document.body.style.overflow='hidden'; setTimeout(()=>btnOk?.focus(),0); }
      function close(){ modal.classList.add('hidden'); document.body.style.overflow=''; }
      btnX?.addEventListener('click', close);
      btnOk?.addEventListener('click', ()=>{ localStorage.setItem(MODAL_ID,'true'); close(); });
      window.maybeShowSeafood = function(catKey, subKey){
        if (catKey !== 'proteins' || subKey !== 'seafood') return;
        if (localStorage.getItem(MODAL_ID)) return;
        open();
      };
    })();
    </script>
    
    <script>
    /* ===== OILS & FATS popup ‚Äî shows on Grains ‚Üí oils_fats (once) ===== */
    (function setupOilsFats(){
      const MODAL_ID = 'oilsFatsSeen_v1';
      const modal = document.getElementById('oilsFatsModal');
      if (!modal) return;
      const btnX = document.getElementById('oilsFatsX');
      const btnOk = document.getElementById('oilsFatsOk');
      const FORCE_SHOW = true; if (FORCE_SHOW) localStorage.removeItem(MODAL_ID);
      function open(){ modal.classList.remove('hidden'); document.body.style.overflow='hidden'; setTimeout(()=>btnOk?.focus(),0); }
      function close(){ modal.classList.add('hidden'); document.body.style.overflow=''; }
      btnX?.addEventListener('click', close);
      btnOk?.addEventListener('click', ()=>{ localStorage.setItem(MODAL_ID,'true'); close(); });
      window.maybeShowOilsFats = function(catKey, subKey){
        if (catKey !== 'grains' || subKey !== 'oils_fats') return;
        if (localStorage.getItem(MODAL_ID)) return;
        open();
      };
    })();
    </script>
    
    <script>
    /* ===== FLAVOR VEGETABLES popup ‚Äî shows on Center ‚Üí flavor_vegetables (once) ===== */
    (function setupFlavorVeg(){
      const MODAL_ID = 'flavorVegSeen_v1';
      const modal = document.getElementById('flavorVegModal');
      if (!modal) return;
      const btnX = document.getElementById('flavorVegX');
      const btnOk = document.getElementById('flavorVegOk');
      const FORCE_SHOW = true; if (FORCE_SHOW) localStorage.removeItem(MODAL_ID);
      function open(){ modal.classList.remove('hidden'); document.body.style.overflow='hidden'; setTimeout(()=>btnOk?.focus(),0); }
      function close(){ modal.classList.add('hidden'); document.body.style.overflow=''; }
      btnX?.addEventListener('click', close);
      btnOk?.addEventListener('click', ()=>{ localStorage.setItem(MODAL_ID,'true'); close(); });
      window.maybeShowFlavorVeg = function(catKey, subKey){
        if (catKey !== 'center' || subKey !== 'flavor_vegetables') return;
        if (localStorage.getItem(MODAL_ID)) return;
        open();
      };
    })();
    </script>
    
    <script>
    /* ===== BOOSTERS popup ‚Äî shows on Center ‚Üí boosters (once) ===== */
    (function setupBoosters(){
      const MODAL_ID = 'boostersSeen_v1';
      const modal = document.getElementById('boostersModal');
      if (!modal) return;
      const btnX = document.getElementById('boostersX');
      const btnOk = document.getElementById('boostersOk');
      const FORCE_SHOW = true; if (FORCE_SHOW) localStorage.removeItem(MODAL_ID);
      function open(){ modal.classList.remove('hidden'); document.body.style.overflow='hidden'; setTimeout(()=>btnOk?.focus(),0); }
      function close(){ modal.classList.add('hidden'); document.body.style.overflow=''; }
      btnX?.addEventListener('click', close);
      btnOk?.addEventListener('click', ()=>{ localStorage.setItem(MODAL_ID,'true'); close(); });
      window.maybeShowBoosters = function(catKey, subKey){
        if (catKey !== 'center' || subKey !== 'boosters') return;
        if (localStorage.getItem(MODAL_ID)) return;
        open();
      };
    })();
    </script>

    <script>
    /* ===== PATCH B (no-render-edit version): inject "More info" buttons ===== */
    (function(){
      const GRID = document.getElementById('grid');
    
      // 1) Add a button to any card that doesn't have one yet
      function injectInfoButtons(){
        if (!GRID) return;
        const cards = GRID.querySelectorAll('.cardlet');
        cards.forEach(card => {
          // Skip if already has a button
          if (card.querySelector('.info-btn')) return;
    
          // Try to read the visible item name from the card
          const nameEl = card.querySelector('.food-name');
          const label = nameEl?.textContent?.trim();
          if (!label) return; // need a name to look up the profile
    
          // Create the tiny "More info" pill button
          const btn = document.createElement('button');
          btn.className = 'btn info-btn';
          btn.dataset.key = label;              // <-- this is what the modal wiring reads
          btn.textContent = 'More info';
    
          // Insert right after the name (or at the end as fallback)
          if (nameEl && nameEl.parentElement === card) {
            nameEl.insertAdjacentElement('afterend', btn);
          } else {
            card.appendChild(btn);
          }
        });
      }
    
      // 2) Run once now (in case the grid was already painted)
      injectInfoButtons();
    
      // 3) Watch for future grid updates and auto-inject
      if (GRID) {
        const mo = new MutationObserver(() => injectInfoButtons());
        mo.observe(GRID, { childList: true, subtree: true });
      }
    
      // 4) Optional: expose a helper so you can call it manually after your render
      window.injectInfoButtons = injectInfoButtons;
    })();
    </script>
    
    <script>
    // Center/top image for the food modal
    function setFoodHero(name){
      const wrap = document.querySelector('.food-hero-wrap');
      const img  = document.getElementById('foodHero');
      if (!wrap || !img) return;
    
      const catKey = (window.CURRENT_CTX && CURRENT_CTX.cat) || null;
      const subKey = (window.CURRENT_CTX && CURRENT_CTX.sub) || null;
    
      let src = null;
      try {
        if (typeof getImgFor === 'function' && catKey && subKey) {
          src = getImgFor(catKey, subKey, name);
        }
      } catch (e) {
        console.warn('[hero] getImgFor error', e);
      }
    
      console.debug('[hero]', { name, catKey, subKey, src });
    
      if (src){
        img.src = src;
        img.alt = name;
        img.style.display = 'block';
        wrap.style.display = 'flex';
      } else {
        img.removeAttribute('src');
        img.style.display = 'none';
        wrap.style.display = 'none';
      }
    }

    // ---- Food profile: tolerant lookup + field filler -------------------------
    (function(){
      // Optional alias map; extend as needed
      window.NAME_ALIASES = Object.assign({
        'soba': 'Buckwheat / Soba',
        'buckwheat soba': 'Buckwheat / Soba',
        'wild rice': 'Wild Rice / Manoomin',
        'tofu': 'Soft/Firm Tofu',
        'plant pork': 'Pig Meat / Plant Pork',
        'plant beef': 'Cow Meat / Plant Beef',
        'plant poultry': 'Chicken / Turkey / Plant Poultry'
      }, window.NAME_ALIASES || {});
    
      function lookupFoodRecord(label){
        const map = (window.FOOD_INFO || {});
        const raw = String(label || '');
        const low = raw.toLowerCase().trim();
    
        // exact
        if (Object.prototype.hasOwnProperty.call(map, raw)) return { key: raw, rec: map[raw] };
    
        // case-insensitive
        const keyCI = Object.keys(map).find(k => k.toLowerCase().trim() === low);
        if (keyCI) return { key: keyCI, rec: map[keyCI] };
    
        // alias
        const hit = Object.entries(window.NAME_ALIASES).find(([alias]) =>
          String(alias).toLowerCase().trim() === low
        );
        if (hit && Object.prototype.hasOwnProperty.call(map, hit[1])) {
          return { key: hit[1], rec: map[hit[1]] };
        }
        return { key: null, rec: null };
      }
    
      // Render all fields into the modal from FOOD_INFO
      window.fillFoodProfile = function fillFoodProfile(name){
        const titleEl = document.getElementById('foodTitle');
        const originEl  = document.getElementById('field-origin');
        const howWrap   = document.getElementById('field-how');
        const howWarnP  = document.getElementById('field-how-warning');
        const howWarnTx = document.getElementById('field-how-warning-text');
        const pairsEl   = document.getElementById('field-pairs');
        const vitaEl    = document.getElementById('field-vitality');
        const storyEl   = document.getElementById('field-stories');
    
        // clear previous content
        if (originEl) originEl.textContent = '';
        if (howWrap)  howWrap.innerHTML = '';
        if (pairsEl)  pairsEl.innerHTML = '';
        if (vitaEl)   vitaEl.innerHTML = '';
        if (storyEl)  storyEl.textContent = '';
        if (howWarnP) howWarnP.style.display = 'none';
        if (howWarnTx) howWarnTx.textContent = '';
    
        const { key: resolved, rec } = lookupFoodRecord(name);
    
        if (titleEl) titleEl.textContent = resolved || name || '‚Äî';
        try { if (window.setFoodHero) setFoodHero(resolved || name); } catch {}
    
        if (!rec){
          if (originEl) originEl.textContent = 'Coming soon.';
          if (howWrap)  howWrap.innerHTML = '<p class="dim">Tips coming soon.</p>';
          return;
        }
    
        // Origin
        if (originEl) originEl.textContent = rec.origin || '‚Äî';
    
        // How (array ‚Üí bullets)
        if (howWrap){
          const steps = Array.isArray(rec.how) ? rec.how : (rec.how ? [rec.how] : []);
          if (steps.length){
            const ul = document.createElement('ul');
            steps.forEach(s => { const li = document.createElement('li'); li.textContent = s; ul.appendChild(li); });
            howWrap.appendChild(ul);
          } else {
            howWrap.innerHTML = '<p class="dim">Tips coming soon.</p>';
          }
        }
    
        // Warning
        const warn = (rec.how_warning || '').trim();
        if (howWarnP){
          if (warn){
            howWarnP.style.display = '';
            if (howWarnTx) howWarnTx.textContent = warn;
          }else{
            howWarnP.style.display = 'none';
          }
        }
    
        // Pairs well with
        if (pairsEl){
          (Array.isArray(rec.pairs) ? rec.pairs : []).forEach(p => {
            const li = document.createElement('li');
            li.textContent = p;
            pairsEl.appendChild(li);
          });
        }
    
        // Vitality
        if (vitaEl){
          (Array.isArray(rec.vitality) ? rec.vitality : []).forEach(v => {
            const li = document.createElement('li');
            li.textContent = v;
            vitaEl.appendChild(li);
          });
        }
    
        // Sacred story
        if (storyEl) storyEl.textContent = rec.stories || '';
      };
    })();

    </script>
    
    <script>
    /* ===== Food Profile Modal: open/close wiring ===== */
    (function(){
      const modal = document.getElementById('foodModal');
      if (!modal) return;
    
      const btnClose = document.getElementById('foodCloseBtn');
      const titleEl  = document.getElementById('foodTitle');
    
    function openFoodModal(name){
      try { window.fillFoodProfile(name); } catch {}
      const modal = document.getElementById('foodModal');
      if (modal){
        modal.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
      }
    }

    
      function closeFoodModal(){
        modal.classList.add('hidden');
        document.body.style.overflow = '';
      }
    
      // expose globally so other code can call it if needed
      window.openFoodModal = openFoodModal;
    
      // delegate clicks from any ‚ÄúMore info‚Äù pill we injected
      document.addEventListener('click', (e) => {
        const btn = e.target.closest('button.info-btn');
        if (!btn) return;
        const name = btn.dataset.key || btn.textContent || '‚Äî';
        openFoodModal(name);
      });
    
      // close handlers
      btnClose?.addEventListener('click', closeFoodModal);
      modal.addEventListener('click', (e) => {
        if (e.target === modal) closeFoodModal(); // backdrop click
      });
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && !modal.classList.contains('hidden')) closeFoodModal();
      });
    })();
    </script>

    </body>
    </html>
